<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 04:47:03 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="../../../../../favicon-48x48.cbbd161b.png"><link rel="apple-touch-icon" href="../../../../../apple-touch-icon.6803c6f0.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="../../../../../manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><title>MediaDevices.getUserMedia()</title><link rel="alternate" title="MediaDevices.getUserMedia()" href="https://developer.mozilla.org/es/docs/Web/API/MediaDevices/getUserMedia" hreflang="es"><link rel="alternate" title="MediaDevices.getUserMedia()" href="https://developer.mozilla.org/fr/docs/Web/API/MediaDevices/getUserMedia" hreflang="fr"><link rel="alternate" title="MediaDevices.getUserMedia()" href="https://developer.mozilla.org/ja/docs/Web/API/MediaDevices/getUserMedia" hreflang="ja"><link rel="alternate" title="MediaDevices.getUserMedia()" href="https://developer.mozilla.org/ko/docs/Web/API/MediaDevices/getUserMedia" hreflang="ko"><link rel="alternate" title="MediaDevices.getUserMedia()" href="https://developer.mozilla.org/ru/docs/Web/API/MediaDevices/getUserMedia" hreflang="ru"><link rel="alternate" title="MediaDevices.getUserMedia()" href="https://developer.mozilla.org/zh-CN/docs/Web/API/MediaDevices/getUserMedia" hreflang="zh"><link rel="alternate" title="MediaDevices.getUserMedia()" href="getUserMedia.html" hreflang="en"><meta name="robots" content="index, follow"><meta name="description" content="The MediaDevices.getUserMedia() method prompts the user for permission to use a media input which produces a MediaStream with tracks containing the requested types of media."><meta property="og:url" content="getUserMedia.html"><meta property="og:title" content="MediaDevices.getUserMedia() - Web APIs | MDN"><meta property="og:locale" content="en-US"><meta property="og:description" content="The MediaDevices.getUserMedia() method prompts the user for permission to use a media input which produces a MediaStream with tracks containing the requested types of media."><meta property="og:image" content="../../../../../mdn-social-share.cd6c4a5a.png"><meta property="twitter:card" content="summary_large_image"><link rel="canonical" href="getUserMedia.html"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.mdn-cta-container,.on-github,.page-footer,.sidebar,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><script src="../../../../../static/js/ga.js" defer=""></script><script defer="defer" src="../../../../../static/js/main.5c9d40d0.js"></script><link href="../../../../../static/css/main.7d378400.css" rel="stylesheet"></head><body><script>document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0});const c={light:"#ffffff",dark:"#1b1b1b"};if(window&&document.documentElement)try{const t=window.localStorage.getItem("theme");t&&(document.documentElement.className=t,document.documentElement.style.backgroundColor=c[t])}catch(t){console.warn("Unable to read theme from localStorage",t)}</script><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#top-nav-search-input">Skip to search</a></li><li><a id="skip-select-language" href="#languages-switcher-button">Skip to select language</a></li></ul><div class="page-wrapper  category-api document-page"><div class="main-document-header-container"><header class="main-document-header-container top-navigation 
      
      "><div class="container "><div class="top-navigation-wrap"><a href="https://developer.mozilla.org/en-US/" class="logo" aria-label="MDN homepage"><svg id="mdn-docs-logo" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 694.9 104.4" style="enable-background:new 0 0 694.9 104.4" xml:space="preserve" role="img"><title>MDN Web Docs</title><style>.logo-m{fill:var(--text-link)}</style><g class="logo-m"><path d="M40.3 0 11.7 92.1H0L28.5 0h11.8zM50.7 0v92.1H40.3V0h10.4zM91 0 62.5 92.1H50.8L79.3 0H91zM101.4 0v92.1H91V0h10.4z"></path></g><path class="logo-m" d="M627.9 95.6h67v8.8h-67v-8.8z"></path><g style="fill:var(--text-primary)"><path d="M367 42h-4l-10.7 30.8h-5.5l-10.8-26h-.4l-10.5 26h-5.2L308.7 42h-3.8v-5.6H323V42h-6.5l6.8 20.4h.4l10.3-26h4.7l11.2 26h.5l5.7-20.3h-6.2v-5.6H367V42zM401.9 62c-.4 3.2-2 5.9-4.7 8.2-2.8 2.3-6.5 3.4-11.3 3.4-5.4 0-9.7-1.6-13.1-4.7-3.3-3.2-5-7.7-5-13.7 0-5.7 1.6-10.3 4.7-14s7.4-5.5 12.9-5.5c5.1 0 9.1 1.6 11.9 4.7s4.3 6.9 4.3 11.3c0 1.5-.2 3-.5 4.7h-25.6c.3 7.7 4 11.6 10.9 11.6 2.9 0 5.1-.7 6.5-2 1.5-1.4 2.5-3 3-4.9l6 .9zM394 51.3c.2-2.4-.4-4.7-1.8-6.9s-3.8-3.3-7-3.3c-3.1 0-5.3 1-6.9 3-1.5 2-2.5 4.4-2.8 7.2H394zM445 53.7c0 5-1.3 9.5-4 13.7s-6.9 6.2-12.7 6.2c-6 0-10.3-2.2-12.7-6.7-.1.4-.2 1.4-.4 2.9s-.3 2.5-.4 2.9h-7.3c.3-1.7.6-3.5.8-5.3.3-1.8.4-3.7.4-5.5V22.3h-6v-5.6H416v27c1.1-2.2 2.7-4.1 4.7-5.7 2-1.6 4.8-2.4 8.4-2.4 4.6 0 8.4 1.6 11.4 4.7 3 3.2 4.5 7.6 4.5 13.4zm-7.7.6c0-4.2-1-7.4-3-9.5-2-2.2-4.4-3.3-7.4-3.3-3.4 0-6 1.2-8 3.7-1.9 2.4-2.9 5-3 7.7V57c0 3 1 5.6 3 7.7s4.5 3.1 7.6 3.1c3.6 0 6.3-1.3 8.1-3.9 1.8-2.7 2.7-5.9 2.7-9.6zM506.5 72.8h-13.2v-7.2c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2 5.7 0 9.8 2.2 12.3 6.5V22.3h-8.6v-5.6h15.8v50.6h6v5.5zM493.2 56v-4.4c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zM546.3 54.6c0 5.6-1.8 10.2-5.3 13.7s-8.2 5.3-13.9 5.3-10.1-1.7-13.4-5.1c-3.3-3.4-5-7.9-5-13.5 0-5.3 1.6-9.9 4.7-13.7 3.2-3.8 7.9-5.7 14.2-5.7s11 1.9 14.1 5.7c3 3.7 4.6 8.1 4.6 13.3zm-7.7-.2c0-4-1-7.2-3-9.5s-4.8-3.5-8.2-3.5c-3.6 0-6.4 1.2-8.3 3.7s-2.9 5.6-2.9 9.5c0 3.7.9 6.8 2.8 9.4 1.9 2.6 4.6 3.9 8.3 3.9 3.6 0 6.4-1.3 8.4-3.8 1.9-2.6 2.9-5.8 2.9-9.7zM583.6 60.2c-.4 3.2-1.9 6.3-4.4 9.1-2.5 2.9-6.4 4.3-11.8 4.3-5.2 0-9.4-1.6-12.6-4.8-3.2-3.2-4.8-7.7-4.8-13.7 0-5.5 1.6-10.1 4.7-13.9 3.2-3.8 7.6-5.7 13.2-5.7 2.3 0 4.6.3 6.7.8 2.2.5 4.2 1.5 6.2 2.9l1.5 9.5-5.9.7-1.3-6.1c-2.1-1.2-4.5-1.8-7.2-1.8-3.5 0-6.1 1.2-7.7 3.7-1.7 2.5-2.5 5.7-2.5 9.6 0 4.1.9 7.3 2.7 9.5 1.8 2.3 4.4 3.4 7.8 3.4 5.2 0 8.2-2.9 9.2-8.8l6.2 1.3zM618.3 62.1c0 3.6-1.5 6.5-4.6 8.5s-7 3-11.7 3c-5.7 0-10.6-1.2-14.6-3.6l1.2-8.8 5.7.6-.2 4.7c1.1.5 2.3.9 3.6 1.1s2.6.3 3.9.3c2.4 0 4.5-.4 6.5-1.3 1.9-.9 2.9-2.2 2.9-4.1 0-1.8-.8-3.1-2.3-3.8s-3.5-1.3-5.8-1.7-4.6-.9-6.9-1.4c-2.3-.6-4.2-1.6-5.7-2.9-1.6-1.4-2.3-3.5-2.3-6.3 0-4.1 1.5-6.9 4.6-8.5s6.4-2.4 9.9-2.4c2.6 0 5 .3 7.2.9 2.2.6 4.3 1.4 6.1 2.4l.8 8.8-5.8.7-.8-5.7c-2.3-1-4.7-1.6-7.2-1.6-2.1 0-3.7.4-5.1 1.1-1.3.8-2 2-2 3.8 0 1.7.8 2.9 2.3 3.6 1.5.7 3.4 1.2 5.7 1.6 2.2.4 4.5.8 6.7 1.4 2.2.6 4.1 1.6 5.7 3 1.4 1.6 2.2 3.7 2.2 6.6zM197.6 73.2h-17.1v-5.5h3.8V51.9c0-3.7-.7-6.3-2.1-7.9-1.4-1.6-3.3-2.3-5.7-2.3-3.2 0-5.6 1.1-7.2 3.4s-2.4 4.6-2.5 6.9v15.6h6v5.5h-17.1v-5.5h3.8V51.9c0-3.8-.7-6.4-2.1-7.9-1.4-1.5-3.3-2.3-5.6-2.3-3.2 0-5.5 1.1-7.2 3.3-1.6 2.2-2.4 4.5-2.5 6.9v15.8h6.9v5.5h-20.2v-5.5h6V42.4h-6.1v-5.6h13.4v6.4c1.2-2.1 2.7-3.8 4.7-5.2 2-1.3 4.4-2 7.3-2s5.3.7 7.5 2.1c2.2 1.4 3.7 3.5 4.5 6.4 1.1-2.5 2.7-4.5 4.9-6.1s4.8-2.4 7.9-2.4c3.5 0 6.5 1.1 8.9 3.3s3.7 5.6 3.7 10.2v18.2h6.1v5.5zm42.5 0h-13.2V66c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2s9.8 2.2 12.3 6.5V22.7h-8.6v-5.6h15.8v50.6h6v5.5zm-13.3-16.8V52c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm61.5 16.8H269v-5.5h6V51.9c0-3.7-.7-6.3-2.2-7.9-1.4-1.6-3.4-2.3-5.7-2.3-3.1 0-5.6 1-7.4 3s-2.8 4.4-2.9 7v15.9h6v5.5h-19.3v-5.5h6V42.4h-6.2v-5.6h13.6V43c2.6-4.6 6.8-6.9 12.7-6.9 3.6 0 6.7 1.1 9.2 3.3s3.7 5.6 3.7 10.2v18.2h6v5.4h-.2z"></path></g></svg></a><button title="Open main menu" type="button" class="button action has-icon main-menu-toggle" aria-haspopup="menu" aria-label="Open main menu" aria-expanded="false"><span class="button-wrap"><span class="icon icon-menu "></span><span class="visually-hidden">Open main menu</span></span></button></div><div class="top-navigation-main"><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button type="button" id="references-button" class="top-level-entry menu-toggle" aria-controls="references-menu" aria-expanded="false">References</button><a href="https://developer.mozilla.org/en-US/docs/Web" class="top-level-entry">References</a><ul id="references-menu" class="submenu references hidden inline-submenu-lg" aria-labelledby="references-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Structure of content on the web</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Code used to describe document style</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">General-purpose scripting language</p></div></a></li><li class="http-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP" class="submenu-item "><div class="submenu-icon http"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTTP</div><p class="submenu-item-description">Protocol for transmitting web resources</p></div></a></li><li class="apis-link-container "><a href="../../API.html" class="submenu-item "><div class="submenu-icon apis"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web APIs</div><p class="submenu-item-description">Interfaces for building web applications</p></div></a></li><li class="apis-link-container "><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Extensions</div><p class="submenu-item-description">Developing extensions for web browsers</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="guides-button" class="top-level-entry menu-toggle" aria-controls="guides-menu" aria-expanded="false">Guides</button><a href="https://developer.mozilla.org/en-US/docs/Learn" class="top-level-entry">Guides</a><ul id="guides-menu" class="submenu guides hidden inline-submenu-lg" aria-labelledby="guides-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Learn to structure web content with HTML</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Learn to style content using CSS</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">Learn to run scripts in the browser</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Accessibility</div><p class="submenu-item-description">Learn to make the web accessible to all</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="mdn-plus-button" class="top-level-entry menu-toggle" aria-controls="mdn-plus-menu" aria-expanded="false">MDN Plus</button><a href="https://developer.mozilla.org/en-US/plus" class="top-level-entry">MDN Plus</a><ul id="mdn-plus-menu" class="submenu mdn-plus hidden inline-submenu-lg" aria-labelledby="mdn-plus-button"><li class=" "><a href="https://developer.mozilla.org/en-US/plus" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview</div><p class="submenu-item-description">A customized MDN experience</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/updates" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Updates</div><p class="submenu-item-description">All browser compatibility updates at a glance</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/features/overview" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Documentation</div><p class="submenu-item-description">Learn how to use MDN Plus</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/faq" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">FAQ</div><p class="submenu-item-description">Frequently asked questions about MDN Plus</p></div></a></li></ul></li></ul></nav><div class="header-search"><form action="https://developer.mozilla.org/en-US/search" role="search" aria-haspopup="listbox" aria-owns="top-nav-search-menu" aria-expanded="false" class="search-form search-widget" id="top-nav-search-form"><label id="top-nav-search-label" for="top-nav-search-input" class="visually-hidden">Search MDN</label><input id="top-nav-search-input" aria-autocomplete="list" aria-controls="top-nav-search-menu" aria-labelledby="top-nav-search-label" autocomplete="off" type="search" class="search-input-field" name="q" placeholder="   " required="" value=""><button type="button" class="button action has-icon clear-search-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear search input</span></span></button><button type="submit" class="button action has-icon search-button"><span class="button-wrap"><span class="icon icon-search "></span><span class="visually-hidden">Search</span></span></button><div id="top-nav-search-menu" role="listbox" aria-labelledby="top-nav-search-label"></div></form></div><div class="theme-switcher-menu"><button type="button" class="button action has-icon theme-switcher-menu small" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-theme-os-default "></span>Theme</span></button></div><ul class="auth-container"><li><a href="https://developer.mozilla.org/users/fxa/login/authenticate/?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaDevices%2FgetUserMedia" class="signin-link" rel="nofollow">Already a subscriber?</a></li><li><a class="button primary mdn-plus-subscribe-link" href="https://developer.mozilla.org/en-US/plus"><span class="button-wrap">Get MDN Plus</span></a></li></ul></div></div></header><div class="article-actions-container"><div class="container"><button type="button" class="button action has-icon sidebar-button" aria-label="Expand sidebar" aria-expanded="false" aria-controls="sidebar-quicklinks"><span class="button-wrap"><span class="icon icon-sidebar "></span></span></button><nav class="breadcrumbs-container" aria-label="Breadcrumb"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="https://developer.mozilla.org/en-US/docs/Web"><span property="name">References</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../../API.html"><span property="name">Web APIs</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../MediaDevices.html"><span property="name">MediaDevices</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="getUserMedia.html"><span property="name">MediaDevices.getUserMedia()</span></a><meta property="position" content="4"></li></ol></nav><div class="article-actions"><button type="button" class="button action has-icon article-actions-toggle" aria-label="Article actions"><span class="button-wrap"><span class="icon icon-ellipses "></span><span class="article-actions-dialog-heading">Article Actions</span></span></button><ul class="article-actions-entries"><li class="article-actions-entry"><div class="languages-switcher-menu open-on-focus-within"><button id="languages-switcher-button" type="button" class="button action small has-icon languages-switcher-menu" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-language "></span>English (US)</span></button></div></li></ul></div></div></div></div><div class="main-wrapper"><aside id="sidebar-quicklinks" class="sidebar"><button type="button" class="button action backdrop" aria-label="Collapse sidebar"><span class="button-wrap"></span></button><nav aria-label="Related Topics" class="sidebar-inner"><div class="in-nav-toc"><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#syntax">Syntax</a></li><li class="document-toc-item "><a class="document-toc-link" href="#privacy_and_security">Privacy and security</a></li><li class="document-toc-item "><a class="document-toc-link" href="#examples">Examples</a></li><li class="document-toc-item "><a class="document-toc-link" href="#specifications">Specifications</a></li><li class="document-toc-item "><a class="document-toc-link" href="#browser_compatibility">Browser compatibility</a></li><li class="document-toc-item "><a class="document-toc-link" href="#see_also">See also</a></li></ul></section></div></div><div><ol><li><strong><a href="../Media_Capture_and_Streams_API.html">Media Capture and Streams API</a></strong></li><li><strong><a href="../MediaDevices.html"><code>MediaDevices</code></a></strong></li><li class="toggle"><details open=""><summary>Instance methods</summary><ol><li><a href="enumerateDevices.html"><code>enumerateDevices()</code></a></li><li><a href="getDisplayMedia.html"><code>getDisplayMedia()</code></a></li><li><a href="getSupportedConstraints.html"><code>getSupportedConstraints()</code></a></li><li><em><code>getUserMedia()</code> </em></li><li><a href="selectAudioOutput.html"><code>selectAudioOutput()</code></a><abbr class="icon icon-experimental" title="Expérimental. Le comportement attendu pourrait évoluer à l'avenir.">
    <span class="visually-hidden">Expérimental</span>
</abbr></li></ol></details></li><li class="toggle"><details open=""><summary>Events</summary><ol><li><a href="devicechange_event.html"><code>devicechange</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Inheritance:</summary><ol><li><a href="../EventTarget.html"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Related pages for Media Capture and Streams</summary><ol><li><a href="../CanvasCaptureMediaStreamTrack.html"><code>CanvasCaptureMediaStreamTrack</code></a></li><li><a href="../HTMLCanvasElement/captureStream.html"><code>HTMLCanvasElement.captureStream()</code></a></li><li><em><a href="getUserMedia.html" aria-current="page"><code>MediaDevices.getUserMedia()</code></a></em></li><li><a href="../MediaStream.html"><code>MediaStream</code></a></li><li><a href="../MediaStreamTrack.html"><code>MediaStreamTrack</code></a></li><li><a href="../MediaStreamTrackEvent.html"><code>MediaStreamTrackEvent</code></a></li><li><a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!"><code>MediaTrackCapabilities</code></a></li><li><a href="../MediaTrackConstraints.html"><code>MediaTrackConstraints</code></a></li><li><a href="../MediaTrackSettings.html"><code>MediaTrackSettings</code></a></li><li><a href="../MediaTrackSupportedConstraints.html"><code>MediaTrackSupportedConstraints</code></a></li><li><a href="../Navigator/mediaDevices.html"><code>Navigator.mediaDevices</code></a></li></ol></details></li></ol></div></nav></aside><aside class="toc"><nav><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#syntax">Syntax</a></li><li class="document-toc-item "><a class="document-toc-link" href="#privacy_and_security">Privacy and security</a></li><li class="document-toc-item "><a class="document-toc-link" href="#examples">Examples</a></li><li class="document-toc-item "><a class="document-toc-link" href="#specifications">Specifications</a></li><li class="document-toc-item "><a class="document-toc-link" href="#browser_compatibility">Browser compatibility</a></li><li class="document-toc-item "><a class="document-toc-link" href="#see_also">See also</a></li></ul></section></div></nav></aside><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><h1>MediaDevices.getUserMedia()</h1><div class="section-content"><div class="notecard secure" id="sect1"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div>
<p>The <a href="../MediaDevices.html"><code>MediaDevices</code></a><strong><code>.getUserMedia()</code></strong> method prompts the user for permission to use a media input which produces a <a href="../MediaStream.html"><code>MediaStream</code></a> with tracks containing the requested types of media.</p>
<p>That stream can include, for example, a video track (produced by either a hardware or virtual video source such as a camera, video recording device, screen sharing service, and so forth), an audio track (similarly, produced by a physical or virtual audio source like a microphone, A/D converter, or the like), and possibly other track types.</p>
<p>
  It returns a <a href="../../JavaScript/Reference/Global_Objects/Promise.html"><code>Promise</code></a> that resolves to a <a href="../MediaStream.html"><code>MediaStream</code></a> object.
  If the user denies permission, or matching media is not available, then the promise is rejected with <code>NotAllowedError</code> or <code>NotFoundError</code> <a href="../DOMException.html"><code>DOMException</code></a> respectively.
</p>
<div class="notecard note" id="sect2">
  <p><strong>Note:</strong> It's possible for the returned promise to <em>neither</em> resolve nor reject, as the user is not required to make a choice at all and may ignore the request.</p>
</div>
<p>Generally, you will access the <a href="../MediaDevices.html"><code>MediaDevices</code></a> singleton object using <a href="../Navigator/mediaDevices.html"><code>navigator.mediaDevices</code></a>, like this:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getMedia</span><span class="token punctuation">(</span><span class="token parameter">constraints</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> stream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    stream <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>mediaDevices<span class="token punctuation">.</span><span class="token function">getUserMedia</span><span class="token punctuation">(</span>constraints<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* use the stream */</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* handle the error */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Similarly, using the raw promises directly, the code looks like this:</p>
<div class="code-example"><pre class="brush: js notranslate"><code>navigator<span class="token punctuation">.</span>mediaDevices<span class="token punctuation">.</span><span class="token function">getUserMedia</span><span class="token punctuation">(</span>constraints<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">stream</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* use the stream */</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* handle the error */</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="notecard note" id="sect3">
  <p>
    <strong>Note:</strong> If the current document isn't loaded securely,
    <code>navigator.mediaDevices</code> will be <code>undefined</code>, and you cannot use
    <code>getUserMedia()</code>. See <a href="#security">Security</a> for more information on this and
    other security issues related to using <code>getUserMedia()</code>.
  </p>
</div></div><section aria-labelledby="syntax"><a class="dashAnchor" name="//apple_ref/Section/Syntax"></a><h2 id="syntax"><a href="#syntax">Syntax</a></h2><div class="section-content"><div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span>constraints<span class="token punctuation">)</span>
</code></pre></div></div></section><section aria-labelledby="parameters"><h3 id="parameters"><a href="#parameters">Parameters</a></h3><div class="section-content"><dl>
  <dt id="constraints"><code>constraints</code></dt>
  <dd>
    <p>
      An object specifying the types of media to
      request, along with any requirements for each type.
    </p>
    <p>
      The <code>constraints</code> parameter is an object with two members: <code>video</code> and
      <code>audio</code>, describing the media types requested. Either or both must be
      specified. If the browser cannot find all media tracks with the specified types that
      meet the constraints given, then the returned promise is rejected with
      <code>NotFoundError</code> <a href="../DOMException.html"><code>DOMException</code></a>.
    </p>
    <p>The following requests both audio and video without any specific requirements:</p>
    <div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">audio</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
    <p>
      If <code>true</code> is specified for a media type, the resulting stream is
      <em>required</em> to have that type of track in it. If one cannot be included for
      any reason, the call to <code>getUserMedia()</code> will result in an error.
    </p>
    <p>
      While information about a user's cameras and microphones are inaccessible for
      privacy reasons, an application can request the camera and microphone capabilities
      it needs and wants, using additional constraints. The following expresses a
      preference for 1280x720 camera resolution:
    </p>
    <div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">audio</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">1280</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">720</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
    <p>
      The browser will try to honour this, but may return other
      resolutions if an exact match is not available, or the user overrides it.
    </p>
    <p>
      To <em>require</em> a capability, use the keywords <code>min</code>,
      <code>max</code>, or <code>exact</code> (a.k.a. <code>min === max</code>). The
      following demands a minimum resolution of 1280x720:
    </p>
    <div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">audio</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">1280</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">720</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
    <p>
      If no camera exists with this resolution or higher, then the returned promise will
      be rejected with <code>OverconstrainedError</code>, and the user will not be
      prompted.
    </p>
    <p>
      The reason for the difference in behavior is that the keywords <code>min</code>,
      <code>max</code>, and <code>exact</code> are inherently mandatory. Whereas plain
      values and a keyword called <code>ideal</code> are not. Here's a full example:
    </p>
    <div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">audio</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token literal-property property">ideal</span><span class="token operator">:</span> <span class="token number">1280</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1920</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">576</span><span class="token punctuation">,</span> <span class="token literal-property property">ideal</span><span class="token operator">:</span> <span class="token number">720</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1080</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
    <p>
      An <code>ideal</code> value, when used, has gravity, which means that the browser
      will try to find the setting (and camera, if you have more than one), with the
      smallest <a href="https://w3c.github.io/mediacapture-main/#dfn-fitness-distance" class="external" target="_blank">fitness distance</a> from the ideal values given.
    </p>
    <p>
      Plain values are inherently ideal, which means that the first of our resolution
      examples above could have been written like this:
    </p>
    <div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">audio</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">ideal</span><span class="token operator">:</span> <span class="token number">1280</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">ideal</span><span class="token operator">:</span> <span class="token number">720</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
    <p>
      Not all constraints are numbers. For example, on mobile devices, the following will
      prefer the front camera (if one is available) over the rear one:
    </p>
    <div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">audio</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">facingMode</span><span class="token operator">:</span> <span class="token string">"user"</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
    <p>To <em>require</em> the rear camera, use:</p>
    <div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">audio</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">facingMode</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">exact</span><span class="token operator">:</span> <span class="token string">"environment"</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
    <p>
      Another non-number constraint is the <code>deviceId</code> constraint. If you have
      a <code>deviceId</code> from <a href="enumerateDevices.html"><code>mediaDevices.enumerateDevices()</code></a>, you can
      use it to request a specific device:
    </p>
    <div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">deviceId</span><span class="token operator">:</span> myPreferredCameraDeviceId
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
    <p>
      The above will return the camera you requested, or a different camera if that
      specific camera is no longer available. Again, to <em>require</em> the specific
      camera, you would use:
    </p>
    <div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">deviceId</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">exact</span><span class="token operator">:</span> myExactCameraOrBustDeviceId
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
  </dd>
</dl></div></section><section aria-labelledby="return_value"><h3 id="return_value"><a href="#return_value">Return value</a></h3><div class="section-content"><p>
  A <a href="../../JavaScript/Reference/Global_Objects/Promise.html"><code>Promise</code></a> whose fulfillment handler receives a <a href="../MediaStream.html"><code>MediaStream</code></a>
  object when the requested media has successfully been obtained.
</p></div></section><section aria-labelledby="exceptions"><h3 id="exceptions"><a href="#exceptions">Exceptions</a></h3><div class="section-content"><dl>
  <dt id="aborterror"><code>AbortError</code> <a href="../DOMException.html"><code>DOMException</code></a></dt>
  <dd>
    <p>
      Although the user and operating system both granted access to the hardware device,
      and no hardware issues occurred that would cause a <code>NotReadableError</code> <a href="../DOMException.html"><code>DOMException</code></a>, throw if some
      problem occurred which prevented the device from being used.
    </p>
  </dd>
  <dt id="notallowederror"><code>NotAllowedError</code> <a href="../DOMException.html"><code>DOMException</code></a></dt>
  <dd>
    <p>
      Thrown if one or more of the requested source devices cannot be used at this time. This will
      happen if the browsing context is insecure (that is, the page was loaded using HTTP
      rather than HTTPS). It also happens if the user has specified that the current
      browsing instance is not permitted access to the device, the user has denied access
      for the current session, or the user has denied all access to user media devices
      globally. On browsers that support managing media permissions with <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy">Permissions Policy</a>, this error is
      returned if Permissions Policy is not configured to allow access to the input source(s).
    </p>
    <div class="notecard note" id="sect4">
      <p>
        <strong>Note:</strong> Older versions of the specification used <code>SecurityError</code>
        for this instead; <code>SecurityError</code> has taken on a new meaning.
      </p>
    </div>
  </dd>
  <dt id="notfounderror"><code>NotFoundError</code> <a href="../DOMException.html"><code>DOMException</code></a></dt>
  <dd>
    <p>Thrown if no media tracks of the type specified were found that satisfy the given constraints.</p>
  </dd>
  <dt id="notreadableerror"><code>NotReadableError</code> <a href="../DOMException.html"><code>DOMException</code></a></dt>
  <dd>
    <p>
      Thrown if, although the user granted permission to use the matching devices, a hardware error
      occurred at the operating system, browser, or Web page level which prevented access to
      the device.
    </p>
  </dd>
  <dt id="overconstrainederror"><code>OverconstrainedError</code> <a href="../DOMException.html"><code>DOMException</code></a></dt>
  <dd>
    <p>
      Thrown if the specified constraints resulted in no candidate devices which met the criteria
      requested. The error is an object of type <code>OverconstrainedError</code>, and has a
      <code>constraint</code> property whose string value is the name of a constraint which
      was impossible to meet, and a <code>message</code> property containing a
      human-readable string explaining the problem.
    </p>
    <div class="notecard note" id="sect5">
      <p>
        <strong>Note:</strong> Because this error can occur even when the user has not yet granted
        permission to use the underlying device, it can potentially be used as a
        fingerprinting surface.
      </p>
    </div>
  </dd>
  <dt id="securityerror"><code>SecurityError</code> <a href="../DOMException.html"><code>DOMException</code></a></dt>
  <dd>
    <p>
      Thrown if user media support is disabled on the <a href="../Document.html"><code>Document</code></a> on which
      <code>getUserMedia()</code> was called. The mechanism by which user media support is
      enabled and disabled is left up to the individual user agent.
    </p>
  </dd>
  <dt id="typeerror"><a href="../../JavaScript/Reference/Global_Objects/TypeError.html"><code>TypeError</code></a></dt>
  <dd>
    <p>
      Thrown if the list of constraints specified is empty, or has all constraints set to
      <code>false</code>. This can also happen if you try to call
      <code>getUserMedia()</code> in an insecure context, since
      <a href="../Navigator/mediaDevices.html"><code>navigator.mediaDevices</code></a> is <code>undefined</code> in an insecure
      context.
    </p>
  </dd>
</dl></div></section><section aria-labelledby="privacy_and_security"><a class="dashAnchor" name="//apple_ref/Section/Privacy%20and%20security"></a><h2 id="privacy_and_security"><a href="#privacy_and_security">Privacy and security</a></h2><div class="section-content"><p>
  As an API that may involve significant privacy concerns, <code>getUserMedia()</code>'s
  specification lays out a wide array of privacy and security requirements that browsers
  are obligated to meet.
</p>
<p>
  <code>getUserMedia()</code> is a powerful feature that can only be used in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a>; in insecure
  contexts, <code>navigator.mediaDevices</code> is <code>undefined</code>, preventing
  access to <code>getUserMedia()</code>. A secure context is, in short, a page loaded
  using HTTPS or the <code>file:///</code> URL scheme, or a page loaded from
  <code>localhost</code>.
</p>
<p>
  In addition, user permission is always required to access the user's audio and video
  inputs. Only a window's top-level document context for a valid origin can even request
  permission to use <code>getUserMedia()</code>, unless the top-level context expressly
  grants permission for a given <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> to do so using <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy">Permissions Policy</a>. Otherwise, the user
  will never even be asked for permission to use the input devices.
</p>
<p>
  For additional details on these requirements and rules, how they are reflected in the
  context in which your code is running, and about how browsers manage user privacy and
  security issues, read on.
</p></div></section><section aria-labelledby="user_privacy"><h3 id="user_privacy"><a href="#user_privacy">User privacy</a></h3><div class="section-content"><p>
  As an API that may involve significant privacy concerns, <code>getUserMedia()</code> is
  held by the specification to very specific requirements for user notification and
  permission management. First, <code>getUserMedia()</code> must always get user
  permission before opening any media gathering input such as a webcam or microphone.
  Browsers may offer a once-per-domain permission feature, but they must ask at least the
  first time, and the user must specifically grant ongoing permission if they choose to do
  so.
</p>
<p>
  Of equal importance are the rules around notification. Browsers are required to display
  an indicator that shows that a camera or microphone is in use, above and beyond any
  hardware indicator that may exist. They must also show an indicator that permission has
  been granted to use a device for input, even if the device is not actively recording at
  the moment.
</p>
<p>
  For example in Firefox, the URL bar displays a pulsing red icon to indicate that
  recording is underway. The icon is gray if the permission is in place but recording is
  not currently underway. The device's physical light is used to indicate whether or not
  recording is currently active. If you've muted your camera (so-called "facemuting"),
  your camera's activity light goes out to indicate that the camera is not actively
  recording you, without discarding the permission to resume using the camera once muting
  is over.
</p></div></section><section aria-labelledby="security"><h3 id="security"><a href="#security">Security</a></h3><div class="section-content"><p>There are a number of ways security management and controls in a <a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">user
  agent</a> can cause <code>getUserMedia()</code> to return a security-related error.</p>
<h4 id="permissions_policy">Permissions Policy</h4>
<p>
  The two <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy">Permissions Policy</a> directives that apply to <code>getUserMedia()</code> are <code>camera</code>
  and <code>microphone</code>.
</p>
<p>
  For example, this HTTP header will enable use of a camera by the document
  and any embedded <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> elements that are loaded from the same
  origin:
</p>
<div class="code-example"><pre class="brush: http notranslate"><code><span class="token header"><span class="token header-name keyword">Permissions-Policy</span><span class="token punctuation">:</span> <span class="token header-value">camera=(self)</span></span>
</code></pre></div>
<p>
  This will request access to the microphone for the current origin and the specific
  origin <code>https://developer.mozilla.org</code>:
</p>
<div class="code-example"><pre class="brush: http notranslate"><code><span class="token header"><span class="token header-name keyword">Permissions-Policy</span><span class="token punctuation">:</span> <span class="token header-value">microphone=(self "https://developer.mozilla.org")</span></span>
</code></pre></div>
<p>
  If you're using <code>getUserMedia()</code> within an <code>&lt;iframe&gt;</code>, you
  can request permission just for that frame, which is clearly more secure than requesting
  a more general permission. Here, indicate we need the ability to use both camera and
  microphone:
</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://mycode.example.net/etc<span class="token punctuation">"</span></span> <span class="token attr-name">allow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>camera; microphone<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<h4 id="encryption_based_security">Encryption based security</h4>
<p>
  The <code>getUserMedia()</code> method is only available in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a>. A secure context
  is one the browser is reasonably confident contains a document which was loaded
  securely, using HTTPS/TLS, and has limited exposure to insecure contexts. If a document
  isn't loaded in a secure context, the <a href="../Navigator/mediaDevices.html"><code>navigator.mediaDevices</code></a> property is
  <code>undefined</code>, making access to <code>getUserMedia()</code> impossible.
</p>
<p>
  Attempting to access <code>getUserMedia()</code> in this situation will result in a
  <a href="../../JavaScript/Reference/Global_Objects/TypeError.html"><code>TypeError</code></a>.
</p>
<h4 id="document_source_security">Document source security</h4>
<p>
  Because of the obvious security concern associated with <code>getUserMedia()</code> if
  used unexpectedly or without security being carefully managed, it can only be used in
  secure contexts. There are a number of insecure ways to load a document that might, in
  turn, attempt to call <code>getUserMedia()</code>. The following are examples of
  situations in which <code>getUserMedia()</code> is not permitted to be called:
</p>
<ul>
  <li>
    A document loaded into a sandboxed <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> element cannot call
    <code>getUserMedia()</code> unless the <code>&lt;iframe&gt;</code> has its
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-sandbox"><code>sandbox</code></a> attribute set to <code>allow-same-origin</code>.
  </li>
  <li>
    A document loaded using a <code>data://</code> or <code>blob://</code> URL which has
    no origin (such as when one of these URLs is typed by the user into the address bar)
    cannot call <code>getUserMedia()</code>. These kinds of URLs loaded from JavaScript
    code inherit the script's permissions.
  </li>
  <li>
    Any other situation in which there is no origin, such as when the
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-srcdoc"><code>srcdoc</code></a> attribute is used to specify the contents of a
    frame.
  </li>
</ul></div></section><section aria-labelledby="examples"><a class="dashAnchor" name="//apple_ref/Section/Examples"></a><h2 id="examples"><a href="#examples">Examples</a></h2><div class="section-content"></div></section><section aria-labelledby="width_and_height"><h3 id="width_and_height"><a href="#width_and_height">Width and height</a></h3><div class="section-content"><p>
  This example gives a preference for camera resolution, and assigns the resulting
  <a href="../MediaStream.html"><code>MediaStream</code></a> object to a video element.
</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Prefer camera resolution nearest to 1280x720.</span>
<span class="token keyword">const</span> constraints <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">audio</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">1280</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">720</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

navigator<span class="token punctuation">.</span>mediaDevices<span class="token punctuation">.</span><span class="token function">getUserMedia</span><span class="token punctuation">(</span>constraints<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mediaStream</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> video <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'video'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    video<span class="token punctuation">.</span>srcObject <span class="token operator">=</span> mediaStream<span class="token punctuation">;</span>
    video<span class="token punctuation">.</span><span class="token function-variable function">onloadedmetadata</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// always check for errors at the end.</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></section><section aria-labelledby="frame_rate"><h3 id="frame_rate"><a href="#frame_rate">Frame rate</a></h3><div class="section-content"><p>
  Lower frame-rates may be desirable in some cases, like WebRTC transmissions with
  bandwidth restrictions.
</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> constraints <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">frameRate</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">ideal</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">15</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div></section><section aria-labelledby="front_and_back_camera"><h3 id="front_and_back_camera"><a href="#front_and_back_camera">Front and back camera</a></h3><div class="section-content"><p>On mobile phones.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">let</span> front <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"flip-button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  front <span class="token operator">=</span> <span class="token operator">!</span>front<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> constraints <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">facingMode</span><span class="token operator">:</span> front <span class="token operator">?</span> <span class="token string">"user"</span> <span class="token operator">:</span> <span class="token string">"environment"</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div></section><a class="dashAnchor" name="//apple_ref/Section/Specifications"></a><h2 id="specifications"><a href="#specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://w3c.github.io/mediacapture-main/#dom-mediadevices-getusermedia">Media Capture and Streams<!-- --> <br><small># <!-- -->dom-mediadevices-getusermedia</small></a></td></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/Browser%20compatibility"></a><h2 id="browser_compatibility"><a href="#browser_compatibility">Browser compatibility</a></h2><p><table class="bc-table bc-table-web"><thead><tr class="bc-platforms"><td></td><th class="bc-platform bc-platform-desktop" colspan="5" title="desktop"><span class="icon icon-desktop"></span><span class="visually-hidden">desktop</span></th><th class="bc-platform bc-platform-mobile" colspan="6" title="mobile"><span class="icon icon-mobile"></span><span class="visually-hidden">mobile</span></th></tr><tr class="bc-browsers"><td></td><th class="bc-browser bc-browser-chrome"><div class="bc-head-txt-label bc-head-icon-chrome">Chrome</div><div class="bc-head-icon-symbol icon icon-chrome"></div></th><th class="bc-browser bc-browser-edge"><div class="bc-head-txt-label bc-head-icon-edge">Edge</div><div class="bc-head-icon-symbol icon icon-edge"></div></th><th class="bc-browser bc-browser-firefox"><div class="bc-head-txt-label bc-head-icon-firefox">Firefox</div><div class="bc-head-icon-symbol icon icon-simple-firefox"></div></th><th class="bc-browser bc-browser-opera"><div class="bc-head-txt-label bc-head-icon-opera">Opera</div><div class="bc-head-icon-symbol icon icon-opera"></div></th><th class="bc-browser bc-browser-safari"><div class="bc-head-txt-label bc-head-icon-safari">Safari</div><div class="bc-head-icon-symbol icon icon-safari"></div></th><th class="bc-browser bc-browser-chrome_android"><div class="bc-head-txt-label bc-head-icon-chrome_android">Chrome Android</div><div class="bc-head-icon-symbol icon icon-chrome"></div></th><th class="bc-browser bc-browser-firefox_android"><div class="bc-head-txt-label bc-head-icon-firefox_android">Firefox for Android</div><div class="bc-head-icon-symbol icon icon-simple-firefox"></div></th><th class="bc-browser bc-browser-opera_android"><div class="bc-head-txt-label bc-head-icon-opera_android">Opera Android</div><div class="bc-head-icon-symbol icon icon-opera"></div></th><th class="bc-browser bc-browser-safari_ios"><div class="bc-head-txt-label bc-head-icon-safari_ios">Safari on iOS</div><div class="bc-head-icon-symbol icon icon-safari"></div></th><th class="bc-browser bc-browser-samsunginternet_android"><div class="bc-head-txt-label bc-head-icon-samsunginternet_android">Samsung Internet</div><div class="bc-head-icon-symbol icon icon-samsunginternet"></div></th><th class="bc-browser bc-browser-webview_android"><div class="bc-head-txt-label bc-head-icon-webview_android">WebView Android</div><div class="bc-head-icon-symbol icon icon-webview"></div></th></tr></thead><tbody><tr><th class="bc-feature bc-feature-depth-0" scope="row"><div class="bc-table-row-header"><code>getUserMedia</code></div></th><td class="bc-support bc-browser-chrome bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Chrome</span><span class="bc-version-label" title="Released 2016-08-31">53</span></div><div class="bc-icons"><abbr class="only-icon" title="See implementation notes."><span>footnote</span><i class="icon icon-footnote"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-edge bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Edge</span><span class="bc-version-label" title="Released 2015-07-28">12</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-firefox bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Firefox</span><span class="bc-version-label" title="Released 2015-02-24">36</span></div><div class="bc-icons"><abbr class="only-icon" title="See implementation notes."><span>footnote</span><i class="icon icon-footnote"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-opera bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Opera</span><span class="bc-version-label" title="Released 2016-09-20">40</span></div><div class="bc-icons"><abbr class="only-icon" title="See implementation notes."><span>footnote</span><i class="icon icon-footnote"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-safari bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Safari</span><span class="bc-version-label" title="Released 2017-09-19">11</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-chrome_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Chrome Android</span><span class="bc-version-label" title="Released 2016-09-07">53</span></div><div class="bc-icons"><abbr class="only-icon" title="See implementation notes."><span>footnote</span><i class="icon icon-footnote"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-firefox_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Firefox for Android</span><span class="bc-version-label" title="Released 2015-02-27">36</span></div><div class="bc-icons"><abbr class="only-icon" title="See implementation notes."><span>footnote</span><i class="icon icon-footnote"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-opera_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Opera Android</span><span class="bc-version-label" title="Released 2016-10-25">41</span></div><div class="bc-icons"><abbr class="only-icon" title="See implementation notes."><span>footnote</span><i class="icon icon-footnote"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-safari_ios bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Safari on iOS</span><span class="bc-version-label" title="Released 2017-09-19">11</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-samsunginternet_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Samsung Internet</span><span class="bc-version-label" title="Released 2017-08-23">6.0</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-webview_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">WebView Android</span><span class="bc-version-label" title="Released 2016-09-07">53</span></div></div><span class="offscreen">Toggle history</span></button></td></tr><tr><th class="bc-feature bc-feature-depth-1" scope="row"><div class="bc-table-row-header"><span>Secure context required</span></div></th><td class="bc-support bc-browser-chrome bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Chrome</span><span class="bc-version-label" title="Released 2016-08-31">53</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-edge bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Edge</span><span class="bc-version-label" title="Released 2020-01-15">79</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-firefox bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Firefox</span><span class="bc-version-label" title="Released 2019-07-09">68</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-opera bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Opera</span><span class="bc-version-label" title="Released 2016-09-20">40</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-safari bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Safari</span><span class="bc-version-label" title="Released 2017-09-19">11</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-chrome_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Chrome Android</span><span class="bc-version-label" title="Released 2016-09-07">53</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-firefox_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Firefox for Android</span><span class="bc-version-label" title="Released 2019-07-09">68</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-opera_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Opera Android</span><span class="bc-version-label" title="Released 2016-10-25">41</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-safari_ios bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Safari on iOS</span><span class="bc-version-label" title="Released 2017-09-19">11</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-samsunginternet_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Samsung Internet</span><span class="bc-version-label" title="Released 2017-08-23">6.0</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-webview_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">WebView Android</span><span class="bc-version-label" title="Released 2016-09-07">53</span></div></div><span class="offscreen">Toggle history</span></button></td></tr></tbody></table></p><section aria-labelledby="see_also"><a class="dashAnchor" name="//apple_ref/Section/See%20also"></a><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
  <li>The older <a href="../Navigator/getUserMedia.html"><code>navigator.getUserMedia()</code></a> legacy API</li>
  <li><a href="enumerateDevices.html"><code>mediaDevices.enumerateDevices()</code></a>: Listing available media devices</li>
  <li><a href="../WebRTC_API.html">WebRTC API</a></li>
  <li><a href="../Media_Capture_and_Streams_API.html">Media Capture and Streams API (Media Streams)</a></li>
  <li>
    <a href="../Screen_Capture_API.html">Screen Capture API</a>: Capturing
    screen contents as a <a href="../MediaStream.html"><code>MediaStream</code></a>
  </li>
  <li>
    <a href="getDisplayMedia.html"><code>mediaDevices.getDisplayMedia()</code></a>: Getting a stream containing screen
    contents
  </li>
  <li>
    <a href="../Media_Capture_and_Streams_API/Taking_still_photos.html">Taking webcam photos</a>: A tutorial on using <code>getUserMedia()</code> to take still photos
    rather than video
  </li>
</ul></div></section><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a content problem with this page?</h3><ul><li>Edit the page <a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/mediadevices/getusermedia/index.md" title="This will take you to GitHub, where you'll need to sign in first." target="_blank" rel="noopener noreferrer">on GitHub</a>.</li><li>Report the <a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaDevices%2FgetUserMedia&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fmediadevices%2Fgetusermedia%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaDevices%2FgetUserMedia%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fmediadevices%2Fgetusermedia%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Faf967bb052695baa631c004b9b149c6f91920776%0A*+Document+last+modified%3A+2022-12-12T20%3A23%3A34.000Z%0A%0A%3C%2Fdetails%3E" title="This will take you to GitHub to file a new issue." target="_blank" rel="noopener noreferrer">content issue</a>.</li><li>View the source <a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/mediadevices/getusermedia/index.md?plain=1" title="Folder: en-us/web/api/mediadevices/getusermedia (Opens in a new tab)" target="_blank" rel="noopener noreferrer">on GitHub</a>.</li></ul>Want to get more involved? Learn<!-- --> <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md" title="This will take you to our contribution guidelines on GitHub." target="_blank" rel="noopener noreferrer">how to contribute</a>.</div><p class="last-modified-date">This page was last modified on<!-- --> <time datetime="2022-12-12T20:23:34.000Z">Dec 12, 2022</time> by<!-- --> <a href="getUserMedia/contributors.txt">MDN contributors</a>.</p></div></aside></article></main></div><footer id="nav-footer" class="page-footer"><div><a href="http://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia">MediaDevices.getUserMedia()</a> by <a href="http://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia$history">Mozilla Contributors</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/2.5/">CC-BY-SA 2.5</a>.</div></footer></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"MediaDevices.getUserMedia()","mdn_url":"/en-US/docs/Web/API/MediaDevices/getUserMedia","locale":"en-US","native":"English (US)","browserCompat":["api.MediaDevices.getUserMedia"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Media_Capture_and_Streams_API\">Media Capture and Streams API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/MediaDevices\"><code>MediaDevices</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaDevices/enumerateDevices\"><code>enumerateDevices()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaDevices/getDisplayMedia\"><code>getDisplayMedia()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaDevices/getSupportedConstraints\"><code>getSupportedConstraints()</code></a></li><li><em><code>getUserMedia()</code> </em></li><li><a href=\"/en-US/docs/Web/API/MediaDevices/selectAudioOutput\"><code>selectAudioOutput()</code></a><abbr class=\"icon icon-experimental\" title=\"Expérimental. Le comportement attendu pourrait évoluer à l'avenir.\">\n    <span class=\"visually-hidden\">Expérimental</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Events</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaDevices/devicechange_event\"><code>devicechange</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Media Capture and Streams</summary><ol><li><a href=\"/en-US/docs/Web/API/CanvasCaptureMediaStreamTrack\"><code>CanvasCaptureMediaStreamTrack</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLCanvasElement/captureStream\"><code>HTMLCanvasElement.captureStream()</code></a></li><li><em><a href=\"/en-US/docs/Web/API/MediaDevices/getUserMedia\" aria-current=\"page\"><code>MediaDevices.getUserMedia()</code></a></em></li><li><a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack\"><code>MediaStreamTrack</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrackEvent\"><code>MediaStreamTrackEvent</code></a></li><li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>MediaTrackCapabilities</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaTrackConstraints\"><code>MediaTrackConstraints</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaTrackSettings\"><code>MediaTrackSettings</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaTrackSupportedConstraints\"><code>MediaTrackSupportedConstraints</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/mediaDevices\"><code>Navigator.mediaDevices</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div>\n<p>The <a href=\"/en-US/docs/Web/API/MediaDevices\"><code>MediaDevices</code></a><strong><code>.getUserMedia()</code></strong> method prompts the user for permission to use a media input which produces a <a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a> with tracks containing the requested types of media.</p>\n<p>That stream can include, for example, a video track (produced by either a hardware or virtual video source such as a camera, video recording device, screen sharing service, and so forth), an audio track (similarly, produced by a physical or virtual audio source like a microphone, A/D converter, or the like), and possibly other track types.</p>\n<p>\n  It returns a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that resolves to a <a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a> object.\n  If the user denies permission, or matching media is not available, then the promise is rejected with <code>NotAllowedError</code> or <code>NotFoundError</code> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a> respectively.\n</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> It's possible for the returned promise to <em>neither</em> resolve nor reject, as the user is not required to make a choice at all and may ignore the request.</p>\n</div>\n<p>Generally, you will access the <a href=\"/en-US/docs/Web/API/MediaDevices\"><code>MediaDevices</code></a> singleton object using <a href=\"/en-US/docs/Web/API/Navigator/mediaDevices\"><code>navigator.mediaDevices</code></a>, like this:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getMedia</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">constraints</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> stream <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    stream <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> navigator<span class=\"token punctuation\">.</span>mediaDevices<span class=\"token punctuation\">.</span><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span>constraints<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/* use the stream */</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* handle the error */</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Similarly, using the raw promises directly, the code looks like this:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>mediaDevices<span class=\"token punctuation\">.</span><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span>constraints<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">stream</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* use the stream */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* handle the error */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect3\">\n  <p>\n    <strong>Note:</strong> If the current document isn't loaded securely,\n    <code>navigator.mediaDevices</code> will be <code>undefined</code>, and you cannot use\n    <code>getUserMedia()</code>. See <a href=\"#security\">Security</a> for more information on this and\n    other security issues related to using <code>getUserMedia()</code>.\n  </p>\n</div>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span>constraints<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n  <dt id=\"constraints\"><code>constraints</code></dt>\n  <dd>\n    <p>\n      An object specifying the types of media to\n      request, along with any requirements for each type.\n    </p>\n    <p>\n      The <code>constraints</code> parameter is an object with two members: <code>video</code> and\n      <code>audio</code>, describing the media types requested. Either or both must be\n      specified. If the browser cannot find all media tracks with the specified types that\n      meet the constraints given, then the returned promise is rejected with\n      <code>NotFoundError</code> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a>.\n    </p>\n    <p>The following requests both audio and video without any specific requirements:</p>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">audio</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n    <p>\n      If <code>true</code> is specified for a media type, the resulting stream is\n      <em>required</em> to have that type of track in it. If one cannot be included for\n      any reason, the call to <code>getUserMedia()</code> will result in an error.\n    </p>\n    <p>\n      While information about a user's cameras and microphones are inaccessible for\n      privacy reasons, an application can request the camera and microphone capabilities\n      it needs and wants, using additional constraints. The following expresses a\n      preference for 1280x720 camera resolution:\n    </p>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">audio</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">1280</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">720</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n    <p>\n      The browser will try to honour this, but may return other\n      resolutions if an exact match is not available, or the user overrides it.\n    </p>\n    <p>\n      To <em>require</em> a capability, use the keywords <code>min</code>,\n      <code>max</code>, or <code>exact</code> (a.k.a. <code>min === max</code>). The\n      following demands a minimum resolution of 1280x720:\n    </p>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">audio</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">min</span><span class=\"token operator\">:</span> <span class=\"token number\">1280</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">min</span><span class=\"token operator\">:</span> <span class=\"token number\">720</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n    <p>\n      If no camera exists with this resolution or higher, then the returned promise will\n      be rejected with <code>OverconstrainedError</code>, and the user will not be\n      prompted.\n    </p>\n    <p>\n      The reason for the difference in behavior is that the keywords <code>min</code>,\n      <code>max</code>, and <code>exact</code> are inherently mandatory. Whereas plain\n      values and a keyword called <code>ideal</code> are not. Here's a full example:\n    </p>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">audio</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">min</span><span class=\"token operator\">:</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">ideal</span><span class=\"token operator\">:</span> <span class=\"token number\">1280</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">max</span><span class=\"token operator\">:</span> <span class=\"token number\">1920</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">min</span><span class=\"token operator\">:</span> <span class=\"token number\">576</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">ideal</span><span class=\"token operator\">:</span> <span class=\"token number\">720</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">max</span><span class=\"token operator\">:</span> <span class=\"token number\">1080</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n    <p>\n      An <code>ideal</code> value, when used, has gravity, which means that the browser\n      will try to find the setting (and camera, if you have more than one), with the\n      smallest <a href=\"https://w3c.github.io/mediacapture-main/#dfn-fitness-distance\" class=\"external\" target=\"_blank\">fitness distance</a> from the ideal values given.\n    </p>\n    <p>\n      Plain values are inherently ideal, which means that the first of our resolution\n      examples above could have been written like this:\n    </p>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">audio</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">ideal</span><span class=\"token operator\">:</span> <span class=\"token number\">1280</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">ideal</span><span class=\"token operator\">:</span> <span class=\"token number\">720</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n    <p>\n      Not all constraints are numbers. For example, on mobile devices, the following will\n      prefer the front camera (if one is available) over the rear one:\n    </p>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">audio</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">facingMode</span><span class=\"token operator\">:</span> <span class=\"token string\">\"user\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n    <p>To <em>require</em> the rear camera, use:</p>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">audio</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">facingMode</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">exact</span><span class=\"token operator\">:</span> <span class=\"token string\">\"environment\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n    <p>\n      Another non-number constraint is the <code>deviceId</code> constraint. If you have\n      a <code>deviceId</code> from <a href=\"/en-US/docs/Web/API/MediaDevices/enumerateDevices\"><code>mediaDevices.enumerateDevices()</code></a>, you can\n      use it to request a specific device:\n    </p>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">deviceId</span><span class=\"token operator\">:</span> myPreferredCameraDeviceId\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n    <p>\n      The above will return the camera you requested, or a different camera if that\n      specific camera is no longer available. Again, to <em>require</em> the specific\n      camera, you would use:\n    </p>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">deviceId</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">exact</span><span class=\"token operator\">:</span> myExactCameraOrBustDeviceId\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>\n  A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> whose fulfillment handler receives a <a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a>\n  object when the requested media has successfully been obtained.\n</p>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<dl>\n  <dt id=\"aborterror\"><code>AbortError</code> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>\n      Although the user and operating system both granted access to the hardware device,\n      and no hardware issues occurred that would cause a <code>NotReadableError</code> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a>, throw if some\n      problem occurred which prevented the device from being used.\n    </p>\n  </dd>\n  <dt id=\"notallowederror\"><code>NotAllowedError</code> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>\n      Thrown if one or more of the requested source devices cannot be used at this time. This will\n      happen if the browsing context is insecure (that is, the page was loaded using HTTP\n      rather than HTTPS). It also happens if the user has specified that the current\n      browsing instance is not permitted access to the device, the user has denied access\n      for the current session, or the user has denied all access to user media devices\n      globally. On browsers that support managing media permissions with <a href=\"/en-US/docs/Web/HTTP/Permissions_Policy\">Permissions Policy</a>, this error is\n      returned if Permissions Policy is not configured to allow access to the input source(s).\n    </p>\n    <div class=\"notecard note\" id=\"sect4\">\n      <p>\n        <strong>Note:</strong> Older versions of the specification used <code>SecurityError</code>\n        for this instead; <code>SecurityError</code> has taken on a new meaning.\n      </p>\n    </div>\n  </dd>\n  <dt id=\"notfounderror\"><code>NotFoundError</code> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if no media tracks of the type specified were found that satisfy the given constraints.</p>\n  </dd>\n  <dt id=\"notreadableerror\"><code>NotReadableError</code> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>\n      Thrown if, although the user granted permission to use the matching devices, a hardware error\n      occurred at the operating system, browser, or Web page level which prevented access to\n      the device.\n    </p>\n  </dd>\n  <dt id=\"overconstrainederror\"><code>OverconstrainedError</code> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>\n      Thrown if the specified constraints resulted in no candidate devices which met the criteria\n      requested. The error is an object of type <code>OverconstrainedError</code>, and has a\n      <code>constraint</code> property whose string value is the name of a constraint which\n      was impossible to meet, and a <code>message</code> property containing a\n      human-readable string explaining the problem.\n    </p>\n    <div class=\"notecard note\" id=\"sect5\">\n      <p>\n        <strong>Note:</strong> Because this error can occur even when the user has not yet granted\n        permission to use the underlying device, it can potentially be used as a\n        fingerprinting surface.\n      </p>\n    </div>\n  </dd>\n  <dt id=\"securityerror\"><code>SecurityError</code> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>\n      Thrown if user media support is disabled on the <a href=\"/en-US/docs/Web/API/Document\"><code>Document</code></a> on which\n      <code>getUserMedia()</code> was called. The mechanism by which user media support is\n      enabled and disabled is left up to the individual user agent.\n    </p>\n  </dd>\n  <dt id=\"typeerror\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError\"><code>TypeError</code></a></dt>\n  <dd>\n    <p>\n      Thrown if the list of constraints specified is empty, or has all constraints set to\n      <code>false</code>. This can also happen if you try to call\n      <code>getUserMedia()</code> in an insecure context, since\n      <a href=\"/en-US/docs/Web/API/Navigator/mediaDevices\"><code>navigator.mediaDevices</code></a> is <code>undefined</code> in an insecure\n      context.\n    </p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"privacy_and_security","title":"Privacy and security","isH3":false,"content":"<p>\n  As an API that may involve significant privacy concerns, <code>getUserMedia()</code>'s\n  specification lays out a wide array of privacy and security requirements that browsers\n  are obligated to meet.\n</p>\n<p>\n  <code>getUserMedia()</code> is a powerful feature that can only be used in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a>; in insecure\n  contexts, <code>navigator.mediaDevices</code> is <code>undefined</code>, preventing\n  access to <code>getUserMedia()</code>. A secure context is, in short, a page loaded\n  using HTTPS or the <code>file:///</code> URL scheme, or a page loaded from\n  <code>localhost</code>.\n</p>\n<p>\n  In addition, user permission is always required to access the user's audio and video\n  inputs. Only a window's top-level document context for a valid origin can even request\n  permission to use <code>getUserMedia()</code>, unless the top-level context expressly\n  grants permission for a given <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a> to do so using <a href=\"/en-US/docs/Web/HTTP/Permissions_Policy\">Permissions Policy</a>. Otherwise, the user\n  will never even be asked for permission to use the input devices.\n</p>\n<p>\n  For additional details on these requirements and rules, how they are reflected in the\n  context in which your code is running, and about how browsers manage user privacy and\n  security issues, read on.\n</p>"}},{"type":"prose","value":{"id":"user_privacy","title":"User privacy","isH3":true,"content":"<p>\n  As an API that may involve significant privacy concerns, <code>getUserMedia()</code> is\n  held by the specification to very specific requirements for user notification and\n  permission management. First, <code>getUserMedia()</code> must always get user\n  permission before opening any media gathering input such as a webcam or microphone.\n  Browsers may offer a once-per-domain permission feature, but they must ask at least the\n  first time, and the user must specifically grant ongoing permission if they choose to do\n  so.\n</p>\n<p>\n  Of equal importance are the rules around notification. Browsers are required to display\n  an indicator that shows that a camera or microphone is in use, above and beyond any\n  hardware indicator that may exist. They must also show an indicator that permission has\n  been granted to use a device for input, even if the device is not actively recording at\n  the moment.\n</p>\n<p>\n  For example in Firefox, the URL bar displays a pulsing red icon to indicate that\n  recording is underway. The icon is gray if the permission is in place but recording is\n  not currently underway. The device's physical light is used to indicate whether or not\n  recording is currently active. If you've muted your camera (so-called \"facemuting\"),\n  your camera's activity light goes out to indicate that the camera is not actively\n  recording you, without discarding the permission to resume using the camera once muting\n  is over.\n</p>"}},{"type":"prose","value":{"id":"security","title":"Security","isH3":true,"content":"<p>There are a number of ways security management and controls in a <a href=\"/en-US/docs/Glossary/User_agent\">user\n  agent</a> can cause <code>getUserMedia()</code> to return a security-related error.</p>\n<h4 id=\"permissions_policy\">Permissions Policy</h4>\n<p>\n  The two <a href=\"/en-US/docs/Web/HTTP/Permissions_Policy\">Permissions Policy</a> directives that apply to <code>getUserMedia()</code> are <code>camera</code>\n  and <code>microphone</code>.\n</p>\n<p>\n  For example, this HTTP header will enable use of a camera by the document\n  and any embedded <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a> elements that are loaded from the same\n  origin:\n</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Permissions-Policy</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">camera=(self)</span></span>\n</code></pre></div>\n<p>\n  This will request access to the microphone for the current origin and the specific\n  origin <code>https://developer.mozilla.org</code>:\n</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Permissions-Policy</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">microphone=(self \"https://developer.mozilla.org\")</span></span>\n</code></pre></div>\n<p>\n  If you're using <code>getUserMedia()</code> within an <code>&lt;iframe&gt;</code>, you\n  can request permission just for that frame, which is clearly more secure than requesting\n  a more general permission. Here, indicate we need the ability to use both camera and\n  microphone:\n</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iframe</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://mycode.example.net/etc<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">allow</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>camera; microphone<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iframe</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"encryption_based_security\">Encryption based security</h4>\n<p>\n  The <code>getUserMedia()</code> method is only available in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a>. A secure context\n  is one the browser is reasonably confident contains a document which was loaded\n  securely, using HTTPS/TLS, and has limited exposure to insecure contexts. If a document\n  isn't loaded in a secure context, the <a href=\"/en-US/docs/Web/API/Navigator/mediaDevices\"><code>navigator.mediaDevices</code></a> property is\n  <code>undefined</code>, making access to <code>getUserMedia()</code> impossible.\n</p>\n<p>\n  Attempting to access <code>getUserMedia()</code> in this situation will result in a\n  <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError\"><code>TypeError</code></a>.\n</p>\n<h4 id=\"document_source_security\">Document source security</h4>\n<p>\n  Because of the obvious security concern associated with <code>getUserMedia()</code> if\n  used unexpectedly or without security being carefully managed, it can only be used in\n  secure contexts. There are a number of insecure ways to load a document that might, in\n  turn, attempt to call <code>getUserMedia()</code>. The following are examples of\n  situations in which <code>getUserMedia()</code> is not permitted to be called:\n</p>\n<ul>\n  <li>\n    A document loaded into a sandboxed <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a> element cannot call\n    <code>getUserMedia()</code> unless the <code>&lt;iframe&gt;</code> has its\n    <a href=\"/en-US/docs/Web/HTML/Element/iframe#attr-sandbox\"><code>sandbox</code></a> attribute set to <code>allow-same-origin</code>.\n  </li>\n  <li>\n    A document loaded using a <code>data://</code> or <code>blob://</code> URL which has\n    no origin (such as when one of these URLs is typed by the user into the address bar)\n    cannot call <code>getUserMedia()</code>. These kinds of URLs loaded from JavaScript\n    code inherit the script's permissions.\n  </li>\n  <li>\n    Any other situation in which there is no origin, such as when the\n    <a href=\"/en-US/docs/Web/HTML/Element/iframe#attr-srcdoc\"><code>srcdoc</code></a> attribute is used to specify the contents of a\n    frame.\n  </li>\n</ul>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"width_and_height","title":"Width and height","isH3":true,"content":"<p>\n  This example gives a preference for camera resolution, and assigns the resulting\n  <a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a> object to a video element.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Prefer camera resolution nearest to 1280x720.</span>\n<span class=\"token keyword\">const</span> constraints <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">audio</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">1280</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">720</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nnavigator<span class=\"token punctuation\">.</span>mediaDevices<span class=\"token punctuation\">.</span><span class=\"token function\">getUserMedia</span><span class=\"token punctuation\">(</span>constraints<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">mediaStream</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> video <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'video'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    video<span class=\"token punctuation\">.</span>srcObject <span class=\"token operator\">=</span> mediaStream<span class=\"token punctuation\">;</span>\n    video<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onloadedmetadata</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      video<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// always check for errors at the end.</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>err<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>err<span class=\"token punctuation\">.</span>message<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"frame_rate","title":"Frame rate","isH3":true,"content":"<p>\n  Lower frame-rates may be desirable in some cases, like WebRTC transmissions with\n  bandwidth restrictions.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> constraints <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">frameRate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">ideal</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">max</span><span class=\"token operator\">:</span> <span class=\"token number\">15</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"front_and_back_camera","title":"Front and back camera","isH3":true,"content":"<p>On mobile phones.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> front <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"flip-button\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  front <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>front<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> constraints <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">video</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">facingMode</span><span class=\"token operator\">:</span> front <span class=\"token operator\">?</span> <span class=\"token string\">\"user\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"environment\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/mediacapture-main/#dom-mediadevices-getusermedia","title":"Media Capture and Streams"}],"query":"api.MediaDevices.getUserMedia"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.MediaDevices.getUserMedia"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li>The older <a href=\"/en-US/docs/Web/API/Navigator/getUserMedia\"><code>navigator.getUserMedia()</code></a> legacy API</li>\n  <li><a href=\"/en-US/docs/Web/API/MediaDevices/enumerateDevices\"><code>mediaDevices.enumerateDevices()</code></a>: Listing available media devices</li>\n  <li><a href=\"/en-US/docs/Web/API/WebRTC_API\">WebRTC API</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Media_Capture_and_Streams_API\">Media Capture and Streams API (Media Streams)</a></li>\n  <li>\n    <a href=\"/en-US/docs/Web/API/Screen_Capture_API\">Screen Capture API</a>: Capturing\n    screen contents as a <a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a>\n  </li>\n  <li>\n    <a href=\"/en-US/docs/Web/API/MediaDevices/getDisplayMedia\"><code>mediaDevices.getDisplayMedia()</code></a>: Getting a stream containing screen\n    contents\n  </li>\n  <li>\n    <a href=\"/en-US/docs/Web/API/Media_Capture_and_Streams_API/Taking_still_photos\">Taking webcam photos</a>: A tutorial on using <code>getUserMedia()</code> to take still photos\n    rather than video\n  </li>\n</ul>"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Privacy and security","id":"privacy_and_security"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The MediaDevices.getUserMedia() method prompts the user for permission to use a media input which produces a MediaStream with tracks containing the requested types of media.","popularity":0.0002,"modified":"2022-12-12T20:23:34.000Z","other_translations":[{"title":"MediaDevices.getUserMedia()","locale":"es","native":"Español"},{"title":"MediaDevices.getUserMedia()","locale":"fr","native":"Français"},{"title":"MediaDevices.getUserMedia()","locale":"ja","native":"日本語"},{"title":"MediaDevices.getUserMedia()","locale":"ko","native":"한국어"},{"title":"MediaDevices.getUserMedia()","locale":"ru","native":"Русский"},{"title":"MediaDevices.getUserMedia()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/mediadevices/getusermedia","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/mediadevices/getusermedia/index.md","last_commit_url":"https://github.com/mdn/content/commit/af967bb052695baa631c004b9b149c6f91920776","filename":"index.md"},"short_title":"MediaDevices.getUserMedia()","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/MediaDevices","title":"MediaDevices"},{"uri":"/en-US/docs/Web/API/MediaDevices/getUserMedia","title":"MediaDevices.getUserMedia()"}],"pageTitle":"MediaDevices.getUserMedia() - Web APIs | MDN","noIndexing":false}}</script>
<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 04:47:03 GMT -->
</body></html>