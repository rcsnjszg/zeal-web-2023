<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 04:37:43 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="../../../../favicon-48x48.cbbd161b.png"><link rel="apple-touch-icon" href="../../../../apple-touch-icon.6803c6f0.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="../../../../manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><title>Page Visibility API</title><link rel="alternate" title="Page Visibility API" href="https://developer.mozilla.org/fr/docs/Web/API/Page_Visibility_API" hreflang="fr"><link rel="alternate" title="ページ可視性 API" href="https://developer.mozilla.org/ja/docs/Web/API/Page_Visibility_API" hreflang="ja"><link rel="alternate" title="Page Visibility API" href="https://developer.mozilla.org/ko/docs/Web/API/Page_Visibility_API" hreflang="ko"><link rel="alternate" title="Page Visibility API" href="https://developer.mozilla.org/pt-BR/docs/Web/API/Page_Visibility_API" hreflang="pt"><link rel="alternate" title="Видимость страницы API" href="https://developer.mozilla.org/ru/docs/Web/API/Page_Visibility_API" hreflang="ru"><link rel="alternate" title="页面可见性 API" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Page_Visibility_API" hreflang="zh"><link rel="alternate" title="Page Visibility API" href="Page_Visibility_API.html" hreflang="en"><meta name="robots" content="index, follow"><meta name="description" content="The Page Visibility API provides events you can watch for to know when a document becomes visible or hidden, as well as features to look at the current visibility state of the page."><meta property="og:url" content="Page_Visibility_API.html"><meta property="og:title" content="Page Visibility API - Web APIs | MDN"><meta property="og:locale" content="en-US"><meta property="og:description" content="The Page Visibility API provides events you can watch for to know when a document becomes visible or hidden, as well as features to look at the current visibility state of the page."><meta property="og:image" content="../../../../mdn-social-share.cd6c4a5a.png"><meta property="twitter:card" content="summary_large_image"><link rel="canonical" href="Page_Visibility_API.html"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.mdn-cta-container,.on-github,.page-footer,.sidebar,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><script src="../../../../static/js/ga.js" defer=""></script><script defer="defer" src="../../../../static/js/main.5c9d40d0.js"></script><link href="../../../../static/css/main.7d378400.css" rel="stylesheet"></head><body><script>document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0});const c={light:"#ffffff",dark:"#1b1b1b"};if(window&&document.documentElement)try{const t=window.localStorage.getItem("theme");t&&(document.documentElement.className=t,document.documentElement.style.backgroundColor=c[t])}catch(t){console.warn("Unable to read theme from localStorage",t)}</script><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#top-nav-search-input">Skip to search</a></li><li><a id="skip-select-language" href="#languages-switcher-button">Skip to select language</a></li></ul><div class="page-wrapper  category-api document-page"><div class="main-document-header-container"><header class="main-document-header-container top-navigation 
      
      "><div class="container "><div class="top-navigation-wrap"><a href="https://developer.mozilla.org/en-US/" class="logo" aria-label="MDN homepage"><svg id="mdn-docs-logo" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 694.9 104.4" style="enable-background:new 0 0 694.9 104.4" xml:space="preserve" role="img"><title>MDN Web Docs</title><style>.logo-m{fill:var(--text-link)}</style><g class="logo-m"><path d="M40.3 0 11.7 92.1H0L28.5 0h11.8zM50.7 0v92.1H40.3V0h10.4zM91 0 62.5 92.1H50.8L79.3 0H91zM101.4 0v92.1H91V0h10.4z"></path></g><path class="logo-m" d="M627.9 95.6h67v8.8h-67v-8.8z"></path><g style="fill:var(--text-primary)"><path d="M367 42h-4l-10.7 30.8h-5.5l-10.8-26h-.4l-10.5 26h-5.2L308.7 42h-3.8v-5.6H323V42h-6.5l6.8 20.4h.4l10.3-26h4.7l11.2 26h.5l5.7-20.3h-6.2v-5.6H367V42zM401.9 62c-.4 3.2-2 5.9-4.7 8.2-2.8 2.3-6.5 3.4-11.3 3.4-5.4 0-9.7-1.6-13.1-4.7-3.3-3.2-5-7.7-5-13.7 0-5.7 1.6-10.3 4.7-14s7.4-5.5 12.9-5.5c5.1 0 9.1 1.6 11.9 4.7s4.3 6.9 4.3 11.3c0 1.5-.2 3-.5 4.7h-25.6c.3 7.7 4 11.6 10.9 11.6 2.9 0 5.1-.7 6.5-2 1.5-1.4 2.5-3 3-4.9l6 .9zM394 51.3c.2-2.4-.4-4.7-1.8-6.9s-3.8-3.3-7-3.3c-3.1 0-5.3 1-6.9 3-1.5 2-2.5 4.4-2.8 7.2H394zM445 53.7c0 5-1.3 9.5-4 13.7s-6.9 6.2-12.7 6.2c-6 0-10.3-2.2-12.7-6.7-.1.4-.2 1.4-.4 2.9s-.3 2.5-.4 2.9h-7.3c.3-1.7.6-3.5.8-5.3.3-1.8.4-3.7.4-5.5V22.3h-6v-5.6H416v27c1.1-2.2 2.7-4.1 4.7-5.7 2-1.6 4.8-2.4 8.4-2.4 4.6 0 8.4 1.6 11.4 4.7 3 3.2 4.5 7.6 4.5 13.4zm-7.7.6c0-4.2-1-7.4-3-9.5-2-2.2-4.4-3.3-7.4-3.3-3.4 0-6 1.2-8 3.7-1.9 2.4-2.9 5-3 7.7V57c0 3 1 5.6 3 7.7s4.5 3.1 7.6 3.1c3.6 0 6.3-1.3 8.1-3.9 1.8-2.7 2.7-5.9 2.7-9.6zM506.5 72.8h-13.2v-7.2c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2 5.7 0 9.8 2.2 12.3 6.5V22.3h-8.6v-5.6h15.8v50.6h6v5.5zM493.2 56v-4.4c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zM546.3 54.6c0 5.6-1.8 10.2-5.3 13.7s-8.2 5.3-13.9 5.3-10.1-1.7-13.4-5.1c-3.3-3.4-5-7.9-5-13.5 0-5.3 1.6-9.9 4.7-13.7 3.2-3.8 7.9-5.7 14.2-5.7s11 1.9 14.1 5.7c3 3.7 4.6 8.1 4.6 13.3zm-7.7-.2c0-4-1-7.2-3-9.5s-4.8-3.5-8.2-3.5c-3.6 0-6.4 1.2-8.3 3.7s-2.9 5.6-2.9 9.5c0 3.7.9 6.8 2.8 9.4 1.9 2.6 4.6 3.9 8.3 3.9 3.6 0 6.4-1.3 8.4-3.8 1.9-2.6 2.9-5.8 2.9-9.7zM583.6 60.2c-.4 3.2-1.9 6.3-4.4 9.1-2.5 2.9-6.4 4.3-11.8 4.3-5.2 0-9.4-1.6-12.6-4.8-3.2-3.2-4.8-7.7-4.8-13.7 0-5.5 1.6-10.1 4.7-13.9 3.2-3.8 7.6-5.7 13.2-5.7 2.3 0 4.6.3 6.7.8 2.2.5 4.2 1.5 6.2 2.9l1.5 9.5-5.9.7-1.3-6.1c-2.1-1.2-4.5-1.8-7.2-1.8-3.5 0-6.1 1.2-7.7 3.7-1.7 2.5-2.5 5.7-2.5 9.6 0 4.1.9 7.3 2.7 9.5 1.8 2.3 4.4 3.4 7.8 3.4 5.2 0 8.2-2.9 9.2-8.8l6.2 1.3zM618.3 62.1c0 3.6-1.5 6.5-4.6 8.5s-7 3-11.7 3c-5.7 0-10.6-1.2-14.6-3.6l1.2-8.8 5.7.6-.2 4.7c1.1.5 2.3.9 3.6 1.1s2.6.3 3.9.3c2.4 0 4.5-.4 6.5-1.3 1.9-.9 2.9-2.2 2.9-4.1 0-1.8-.8-3.1-2.3-3.8s-3.5-1.3-5.8-1.7-4.6-.9-6.9-1.4c-2.3-.6-4.2-1.6-5.7-2.9-1.6-1.4-2.3-3.5-2.3-6.3 0-4.1 1.5-6.9 4.6-8.5s6.4-2.4 9.9-2.4c2.6 0 5 .3 7.2.9 2.2.6 4.3 1.4 6.1 2.4l.8 8.8-5.8.7-.8-5.7c-2.3-1-4.7-1.6-7.2-1.6-2.1 0-3.7.4-5.1 1.1-1.3.8-2 2-2 3.8 0 1.7.8 2.9 2.3 3.6 1.5.7 3.4 1.2 5.7 1.6 2.2.4 4.5.8 6.7 1.4 2.2.6 4.1 1.6 5.7 3 1.4 1.6 2.2 3.7 2.2 6.6zM197.6 73.2h-17.1v-5.5h3.8V51.9c0-3.7-.7-6.3-2.1-7.9-1.4-1.6-3.3-2.3-5.7-2.3-3.2 0-5.6 1.1-7.2 3.4s-2.4 4.6-2.5 6.9v15.6h6v5.5h-17.1v-5.5h3.8V51.9c0-3.8-.7-6.4-2.1-7.9-1.4-1.5-3.3-2.3-5.6-2.3-3.2 0-5.5 1.1-7.2 3.3-1.6 2.2-2.4 4.5-2.5 6.9v15.8h6.9v5.5h-20.2v-5.5h6V42.4h-6.1v-5.6h13.4v6.4c1.2-2.1 2.7-3.8 4.7-5.2 2-1.3 4.4-2 7.3-2s5.3.7 7.5 2.1c2.2 1.4 3.7 3.5 4.5 6.4 1.1-2.5 2.7-4.5 4.9-6.1s4.8-2.4 7.9-2.4c3.5 0 6.5 1.1 8.9 3.3s3.7 5.6 3.7 10.2v18.2h6.1v5.5zm42.5 0h-13.2V66c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2s9.8 2.2 12.3 6.5V22.7h-8.6v-5.6h15.8v50.6h6v5.5zm-13.3-16.8V52c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm61.5 16.8H269v-5.5h6V51.9c0-3.7-.7-6.3-2.2-7.9-1.4-1.6-3.4-2.3-5.7-2.3-3.1 0-5.6 1-7.4 3s-2.8 4.4-2.9 7v15.9h6v5.5h-19.3v-5.5h6V42.4h-6.2v-5.6h13.6V43c2.6-4.6 6.8-6.9 12.7-6.9 3.6 0 6.7 1.1 9.2 3.3s3.7 5.6 3.7 10.2v18.2h6v5.4h-.2z"></path></g></svg></a><button title="Open main menu" type="button" class="button action has-icon main-menu-toggle" aria-haspopup="menu" aria-label="Open main menu" aria-expanded="false"><span class="button-wrap"><span class="icon icon-menu "></span><span class="visually-hidden">Open main menu</span></span></button></div><div class="top-navigation-main"><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button type="button" id="references-button" class="top-level-entry menu-toggle" aria-controls="references-menu" aria-expanded="false">References</button><a href="https://developer.mozilla.org/en-US/docs/Web" class="top-level-entry">References</a><ul id="references-menu" class="submenu references hidden inline-submenu-lg" aria-labelledby="references-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Structure of content on the web</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Code used to describe document style</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">General-purpose scripting language</p></div></a></li><li class="http-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP" class="submenu-item "><div class="submenu-icon http"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTTP</div><p class="submenu-item-description">Protocol for transmitting web resources</p></div></a></li><li class="apis-link-container "><a href="../API.html" class="submenu-item "><div class="submenu-icon apis"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web APIs</div><p class="submenu-item-description">Interfaces for building web applications</p></div></a></li><li class="apis-link-container "><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Extensions</div><p class="submenu-item-description">Developing extensions for web browsers</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="guides-button" class="top-level-entry menu-toggle" aria-controls="guides-menu" aria-expanded="false">Guides</button><a href="https://developer.mozilla.org/en-US/docs/Learn" class="top-level-entry">Guides</a><ul id="guides-menu" class="submenu guides hidden inline-submenu-lg" aria-labelledby="guides-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Learn to structure web content with HTML</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Learn to style content using CSS</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">Learn to run scripts in the browser</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Accessibility</div><p class="submenu-item-description">Learn to make the web accessible to all</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="mdn-plus-button" class="top-level-entry menu-toggle" aria-controls="mdn-plus-menu" aria-expanded="false">MDN Plus</button><a href="https://developer.mozilla.org/en-US/plus" class="top-level-entry">MDN Plus</a><ul id="mdn-plus-menu" class="submenu mdn-plus hidden inline-submenu-lg" aria-labelledby="mdn-plus-button"><li class=" "><a href="https://developer.mozilla.org/en-US/plus" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview</div><p class="submenu-item-description">A customized MDN experience</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/updates" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Updates</div><p class="submenu-item-description">All browser compatibility updates at a glance</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/features/overview" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Documentation</div><p class="submenu-item-description">Learn how to use MDN Plus</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/faq" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">FAQ</div><p class="submenu-item-description">Frequently asked questions about MDN Plus</p></div></a></li></ul></li></ul></nav><div class="header-search"><form action="https://developer.mozilla.org/en-US/search" role="search" aria-haspopup="listbox" aria-owns="top-nav-search-menu" aria-expanded="false" class="search-form search-widget" id="top-nav-search-form"><label id="top-nav-search-label" for="top-nav-search-input" class="visually-hidden">Search MDN</label><input id="top-nav-search-input" aria-autocomplete="list" aria-controls="top-nav-search-menu" aria-labelledby="top-nav-search-label" autocomplete="off" type="search" class="search-input-field" name="q" placeholder="   " required="" value=""><button type="button" class="button action has-icon clear-search-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear search input</span></span></button><button type="submit" class="button action has-icon search-button"><span class="button-wrap"><span class="icon icon-search "></span><span class="visually-hidden">Search</span></span></button><div id="top-nav-search-menu" role="listbox" aria-labelledby="top-nav-search-label"></div></form></div><div class="theme-switcher-menu"><button type="button" class="button action has-icon theme-switcher-menu small" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-theme-os-default "></span>Theme</span></button></div><ul class="auth-container"><li><a href="https://developer.mozilla.org/users/fxa/login/authenticate/?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPage_Visibility_API" class="signin-link" rel="nofollow">Already a subscriber?</a></li><li><a class="button primary mdn-plus-subscribe-link" href="https://developer.mozilla.org/en-US/plus"><span class="button-wrap">Get MDN Plus</span></a></li></ul></div></div></header><div class="article-actions-container"><div class="container"><button type="button" class="button action has-icon sidebar-button" aria-label="Expand sidebar" aria-expanded="false" aria-controls="sidebar-quicklinks"><span class="button-wrap"><span class="icon icon-sidebar "></span></span></button><nav class="breadcrumbs-container" aria-label="Breadcrumb"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="https://developer.mozilla.org/en-US/docs/Web"><span property="name">References</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../API.html"><span property="name">Web APIs</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="Page_Visibility_API.html"><span property="name">Page Visibility API</span></a><meta property="position" content="3"></li></ol></nav><div class="article-actions"><button type="button" class="button action has-icon article-actions-toggle" aria-label="Article actions"><span class="button-wrap"><span class="icon icon-ellipses "></span><span class="article-actions-dialog-heading">Article Actions</span></span></button><ul class="article-actions-entries"><li class="article-actions-entry"><div class="languages-switcher-menu open-on-focus-within"><button id="languages-switcher-button" type="button" class="button action small has-icon languages-switcher-menu" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-language "></span>English (US)</span></button></div></li></ul></div></div></div></div><div class="main-wrapper"><aside id="sidebar-quicklinks" class="sidebar"><button type="button" class="button action backdrop" aria-label="Collapse sidebar"><span class="button-wrap"></span></button><nav aria-label="Related Topics" class="sidebar-inner"><div class="in-nav-toc"><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#concepts_and_usage">Concepts and usage</a></li><li class="document-toc-item "><a class="document-toc-link" href="#extensions_to_other_interfaces">Extensions to other interfaces</a></li><li class="document-toc-item "><a class="document-toc-link" href="#examples">Examples</a></li><li class="document-toc-item "><a class="document-toc-link" href="#specifications">Specifications</a></li><li class="document-toc-item "><a class="document-toc-link" href="#browser_compatibility">Browser compatibility</a></li></ul></section></div></div><div><ol><li><strong><em><a href="Page_Visibility_API.html" aria-current="page">Page Visibility API</a></em></strong></li><li class="toggle"><details open=""><summary>Properties</summary><ol><li><a href="Document/hidden.html"><code>Document.hidden</code></a></li><li><a href="Document/visibilityState.html"><code>Document.visibilityState</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Events</summary><ol><li><a href="Document/visibilitychange_event.html"><code>Document</code>: <code>visibilitychange</code></a></li></ol></details></li></ol></div></nav></aside><aside class="toc"><nav><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#concepts_and_usage">Concepts and usage</a></li><li class="document-toc-item "><a class="document-toc-link" href="#extensions_to_other_interfaces">Extensions to other interfaces</a></li><li class="document-toc-item "><a class="document-toc-link" href="#examples">Examples</a></li><li class="document-toc-item "><a class="document-toc-link" href="#specifications">Specifications</a></li><li class="document-toc-item "><a class="document-toc-link" href="#browser_compatibility">Browser compatibility</a></li></ul></section></div></nav></aside><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><h1>Page Visibility API</h1><div class="section-content"><p>The Page Visibility API provides events you can watch for to know when a document becomes visible or hidden, as well as features to look at the current visibility state of the page.</p>
<p>This is especially useful for saving resources and improving performance by letting a page avoid performing unnecessary tasks when the document isn't visible.</p></div><section aria-labelledby="concepts_and_usage"><a class="dashAnchor" name="//apple_ref/Section/Concepts%20and%20usage"></a><h2 id="concepts_and_usage"><a href="#concepts_and_usage">Concepts and usage</a></h2><div class="section-content"><p>When the user minimizes the window or switches to another tab, the API sends a <a href="Document/visibilitychange_event.html" title="visibilitychange"><code>visibilitychange</code></a> event to let listeners know the state of the page has changed. You can detect the event and perform some actions or behave differently. For example, if your web app is playing a video, it can pause the video when the user puts the tab into the background, and resume playback when the user returns to the tab. The user doesn't lose their place in the video, the video's soundtrack doesn't interfere with audio in the new foreground tab, and the user doesn't miss any of the video in the meantime.</p>
<p>Visibility states of an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> are the same as the parent document. Hiding an <code>&lt;iframe&gt;</code> using CSS properties (such as <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/display"><code>display: none;</code></a>) doesn't trigger visibility events or change the state of the document contained within the frame.</p></div></section><section aria-labelledby="use_cases"><h3 id="use_cases"><a href="#use_cases">Use cases</a></h3><div class="section-content"><p>Let's consider a few use cases for the Page Visibility API.</p>
<ul>
  <li>A site has an image carousel that shouldn't advance to the next slide unless the user is viewing the page</li>
  <li>An application showing a dashboard of information doesn't want to poll the server for updates when the page isn't visible</li>
  <li>A page wants to detect when it is being prerendered so it can keep accurate count of page views</li>
  <li>A site wants to switch off sounds when a device is in standby mode (user pushes power button to turn screen off)</li>
</ul>
<p>Developers have historically used imperfect proxies to detect this. For example, watching for <a href="Window/blur_event.html" title="blur"><code>blur</code></a> and <a href="Window/focus_event.html" title="focus"><code>focus</code></a> events on the window helps you know when your page is not the active page, but it does not tell you that your page is actually hidden to the user. The Page Visibility API addresses this.</p>
<div class="notecard note" id="sect1">
  <p><strong>Note:</strong> While <a href="Window/blur_event.html" title="onblur"><code>onblur</code></a> and <a href="Window/focus_event.html" title="onfocus"><code>onfocus</code></a> will tell you if the user switches windows, it doesn't necessarily mean it's hidden. Pages only become hidden when the user switches tabs or minimizes the browser window containing the tab.</p>
</div></div></section><section aria-labelledby="policies_in_place_to_aid_background_page_performance"><h3 id="policies_in_place_to_aid_background_page_performance"><a href="#policies_in_place_to_aid_background_page_performance">Policies in place to aid background page performance</a></h3><div class="section-content"><p>Separately from the Page Visibility API, user agents typically have a number of policies in place to mitigate the performance impact of background or hidden tabs. These may include:</p>
<ul>
  <li>Most browsers stop sending <a href="window/requestAnimationFrame.html" title="requestAnimationFrame()"><code>requestAnimationFrame()</code></a> callbacks to background tabs or hidden <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a>s in order to improve performance and battery life.</li>
  <li>Timers such as <a href="setTimeout.html"><code>setTimeout()</code></a> are throttled in background/inactive tabs to help improve performance. See <a href="setTimeout.html#reasons_for_delays_longer_than_specified">Reasons for delays longer than specified</a> for more details.</li>
  <li>Browsers implement budget-based background timeout throttling. This operates in a similar way across modern browsers, with the details being as follows:
    <ul>
      <li>In Firefox, windows in background tabs each have their own time budget in milliseconds — a max and a min value of +50 ms and -150 ms, respectively. Chrome is very similar except that the budget is specified in seconds.</li>
      <li>Windows are subjected to throttling after 30 seconds, with the same throttling delay rules as specified for window timers (again, see <a href="setTimeout.html#reasons_for_delays_longer_than_specified">Reasons for delays longer than specified</a>). In Chrome, this value is 10 seconds.</li>
      <li>Timer tasks are only permitted when the budget is non-negative.</li>
      <li>Once a timer's code has finished running, the duration of time it took to execute is subtracted from its window's timeout budget.</li>
      <li>The budget regenerates at a rate of 10 ms per second, in both Firefox and Chrome.</li>
    </ul>
  </li>
</ul>
<p>Some processes are exempt from this throttling behavior. In these cases, you can use the Page Visibility API to reduce the tabs' performance impact while they're hidden.</p>
<ul>
  <li>Tabs which are playing audio are considered foreground and aren't throttled.</li>
  <li>Tabs running code that's using real-time network connections (<a href="WebSockets_API.html">WebSockets</a> and <a href="WebRTC_API.html">WebRTC</a>) go unthrottled in order to avoid closing these connections timing out and getting unexpectedly closed.</li>
  <li><a href="IndexedDB_API.html">IndexedDB</a> processes are also left unthrottled in order to avoid timeouts.</li>
</ul></div></section><section aria-labelledby="extensions_to_other_interfaces"><a class="dashAnchor" name="//apple_ref/Section/Extensions%20to%20other%20interfaces"></a><h2 id="extensions_to_other_interfaces"><a href="#extensions_to_other_interfaces">Extensions to other interfaces</a></h2><div class="section-content"></div></section><section aria-labelledby="instance_properties"><h3 id="instance_properties"><a href="#instance_properties">Instance properties</a></h3><div class="section-content"><p>The Page Visibility API adds the following properties to the <a href="Document.html"><code>Document</code></a> interface:</p>
<dl>
  <dt id="document.hidden"><a href="Document/hidden.html"><code>Document.hidden</code></a> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
    <span class="visually-hidden">Deprecated</span>
</abbr> <span title="This value may not be changed." class="badge inline readonly">Read only </span></dt>
  <dd>
    <p>Returns <code>true</code> if the page is in a state considered to be hidden to the user, and <code>false</code> otherwise.</p>
  </dd>
  <dt id="document.visibilitystate"><a href="Document/visibilityState.html"><code>Document.visibilityState</code></a> <span title="This value may not be changed." class="badge inline readonly">Read only </span></dt>
  <dd>
    <p>A string indicating the document's current visibility state. Possible values are:</p>
    <dl>
      <dt id="visible"><code>visible</code></dt>
      <dd>
        <p>The page content may be at least partially visible. In practice this means that the page is the foreground tab of a non-minimized window.</p>
      </dd>
      <dt id="hidden"><code>hidden</code></dt>
      <dd>
        <p>The page's content is not visible to the user, either due to the document's tab being in the background or part of a window that is minimized, or because the device's screen is off.</p>
      </dd>
    </dl>
  </dd>
</dl></div></section><section aria-labelledby="events"><h3 id="events"><a href="#events">Events</a></h3><div class="section-content"><p>The Page Visibility API adds the following events to the <a href="Document.html"><code>Document</code></a> interface:</p>
<dl>
  <dt id="visibilitychange"><a href="Document/visibilitychange_event.html" title="visibilitychange"><code>visibilitychange</code></a></dt>
  <dd>
    <p>Fired when the content of a tab has become visible or has been hidden.</p>
  </dd>
</dl></div></section><section aria-labelledby="examples"><a class="dashAnchor" name="//apple_ref/Section/Examples"></a><h2 id="examples"><a href="#examples">Examples</a></h2><div class="section-content"></div></section><section aria-labelledby="pausing_audio_on_page_hide"><h3 id="pausing_audio_on_page_hide"><a href="#pausing_audio_on_page_hide">Pausing audio on page hide</a></h3><div class="section-content"><p>This example pauses audio when the user switches to a different tab, and plays when they switch back.</p>
<h4 id="html">HTML</h4>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span>
  <span class="token attr-name">controls</span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://mdn.github.io/webaudio-examples/audio-basics/outfoxing.mp3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<h4 id="javascript">JavaScript</h4>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> audio <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"audio"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Handle page visibility change:</span>
<span class="token comment">// - If the page is hidden, pause the video</span>
<span class="token comment">// - If the page is shown, play the video</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"visibilitychange"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>hidden<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    audio<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    audio<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<h4 id="result">Result</h4><iframe class="sample-code-frame" title="Pausing audio on page hide sample" id="frame_pausing_audio_on_page_hide" height="100" src="../../../../../yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/API/Page_Visibility_API/_sample_.pausing_audio_on_page_hide.html" loading="lazy"></iframe>
<p>Try playing the audio, then switching to a different tab and back again.</p></div></section><a class="dashAnchor" name="//apple_ref/Section/Specifications"></a><h2 id="specifications"><a href="#specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://html.spec.whatwg.org/multipage/interaction.html#dom-document-visibilitystate">HTML Standard<!-- --> <br><small># <!-- -->dom-document-visibilitystate</small></a></td></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/Browser%20compatibility"></a><h2 id="browser_compatibility"><a href="#browser_compatibility">Browser compatibility</a></h2><p><table class="bc-table bc-table-web"><thead><tr class="bc-platforms"><td></td><th class="bc-platform bc-platform-desktop" colspan="5" title="desktop"><span class="icon icon-desktop"></span><span class="visually-hidden">desktop</span></th><th class="bc-platform bc-platform-mobile" colspan="6" title="mobile"><span class="icon icon-mobile"></span><span class="visually-hidden">mobile</span></th></tr><tr class="bc-browsers"><td></td><th class="bc-browser bc-browser-chrome"><div class="bc-head-txt-label bc-head-icon-chrome">Chrome</div><div class="bc-head-icon-symbol icon icon-chrome"></div></th><th class="bc-browser bc-browser-edge"><div class="bc-head-txt-label bc-head-icon-edge">Edge</div><div class="bc-head-icon-symbol icon icon-edge"></div></th><th class="bc-browser bc-browser-firefox"><div class="bc-head-txt-label bc-head-icon-firefox">Firefox</div><div class="bc-head-icon-symbol icon icon-simple-firefox"></div></th><th class="bc-browser bc-browser-opera"><div class="bc-head-txt-label bc-head-icon-opera">Opera</div><div class="bc-head-icon-symbol icon icon-opera"></div></th><th class="bc-browser bc-browser-safari"><div class="bc-head-txt-label bc-head-icon-safari">Safari</div><div class="bc-head-icon-symbol icon icon-safari"></div></th><th class="bc-browser bc-browser-chrome_android"><div class="bc-head-txt-label bc-head-icon-chrome_android">Chrome Android</div><div class="bc-head-icon-symbol icon icon-chrome"></div></th><th class="bc-browser bc-browser-firefox_android"><div class="bc-head-txt-label bc-head-icon-firefox_android">Firefox for Android</div><div class="bc-head-icon-symbol icon icon-simple-firefox"></div></th><th class="bc-browser bc-browser-opera_android"><div class="bc-head-txt-label bc-head-icon-opera_android">Opera Android</div><div class="bc-head-icon-symbol icon icon-opera"></div></th><th class="bc-browser bc-browser-safari_ios"><div class="bc-head-txt-label bc-head-icon-safari_ios">Safari on iOS</div><div class="bc-head-icon-symbol icon icon-safari"></div></th><th class="bc-browser bc-browser-samsunginternet_android"><div class="bc-head-txt-label bc-head-icon-samsunginternet_android">Samsung Internet</div><div class="bc-head-icon-symbol icon icon-samsunginternet"></div></th><th class="bc-browser bc-browser-webview_android"><div class="bc-head-txt-label bc-head-icon-webview_android">WebView Android</div><div class="bc-head-icon-symbol icon icon-webview"></div></th></tr></thead><tbody><tr><th class="bc-feature bc-feature-depth-0" scope="row"><div class="bc-table-row-header"><code>visibilityState</code></div></th><td class="bc-support bc-browser-chrome bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Chrome</span><span class="bc-version-label" title="Released 2014-02-20">33</span></div><div class="bc-icons"><abbr class="only-icon" title="Has more compatibility info."><span>more</span><i class="icon icon-more"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-edge bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Edge</span><span class="bc-version-label" title="Released 2015-07-28">12</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-firefox bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Firefox</span><span class="bc-version-label" title="Released 2013-01-08">18</span></div><div class="bc-icons"><abbr class="only-icon" title="Has more compatibility info."><span>more</span><i class="icon icon-more"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-opera bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Opera</span><span class="bc-version-label" title="Released 2014-03-04">20</span></div><div class="bc-icons"><abbr class="only-icon" title="Has more compatibility info."><span>more</span><i class="icon icon-more"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-safari bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Safari</span><span class="bc-version-label" title="Released 2013-10-22">7</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-chrome_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Chrome Android</span><span class="bc-version-label" title="Released 2014-02-26">33</span></div><div class="bc-icons"><abbr class="only-icon" title="Has more compatibility info."><span>more</span><i class="icon icon-more"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-firefox_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Firefox for Android</span><span class="bc-version-label" title="Released 2013-01-08">18</span></div><div class="bc-icons"><abbr class="only-icon" title="Has more compatibility info."><span>more</span><i class="icon icon-more"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-opera_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Opera Android</span><span class="bc-version-label" title="Released 2014-03-06">20</span></div><div class="bc-icons"><abbr class="only-icon" title="Has more compatibility info."><span>more</span><i class="icon icon-more"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-safari_ios bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Safari on iOS</span><span class="bc-version-label" title="Released 2013-09-18">7</span></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-samsunginternet_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">Samsung Internet</span><span class="bc-version-label" title="Released 2014-10-17">2.0</span></div><div class="bc-icons"><abbr class="only-icon" title="Has more compatibility info."><span>more</span><i class="icon icon-more"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td><td class="bc-support bc-browser-webview_android bc-supports-yes bc-has-history" aria-expanded="false"><button type="button" title="Toggle history"><div class="bcd-cell-text-wrapper"><div class="bcd-cell-icons"><span class="icon-wrap"><abbr class="
              bc-level-yes
              icon
              icon-yes" title="Full support"><span class="bc-support-level">Full support</span></abbr></span></div><div class="bcd-cell-text-copy"><span class="bc-browser-name">WebView Android</span><span class="bc-version-label" title="Released 2014-06-02">4.4.3</span></div><div class="bc-icons"><abbr class="only-icon" title="Has more compatibility info."><span>more</span><i class="icon icon-more"></i></abbr></div></div><span class="offscreen">Toggle history</span></button></td></tr></tbody></table></p><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a content problem with this page?</h3><ul><li>Edit the page <a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/page_visibility_api/index.md" title="This will take you to GitHub, where you'll need to sign in first." target="_blank" rel="noopener noreferrer">on GitHub</a>.</li><li>Report the <a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPage_Visibility_API&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fpage_visibility_api%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPage_Visibility_API%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fpage_visibility_api%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Fc41a14a44308f59a7e3bbe73988044bf547172d3%0A*+Document+last+modified%3A+2022-11-26T09%3A54%3A47.000Z%0A%0A%3C%2Fdetails%3E" title="This will take you to GitHub to file a new issue." target="_blank" rel="noopener noreferrer">content issue</a>.</li><li>View the source <a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/page_visibility_api/index.md?plain=1" title="Folder: en-us/web/api/page_visibility_api (Opens in a new tab)" target="_blank" rel="noopener noreferrer">on GitHub</a>.</li></ul>Want to get more involved? Learn<!-- --> <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md" title="This will take you to our contribution guidelines on GitHub." target="_blank" rel="noopener noreferrer">how to contribute</a>.</div><p class="last-modified-date">This page was last modified on<!-- --> <time datetime="2022-11-26T09:54:47.000Z">Nov 26, 2022</time> by<!-- --> <a href="Page_Visibility_API/contributors.txt">MDN contributors</a>.</p></div></aside></article></main></div><footer id="nav-footer" class="page-footer"><div><a href="http://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API">Page Visibility API</a> by <a href="http://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API$history">Mozilla Contributors</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/2.5/">CC-BY-SA 2.5</a>.</div></footer></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Page Visibility API","mdn_url":"/en-US/docs/Web/API/Page_Visibility_API","locale":"en-US","native":"English (US)","browserCompat":["api.Document.visibilityState"],"sidebarHTML":"<ol><li><strong><em><a href=\"/en-US/docs/Web/API/Page_Visibility_API\" aria-current=\"page\">Page Visibility API</a></em></strong></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/Document/hidden\"><code>Document.hidden</code></a></li><li><a href=\"/en-US/docs/Web/API/Document/visibilityState\"><code>Document.visibilityState</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Events</summary><ol><li><a href=\"/en-US/docs/Web/API/Document/visibilitychange_event\"><code>Document</code>: <code>visibilitychange</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The Page Visibility API provides events you can watch for to know when a document becomes visible or hidden, as well as features to look at the current visibility state of the page.</p>\n<p>This is especially useful for saving resources and improving performance by letting a page avoid performing unnecessary tasks when the document isn't visible.</p>"}},{"type":"prose","value":{"id":"concepts_and_usage","title":"Concepts and usage","isH3":false,"content":"<p>When the user minimizes the window or switches to another tab, the API sends a <a href=\"/en-US/docs/Web/API/Document/visibilitychange_event\" title=\"visibilitychange\"><code>visibilitychange</code></a> event to let listeners know the state of the page has changed. You can detect the event and perform some actions or behave differently. For example, if your web app is playing a video, it can pause the video when the user puts the tab into the background, and resume playback when the user returns to the tab. The user doesn't lose their place in the video, the video's soundtrack doesn't interfere with audio in the new foreground tab, and the user doesn't miss any of the video in the meantime.</p>\n<p>Visibility states of an <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a> are the same as the parent document. Hiding an <code>&lt;iframe&gt;</code> using CSS properties (such as <a href=\"/en-US/docs/Web/CSS/display\"><code>display: none;</code></a>) doesn't trigger visibility events or change the state of the document contained within the frame.</p>"}},{"type":"prose","value":{"id":"use_cases","title":"Use cases","isH3":true,"content":"<p>Let's consider a few use cases for the Page Visibility API.</p>\n<ul>\n  <li>A site has an image carousel that shouldn't advance to the next slide unless the user is viewing the page</li>\n  <li>An application showing a dashboard of information doesn't want to poll the server for updates when the page isn't visible</li>\n  <li>A page wants to detect when it is being prerendered so it can keep accurate count of page views</li>\n  <li>A site wants to switch off sounds when a device is in standby mode (user pushes power button to turn screen off)</li>\n</ul>\n<p>Developers have historically used imperfect proxies to detect this. For example, watching for <a href=\"/en-US/docs/Web/API/Window/blur_event\" title=\"blur\"><code>blur</code></a> and <a href=\"/en-US/docs/Web/API/Window/focus_event\" title=\"focus\"><code>focus</code></a> events on the window helps you know when your page is not the active page, but it does not tell you that your page is actually hidden to the user. The Page Visibility API addresses this.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> While <a href=\"/en-US/docs/Web/API/Window/blur_event\" title=\"onblur\"><code>onblur</code></a> and <a href=\"/en-US/docs/Web/API/Window/focus_event\" title=\"onfocus\"><code>onfocus</code></a> will tell you if the user switches windows, it doesn't necessarily mean it's hidden. Pages only become hidden when the user switches tabs or minimizes the browser window containing the tab.</p>\n</div>"}},{"type":"prose","value":{"id":"policies_in_place_to_aid_background_page_performance","title":"Policies in place to aid background page performance","isH3":true,"content":"<p>Separately from the Page Visibility API, user agents typically have a number of policies in place to mitigate the performance impact of background or hidden tabs. These may include:</p>\n<ul>\n  <li>Most browsers stop sending <a href=\"/en-US/docs/Web/API/window/requestAnimationFrame\" title=\"requestAnimationFrame()\"><code>requestAnimationFrame()</code></a> callbacks to background tabs or hidden <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a>s in order to improve performance and battery life.</li>\n  <li>Timers such as <a href=\"/en-US/docs/Web/API/setTimeout\"><code>setTimeout()</code></a> are throttled in background/inactive tabs to help improve performance. See <a href=\"/en-US/docs/Web/API/setTimeout#reasons_for_delays_longer_than_specified\">Reasons for delays longer than specified</a> for more details.</li>\n  <li>Browsers implement budget-based background timeout throttling. This operates in a similar way across modern browsers, with the details being as follows:\n    <ul>\n      <li>In Firefox, windows in background tabs each have their own time budget in milliseconds — a max and a min value of +50 ms and -150 ms, respectively. Chrome is very similar except that the budget is specified in seconds.</li>\n      <li>Windows are subjected to throttling after 30 seconds, with the same throttling delay rules as specified for window timers (again, see <a href=\"/en-US/docs/Web/API/setTimeout#reasons_for_delays_longer_than_specified\">Reasons for delays longer than specified</a>). In Chrome, this value is 10 seconds.</li>\n      <li>Timer tasks are only permitted when the budget is non-negative.</li>\n      <li>Once a timer's code has finished running, the duration of time it took to execute is subtracted from its window's timeout budget.</li>\n      <li>The budget regenerates at a rate of 10 ms per second, in both Firefox and Chrome.</li>\n    </ul>\n  </li>\n</ul>\n<p>Some processes are exempt from this throttling behavior. In these cases, you can use the Page Visibility API to reduce the tabs' performance impact while they're hidden.</p>\n<ul>\n  <li>Tabs which are playing audio are considered foreground and aren't throttled.</li>\n  <li>Tabs running code that's using real-time network connections (<a href=\"/en-US/docs/Web/API/WebSockets_API\">WebSockets</a> and <a href=\"/en-US/docs/Web/API/WebRTC_API\">WebRTC</a>) go unthrottled in order to avoid closing these connections timing out and getting unexpectedly closed.</li>\n  <li><a href=\"/en-US/docs/Web/API/IndexedDB_API\">IndexedDB</a> processes are also left unthrottled in order to avoid timeouts.</li>\n</ul>"}},{"type":"prose","value":{"id":"extensions_to_other_interfaces","title":"Extensions to other interfaces","isH3":false,"content":""}},{"type":"prose","value":{"id":"instance_properties","title":"Instance properties","isH3":true,"content":"<p>The Page Visibility API adds the following properties to the <a href=\"/en-US/docs/Web/API/Document\"><code>Document</code></a> interface:</p>\n<dl>\n  <dt id=\"document.hidden\"><a href=\"/en-US/docs/Web/API/Document/hidden\"><code>Document.hidden</code></a> <abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n    <span class=\"visually-hidden\">Deprecated</span>\n</abbr> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span></dt>\n  <dd>\n    <p>Returns <code>true</code> if the page is in a state considered to be hidden to the user, and <code>false</code> otherwise.</p>\n  </dd>\n  <dt id=\"document.visibilitystate\"><a href=\"/en-US/docs/Web/API/Document/visibilityState\"><code>Document.visibilityState</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span></dt>\n  <dd>\n    <p>A string indicating the document's current visibility state. Possible values are:</p>\n    <dl>\n      <dt id=\"visible\"><code>visible</code></dt>\n      <dd>\n        <p>The page content may be at least partially visible. In practice this means that the page is the foreground tab of a non-minimized window.</p>\n      </dd>\n      <dt id=\"hidden\"><code>hidden</code></dt>\n      <dd>\n        <p>The page's content is not visible to the user, either due to the document's tab being in the background or part of a window that is minimized, or because the device's screen is off.</p>\n      </dd>\n    </dl>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"events","title":"Events","isH3":true,"content":"<p>The Page Visibility API adds the following events to the <a href=\"/en-US/docs/Web/API/Document\"><code>Document</code></a> interface:</p>\n<dl>\n  <dt id=\"visibilitychange\"><a href=\"/en-US/docs/Web/API/Document/visibilitychange_event\" title=\"visibilitychange\"><code>visibilitychange</code></a></dt>\n  <dd>\n    <p>Fired when the content of a tab has become visible or has been hidden.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"pausing_audio_on_page_hide","title":"Pausing audio on page hide","isH3":true,"content":"<p>This example pauses audio when the user switches to a different tab, and plays when they switch back.</p>\n<h4 id=\"html\">HTML</h4>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>audio</span>\n  <span class=\"token attr-name\">controls</span>\n  <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://mdn.github.io/webaudio-examples/audio-basics/outfoxing.mp3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>audio</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"javascript\">JavaScript</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> audio <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"audio\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Handle page visibility change:</span>\n<span class=\"token comment\">// - If the page is hidden, pause the video</span>\n<span class=\"token comment\">// - If the page is shown, play the video</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"visibilitychange\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>hidden<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    audio<span class=\"token punctuation\">.</span><span class=\"token function\">pause</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    audio<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h4 id=\"result\">Result</h4><iframe class=\"sample-code-frame\" title=\"Pausing audio on page hide sample\" id=\"frame_pausing_audio_on_page_hide\" height=\"100\" src=\"https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/API/Page_Visibility_API/_sample_.pausing_audio_on_page_hide.html\" loading=\"lazy\"></iframe>\n<p>Try playing the audio, then switching to a different tab and back again.</p>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://html.spec.whatwg.org/multipage/interaction.html#dom-document-visibilitystate","title":"HTML Standard"}],"query":"api.Document.visibilityState"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.Document.visibilityState"}}],"toc":[{"text":"Concepts and usage","id":"concepts_and_usage"},{"text":"Extensions to other interfaces","id":"extensions_to_other_interfaces"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The Page Visibility API provides events you can watch for to know when a document becomes visible or hidden, as well as features to look at the current visibility state of the page.","popularity":0.0001,"modified":"2022-11-26T09:54:47.000Z","other_translations":[{"title":"Page Visibility API","locale":"fr","native":"Français"},{"title":"ページ可視性 API","locale":"ja","native":"日本語"},{"title":"Page Visibility API","locale":"ko","native":"한국어"},{"title":"Page Visibility API","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"Видимость страницы API","locale":"ru","native":"Русский"},{"title":"页面可见性 API","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/page_visibility_api","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/page_visibility_api/index.md","last_commit_url":"https://github.com/mdn/content/commit/c41a14a44308f59a7e3bbe73988044bf547172d3","filename":"index.md"},"short_title":"Page Visibility API","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Page_Visibility_API","title":"Page Visibility API"}],"pageTitle":"Page Visibility API - Web APIs | MDN","noIndexing":false}}</script>
<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 04:37:43 GMT -->
</body></html>