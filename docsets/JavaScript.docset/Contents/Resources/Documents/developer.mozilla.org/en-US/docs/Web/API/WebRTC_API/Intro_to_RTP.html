<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 05:08:14 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="../../../../../favicon-48x48.cbbd161b.png"><link rel="apple-touch-icon" href="../../../../../apple-touch-icon.6803c6f0.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="../../../../../manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><title>Introduction to the Real-time Transport Protocol (RTP)</title><meta name="robots" content="index, follow"><meta name="description" content="The Real-time Transport Protocol (RTP), defined in RFC 3550, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC."><meta property="og:url" content="Intro_to_RTP.html"><meta property="og:title" content="Introduction to the Real-time Transport Protocol (RTP) - Web APIs | MDN"><meta property="og:locale" content="en-US"><meta property="og:description" content="The Real-time Transport Protocol (RTP), defined in RFC 3550, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC."><meta property="og:image" content="../../../../../mdn-social-share.cd6c4a5a.png"><meta property="twitter:card" content="summary_large_image"><link rel="canonical" href="Intro_to_RTP.html"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.mdn-cta-container,.on-github,.page-footer,.sidebar,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><script src="../../../../../static/js/ga.js" defer=""></script><script defer="defer" src="../../../../../static/js/main.5c9d40d0.js"></script><link href="../../../../../static/css/main.7d378400.css" rel="stylesheet"></head><body><script>document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0});const c={light:"#ffffff",dark:"#1b1b1b"};if(window&&document.documentElement)try{const t=window.localStorage.getItem("theme");t&&(document.documentElement.className=t,document.documentElement.style.backgroundColor=c[t])}catch(t){console.warn("Unable to read theme from localStorage",t)}</script><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#top-nav-search-input">Skip to search</a></li><li><a id="skip-select-language" href="#languages-switcher-button">Skip to select language</a></li></ul><div class="page-wrapper  category-api document-page"><div class="main-document-header-container"><header class="main-document-header-container top-navigation 
      
      "><div class="container "><div class="top-navigation-wrap"><a href="https://developer.mozilla.org/en-US/" class="logo" aria-label="MDN homepage"><svg id="mdn-docs-logo" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 694.9 104.4" style="enable-background:new 0 0 694.9 104.4" xml:space="preserve" role="img"><title>MDN Web Docs</title><style>.logo-m{fill:var(--text-link)}</style><g class="logo-m"><path d="M40.3 0 11.7 92.1H0L28.5 0h11.8zM50.7 0v92.1H40.3V0h10.4zM91 0 62.5 92.1H50.8L79.3 0H91zM101.4 0v92.1H91V0h10.4z"></path></g><path class="logo-m" d="M627.9 95.6h67v8.8h-67v-8.8z"></path><g style="fill:var(--text-primary)"><path d="M367 42h-4l-10.7 30.8h-5.5l-10.8-26h-.4l-10.5 26h-5.2L308.7 42h-3.8v-5.6H323V42h-6.5l6.8 20.4h.4l10.3-26h4.7l11.2 26h.5l5.7-20.3h-6.2v-5.6H367V42zM401.9 62c-.4 3.2-2 5.9-4.7 8.2-2.8 2.3-6.5 3.4-11.3 3.4-5.4 0-9.7-1.6-13.1-4.7-3.3-3.2-5-7.7-5-13.7 0-5.7 1.6-10.3 4.7-14s7.4-5.5 12.9-5.5c5.1 0 9.1 1.6 11.9 4.7s4.3 6.9 4.3 11.3c0 1.5-.2 3-.5 4.7h-25.6c.3 7.7 4 11.6 10.9 11.6 2.9 0 5.1-.7 6.5-2 1.5-1.4 2.5-3 3-4.9l6 .9zM394 51.3c.2-2.4-.4-4.7-1.8-6.9s-3.8-3.3-7-3.3c-3.1 0-5.3 1-6.9 3-1.5 2-2.5 4.4-2.8 7.2H394zM445 53.7c0 5-1.3 9.5-4 13.7s-6.9 6.2-12.7 6.2c-6 0-10.3-2.2-12.7-6.7-.1.4-.2 1.4-.4 2.9s-.3 2.5-.4 2.9h-7.3c.3-1.7.6-3.5.8-5.3.3-1.8.4-3.7.4-5.5V22.3h-6v-5.6H416v27c1.1-2.2 2.7-4.1 4.7-5.7 2-1.6 4.8-2.4 8.4-2.4 4.6 0 8.4 1.6 11.4 4.7 3 3.2 4.5 7.6 4.5 13.4zm-7.7.6c0-4.2-1-7.4-3-9.5-2-2.2-4.4-3.3-7.4-3.3-3.4 0-6 1.2-8 3.7-1.9 2.4-2.9 5-3 7.7V57c0 3 1 5.6 3 7.7s4.5 3.1 7.6 3.1c3.6 0 6.3-1.3 8.1-3.9 1.8-2.7 2.7-5.9 2.7-9.6zM506.5 72.8h-13.2v-7.2c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2 5.7 0 9.8 2.2 12.3 6.5V22.3h-8.6v-5.6h15.8v50.6h6v5.5zM493.2 56v-4.4c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zM546.3 54.6c0 5.6-1.8 10.2-5.3 13.7s-8.2 5.3-13.9 5.3-10.1-1.7-13.4-5.1c-3.3-3.4-5-7.9-5-13.5 0-5.3 1.6-9.9 4.7-13.7 3.2-3.8 7.9-5.7 14.2-5.7s11 1.9 14.1 5.7c3 3.7 4.6 8.1 4.6 13.3zm-7.7-.2c0-4-1-7.2-3-9.5s-4.8-3.5-8.2-3.5c-3.6 0-6.4 1.2-8.3 3.7s-2.9 5.6-2.9 9.5c0 3.7.9 6.8 2.8 9.4 1.9 2.6 4.6 3.9 8.3 3.9 3.6 0 6.4-1.3 8.4-3.8 1.9-2.6 2.9-5.8 2.9-9.7zM583.6 60.2c-.4 3.2-1.9 6.3-4.4 9.1-2.5 2.9-6.4 4.3-11.8 4.3-5.2 0-9.4-1.6-12.6-4.8-3.2-3.2-4.8-7.7-4.8-13.7 0-5.5 1.6-10.1 4.7-13.9 3.2-3.8 7.6-5.7 13.2-5.7 2.3 0 4.6.3 6.7.8 2.2.5 4.2 1.5 6.2 2.9l1.5 9.5-5.9.7-1.3-6.1c-2.1-1.2-4.5-1.8-7.2-1.8-3.5 0-6.1 1.2-7.7 3.7-1.7 2.5-2.5 5.7-2.5 9.6 0 4.1.9 7.3 2.7 9.5 1.8 2.3 4.4 3.4 7.8 3.4 5.2 0 8.2-2.9 9.2-8.8l6.2 1.3zM618.3 62.1c0 3.6-1.5 6.5-4.6 8.5s-7 3-11.7 3c-5.7 0-10.6-1.2-14.6-3.6l1.2-8.8 5.7.6-.2 4.7c1.1.5 2.3.9 3.6 1.1s2.6.3 3.9.3c2.4 0 4.5-.4 6.5-1.3 1.9-.9 2.9-2.2 2.9-4.1 0-1.8-.8-3.1-2.3-3.8s-3.5-1.3-5.8-1.7-4.6-.9-6.9-1.4c-2.3-.6-4.2-1.6-5.7-2.9-1.6-1.4-2.3-3.5-2.3-6.3 0-4.1 1.5-6.9 4.6-8.5s6.4-2.4 9.9-2.4c2.6 0 5 .3 7.2.9 2.2.6 4.3 1.4 6.1 2.4l.8 8.8-5.8.7-.8-5.7c-2.3-1-4.7-1.6-7.2-1.6-2.1 0-3.7.4-5.1 1.1-1.3.8-2 2-2 3.8 0 1.7.8 2.9 2.3 3.6 1.5.7 3.4 1.2 5.7 1.6 2.2.4 4.5.8 6.7 1.4 2.2.6 4.1 1.6 5.7 3 1.4 1.6 2.2 3.7 2.2 6.6zM197.6 73.2h-17.1v-5.5h3.8V51.9c0-3.7-.7-6.3-2.1-7.9-1.4-1.6-3.3-2.3-5.7-2.3-3.2 0-5.6 1.1-7.2 3.4s-2.4 4.6-2.5 6.9v15.6h6v5.5h-17.1v-5.5h3.8V51.9c0-3.8-.7-6.4-2.1-7.9-1.4-1.5-3.3-2.3-5.6-2.3-3.2 0-5.5 1.1-7.2 3.3-1.6 2.2-2.4 4.5-2.5 6.9v15.8h6.9v5.5h-20.2v-5.5h6V42.4h-6.1v-5.6h13.4v6.4c1.2-2.1 2.7-3.8 4.7-5.2 2-1.3 4.4-2 7.3-2s5.3.7 7.5 2.1c2.2 1.4 3.7 3.5 4.5 6.4 1.1-2.5 2.7-4.5 4.9-6.1s4.8-2.4 7.9-2.4c3.5 0 6.5 1.1 8.9 3.3s3.7 5.6 3.7 10.2v18.2h6.1v5.5zm42.5 0h-13.2V66c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2s9.8 2.2 12.3 6.5V22.7h-8.6v-5.6h15.8v50.6h6v5.5zm-13.3-16.8V52c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm61.5 16.8H269v-5.5h6V51.9c0-3.7-.7-6.3-2.2-7.9-1.4-1.6-3.4-2.3-5.7-2.3-3.1 0-5.6 1-7.4 3s-2.8 4.4-2.9 7v15.9h6v5.5h-19.3v-5.5h6V42.4h-6.2v-5.6h13.6V43c2.6-4.6 6.8-6.9 12.7-6.9 3.6 0 6.7 1.1 9.2 3.3s3.7 5.6 3.7 10.2v18.2h6v5.4h-.2z"></path></g></svg></a><button title="Open main menu" type="button" class="button action has-icon main-menu-toggle" aria-haspopup="menu" aria-label="Open main menu" aria-expanded="false"><span class="button-wrap"><span class="icon icon-menu "></span><span class="visually-hidden">Open main menu</span></span></button></div><div class="top-navigation-main"><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button type="button" id="references-button" class="top-level-entry menu-toggle" aria-controls="references-menu" aria-expanded="false">References</button><a href="https://developer.mozilla.org/en-US/docs/Web" class="top-level-entry">References</a><ul id="references-menu" class="submenu references hidden inline-submenu-lg" aria-labelledby="references-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Structure of content on the web</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Code used to describe document style</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">General-purpose scripting language</p></div></a></li><li class="http-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP" class="submenu-item "><div class="submenu-icon http"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTTP</div><p class="submenu-item-description">Protocol for transmitting web resources</p></div></a></li><li class="apis-link-container "><a href="../../API.html" class="submenu-item "><div class="submenu-icon apis"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web APIs</div><p class="submenu-item-description">Interfaces for building web applications</p></div></a></li><li class="apis-link-container "><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Extensions</div><p class="submenu-item-description">Developing extensions for web browsers</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="guides-button" class="top-level-entry menu-toggle" aria-controls="guides-menu" aria-expanded="false">Guides</button><a href="https://developer.mozilla.org/en-US/docs/Learn" class="top-level-entry">Guides</a><ul id="guides-menu" class="submenu guides hidden inline-submenu-lg" aria-labelledby="guides-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Learn to structure web content with HTML</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Learn to style content using CSS</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">Learn to run scripts in the browser</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Accessibility</div><p class="submenu-item-description">Learn to make the web accessible to all</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="mdn-plus-button" class="top-level-entry menu-toggle" aria-controls="mdn-plus-menu" aria-expanded="false">MDN Plus</button><a href="https://developer.mozilla.org/en-US/plus" class="top-level-entry">MDN Plus</a><ul id="mdn-plus-menu" class="submenu mdn-plus hidden inline-submenu-lg" aria-labelledby="mdn-plus-button"><li class=" "><a href="https://developer.mozilla.org/en-US/plus" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview</div><p class="submenu-item-description">A customized MDN experience</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/updates" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Updates</div><p class="submenu-item-description">All browser compatibility updates at a glance</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/features/overview" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Documentation</div><p class="submenu-item-description">Learn how to use MDN Plus</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/faq" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">FAQ</div><p class="submenu-item-description">Frequently asked questions about MDN Plus</p></div></a></li></ul></li></ul></nav><div class="header-search"><form action="https://developer.mozilla.org/en-US/search" role="search" aria-haspopup="listbox" aria-owns="top-nav-search-menu" aria-expanded="false" class="search-form search-widget" id="top-nav-search-form"><label id="top-nav-search-label" for="top-nav-search-input" class="visually-hidden">Search MDN</label><input id="top-nav-search-input" aria-autocomplete="list" aria-controls="top-nav-search-menu" aria-labelledby="top-nav-search-label" autocomplete="off" type="search" class="search-input-field" name="q" placeholder="   " required="" value=""><button type="button" class="button action has-icon clear-search-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear search input</span></span></button><button type="submit" class="button action has-icon search-button"><span class="button-wrap"><span class="icon icon-search "></span><span class="visually-hidden">Search</span></span></button><div id="top-nav-search-menu" role="listbox" aria-labelledby="top-nav-search-label"></div></form></div><div class="theme-switcher-menu"><button type="button" class="button action has-icon theme-switcher-menu small" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-theme-os-default "></span>Theme</span></button></div><ul class="auth-container"><li><a href="https://developer.mozilla.org/users/fxa/login/authenticate/?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWebRTC_API%2FIntro_to_RTP" class="signin-link" rel="nofollow">Already a subscriber?</a></li><li><a class="button primary mdn-plus-subscribe-link" href="https://developer.mozilla.org/en-US/plus"><span class="button-wrap">Get MDN Plus</span></a></li></ul></div></div></header><div class="article-actions-container"><div class="container"><button type="button" class="button action has-icon sidebar-button" aria-label="Expand sidebar" aria-expanded="false" aria-controls="sidebar-quicklinks"><span class="button-wrap"><span class="icon icon-sidebar "></span></span></button><nav class="breadcrumbs-container" aria-label="Breadcrumb"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="https://developer.mozilla.org/en-US/docs/Web"><span property="name">References</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../../API.html"><span property="name">Web APIs</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../WebRTC_API.html"><span property="name">WebRTC API</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="Intro_to_RTP.html"><span property="name">Introduction to the Real-time Transport Protocol (RTP)</span></a><meta property="position" content="4"></li></ol></nav></div></div></div><div class="main-wrapper"><aside id="sidebar-quicklinks" class="sidebar"><button type="button" class="button action backdrop" aria-label="Collapse sidebar"><span class="button-wrap"></span></button><nav aria-label="Related Topics" class="sidebar-inner"><div class="in-nav-toc"><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#key_features_of_rtp">Key features of RTP</a></li><li class="document-toc-item "><a class="document-toc-link" href="#rtcpeerconnection_and_rtp">RTCPeerConnection and RTP</a></li><li class="document-toc-item "><a class="document-toc-link" href="#see_also">See also</a></li></ul></section></div></div><div><ol><li><strong><a href="../WebRTC_API.html">WebRTC API</a></strong></li><li class="toggle"><details open=""><summary>Guides</summary><ol><li><a href="Protocols.html">Introduction to WebRTC protocols</a></li><li><a href="Connectivity.html">WebRTC connectivity</a></li><li><a href="Session_lifetime.html">Lifetime of a WebRTC session</a></li><li><a href="Signaling_and_video_calling.html">Signaling and video calling</a></li><li><a href="Using_data_channels.html">Using WebRTC data channels</a></li><li><a href="Using_DTMF.html">Using DTMF with WebRTC</a></li><li><a href="../WebRTC_API.html#interoperability">WebRTC API</a></li><li><a href="Simple_RTCDataChannel_sample.html">A simple RTCDataChannel sample</a></li><li><a href="Build_a_phone_with_peerjs.html">Building an Internet-Connected Phone with PeerJS</a></li></ol></details></li><li class="toggle"><details open=""><summary>Interfaces</summary><ol><li><a href="../RTCPeerConnection.html"><code>RTCPeerConnection</code></a></li><li><a href="../RTCSessionDescription.html"><code>RTCSessionDescription</code></a></li><li><a href="../RTCIceCandidate.html"><code>RTCIceCandidate</code></a></li><li><a href="../RTCPeerConnectionIceEvent.html"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href="../RTCPeerConnectionIceErrorEvent.html"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href="../RTCCertificate.html"><code>RTCCertificate</code></a></li><li><a href="../RTCRtpSender.html"><code>RTCRtpSender</code></a></li><li><a href="../RTCRtpReceiver.html"><code>RTCRtpReceiver</code></a></li><li><a href="../RTCRtpTransceiver.html"><code>RTCRtpTransceiver</code></a></li><li><a href="../RTCDtlsTransport.html"><code>RTCDtlsTransport</code></a></li><li><a href="../RTCIceTransport.html"><code>RTCIceTransport</code></a></li><li><a href="../RTCTrackEvent.html"><code>RTCTrackEvent</code></a></li><li><a href="../RTCSctpTransport.html"><code>RTCSctpTransport</code></a></li><li><a href="../RTCDataChannel.html"><code>RTCDataChannel</code></a></li><li><a href="../RTCDataChannelEvent.html"><code>RTCDataChannelEvent</code></a></li><li><a href="../RTCDTMFSender.html"><code>RTCDTMFSender</code></a></li><li><a href="../RTCDTMFToneChangeEvent.html"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href="../RTCStatsReport.html"><code>RTCStatsReport</code></a></li><li><a href="../RTCErrorEvent.html"><code>RTCErrorEvent</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Properties</summary><ol><li><a href="../Navigator/mediaDevices.html"><code>Navigator.mediaDevices</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Methods</summary><ol><li><a href="../MediaDevices/getUserMedia.html"><code>MediaDevices.getUserMedia()</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Events</summary><ol><li><a href="../RTCDTMFSender/tonechange_event.html"><code>RTCDTMFSender</code>: <code>tonechange</code></a></li><li><a href="../RTCDataChannel/bufferedamountlow_event.html"><code>RTCDataChannel</code>: <code>bufferedamountlow</code></a></li><li><a href="../RTCDataChannel/close_event.html"><code>RTCDataChannel</code>: <code>close</code></a></li><li><a href="../RTCDataChannel/closing_event.html"><code>RTCDataChannel</code>: <code>closing</code></a></li><li><a href="../RTCDataChannel/error_event.html"><code>RTCDataChannel</code>: <code>error</code></a></li><li><a href="../RTCDataChannel/message_event.html"><code>RTCDataChannel</code>: <code>message</code></a></li><li><a href="../RTCDataChannel/open_event.html"><code>RTCDataChannel</code>: <code>open</code></a></li><li><a href="../RTCDtlsTransport/error_event.html"><code>RTCDtlsTransport</code>: <code>error</code></a></li><li><a href="../RTCDtlsTransport/statechange_event.html"><code>RTCDtlsTransport</code>: <code>statechange</code></a></li><li><a href="../RTCIceTransport/error_event.html"><code>RTCIceTransport</code>: <code>error</code></a></li><li><a href="../RTCIceTransport/gatheringstatechange_event.html"><code>RTCIceTransport</code>: <code>gatheringstatechange</code></a></li><li><a href="../RTCIceTransport/selectedcandidatepairchange_event.html"><code>RTCIceTransport</code>: <code>selectedcandidatepairchange</code></a></li><li><a href="../RTCIceTransport/statechange_event.html"><code>RTCIceTransport</code>: <code>statechange</code></a></li><li><a href="../RTCPeerConnection/connectionstatechange_event.html"><code>RTCPeerConnection</code>: <code>connectionstatechange</code></a></li><li><a href="../RTCPeerConnection/datachannel_event.html"><code>RTCPeerConnection</code>: <code>datachannel</code></a></li><li><a href="../RTCPeerConnection/icecandidate_event.html"><code>RTCPeerConnection</code>: <code>icecandidate</code></a></li><li><a href="../RTCPeerConnection/icecandidateerror_event.html"><code>RTCPeerConnection</code>: <code>icecandidateerror</code></a></li><li><a href="../RTCPeerConnection/iceconnectionstatechange_event.html"><code>RTCPeerConnection</code>: <code>iceconnectionstatechange</code></a></li><li><a href="../RTCPeerConnection/icegatheringstatechange_event.html"><code>RTCPeerConnection</code>: <code>icegatheringstatechange</code></a></li><li><a href="../RTCPeerConnection/negotiationneeded_event.html"><code>RTCPeerConnection</code>: <code>negotiationneeded</code></a></li><li><a href="../RTCPeerConnection/signalingstatechange_event.html"><code>RTCPeerConnection</code>: <code>signalingstatechange</code></a></li><li><a href="../RTCPeerConnection/track_event.html"><code>RTCPeerConnection</code>: <code>track</code></a></li><li><a href="../RTCSctpTransport/error_event.html"><code>RTCSctpTransport</code>: <code>error</code></a></li></ol></details></li></ol></div></nav></aside><aside class="toc"><nav><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#key_features_of_rtp">Key features of RTP</a></li><li class="document-toc-item "><a class="document-toc-link" href="#rtcpeerconnection_and_rtp">RTCPeerConnection and RTP</a></li><li class="document-toc-item "><a class="document-toc-link" href="#see_also">See also</a></li></ul></section></div></nav></aside><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><h1>Introduction to the Real-time Transport Protocol (RTP)</h1><div class="section-content"><p>The <strong>Real-time Transport Protocol</strong> (<strong>RTP</strong>), defined in <a href="https://datatracker.ietf.org/doc/html/rfc3550" class="external" target="_blank">RFC 3550</a>, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC.</p>
<div class="notecard note" id="sect1">
  <p><strong>Note:</strong> WebRTC actually uses <strong>SRTP</strong> (Secure Real-time Transport Protocol) to ensure that the exchanged data is secure and authenticated as appropriate.</p>
</div>
<p>Keeping latency to a minimum is especially important for WebRTC, since face-to-face communication needs to be performed with as little <a href="https://developer.mozilla.org/en-US/docs/Glossary/Latency">latency</a> as possible. The more time lag there is between one user saying something and another hearing it, the more likely there is to be episodes of cross-talking and other forms of confusion.</p></div><section aria-labelledby="key_features_of_rtp"><a class="dashAnchor" name="//apple_ref/Section/Key%20features%20of%20RTP"></a><h2 id="key_features_of_rtp"><a href="#key_features_of_rtp">Key features of RTP</a></h2><div class="section-content"><p>Before examining RTP's use in WebRTC contexts, it's useful to have a general idea of what RTP does and does not offer. RTP is a data transport protocol, whose mission is to move data between two endpoints as efficiently as possible under current conditions. Those conditions may be affected by everything from the underlying layers of the network stack to the physical network connection, the intervening networks, the performance of the remote endpoint, noise levels, traffic levels, and so forth.</p>
<p>Since RTP is a data transport, it is augmented by the closely-related <strong>RTP Control Protocol</strong> (<strong>RTCP</strong>), which is defined in <a href="https://datatracker.ietf.org/doc/html/rfc3550#section-6" class="external" target="_blank">RFC 3550, section 6</a>. RTCP adds features including <strong>Quality of Service</strong> (<strong>QoS</strong>) monitoring, participant information sharing, and the like. It isn't adequate for the purposes of fully managing users, memberships, permissions, and so forth, but provides the basics needed for an unrestricted multi-user communication session.</p>
<p>The very fact that RTCP is defined in the same RFC as RTP is a clue as to just how closely-interrelated these two protocols are.</p></div></section><section aria-labelledby="capabilities_of_rtp"><h3 id="capabilities_of_rtp"><a href="#capabilities_of_rtp">Capabilities of RTP</a></h3><div class="section-content"><p>RTP's primary benefits in terms of WebRTC include:</p>
<ul>
  <li>Generally low latency.</li>
  <li>Packets are sequence-numbered and timestamped for reassembly if they arrive out of order. This lets data sent using RTP be delivered on transports that don't guarantee ordering or even guarantee delivery at all.</li>
  <li>This means RTP can be — but is not required to be — used atop <a href="https://developer.mozilla.org/en-US/docs/Glossary/UDP">UDP</a> for its performance as well as its multiplexing and checksum features.</li>
  <li>RTP supports multicast; while this isn't yet important for WebRTC, it's likely to matter in the future, when WebRTC is (hopefully) enhanced to support multi-user conversations.</li>
  <li>RTP isn't limited to use in audiovisual communication. It can be used for any form of continuous or active data transfer, including data streaming, active badges or status display updates, or control and measurement information transport.</li>
</ul></div></section><section aria-labelledby="things_rtp_doesnt_do"><h3 id="things_rtp_doesnt_do"><a href="#things_rtp_doesnt_do">Things RTP doesn't do</a></h3><div class="section-content"><p>RTP itself doesn't provide every possible feature, which is why other protocols are also used by WebRTC. Some of the more noteworthy things RTP doesn't include:</p>
<ul>
  <li>RTP does <em>not</em> guarantee <strong><a href="https://en.wikipedia.org/wiki/Quality-of-service" class="external" target="_blank">quality-of-service</a></strong> (<strong>QoS</strong>).</li>
  <li>While RTP is intended for use in latency-critical scenarios, it doesn't inherently offer any features that ensure QoS. Instead, it only offers the information necessary to allow QoS to be implemented elsewhere in the stack.</li>
  <li>RTP doesn't handle allocation or reservation of resources that may be needed.</li>
</ul>
<p>Where it matters for WebRTC purposes, these are dealt with in a variety of places within the WebRTC infrastructure. For example, RTCP handles QoS monitoring.</p></div></section><section aria-labelledby="rtcpeerconnection_and_rtp"><a class="dashAnchor" name="//apple_ref/Section/RTCPeerConnection%20and%20RTP"></a><h2 id="rtcpeerconnection_and_rtp"><a href="#rtcpeerconnection_and_rtp">RTCPeerConnection and RTP</a></h2><div class="section-content"><p>Each <a href="../RTCPeerConnection.html"><code>RTCPeerConnection</code></a> has methods which provide access to the list of RTP transports that service the peer connection. These correspond to the following three types of transport supported by <code>RTCPeerConnection</code>:</p>
<dl>
  <dt id="rtcrtpsender"><a href="../RTCRtpSender.html"><code>RTCRtpSender</code></a></dt>
  <dd>
    <p><code>RTCRtpSender</code>s handle the encoding and transmission of <a href="../MediaStreamTrack.html"><code>MediaStreamTrack</code></a> data to a remote peer. The senders for a given connection can be obtained by calling <a href="../RTCPeerConnection/getSenders.html"><code>RTCPeerConnection.getSenders()</code></a>.</p>
  </dd>
  <dt id="rtcrtpreceiver"><a href="../RTCRtpReceiver.html"><code>RTCRtpReceiver</code></a></dt>
  <dd>
    <p><code>RTCRtpReceiver</code>s provide the ability to inspect and obtain information about incoming <code>MediaStreamTrack</code> data. A connection's receivers can be obtained by calling <a href="../RTCPeerConnection/getReceivers.html"><code>RTCPeerConnection.getReceivers()</code></a>.</p>
  </dd>
  <dt id="rtcrtptransceiver"><a href="../RTCRtpTransceiver.html"><code>RTCRtpTransceiver</code></a></dt>
  <dd>
    <p>An <code>RTCRtpTransceiver</code> is a pair of one RTP sender and one RTP receiver which share an SDP <code>mid</code> attribute, which means they share the same SDP media m-line (representing a bidirectional SRTP stream). These are returned by the <a href="../RTCPeerConnection/getTransceivers.html"><code>RTCPeerConnection.getTransceivers()</code></a> method, and each <code>mid</code> and transceiver share a one-to-one relationship, with the <code>mid</code> being unique for each <code>RTCPeerConnection</code>.</p>
  </dd>
</dl></div></section><section aria-labelledby="leveraging_rtp_to_implement_a_hold_feature"><h3 id="leveraging_rtp_to_implement_a_hold_feature"><a href="#leveraging_rtp_to_implement_a_hold_feature">Leveraging RTP to implement a "hold" feature</a></h3><div class="section-content"><p>Because the streams for an <code>RTCPeerConnection</code> are implemented using RTP and the interfaces <a href="#rtcpeerconnection_and_rtp">above</a>, you can take advantage of the access this gives you to the internals of streams to make adjustments. Among the simplest things you can do is to implement a "hold" feature, wherein a participant in a call can click a button and turn off their microphone, begin sending music to the other peer instead, and stop accepting incoming audio.</p>
<div class="notecard note" id="sect2">
  <p><strong>Note:</strong> This example makes use of modern JavaScript features including <a href="../../JavaScript/Reference/Statements/async_function.html">async functions</a> and the <a href="../../JavaScript/Reference/Operators/await.html"><code>await</code></a> expression. This enormously simplifies and makes far more readable the code dealing with the promises returned by WebRTC methods.</p>
</div>
<p>In the examples below, we'll refer to the peer which is turning "hold" mode on and off as the local peer and the user being placed on hold as the remote peer.</p>
<h4 id="activating_hold_mode">Activating hold mode</h4>
<h5 id="local_peer">Local peer</h5>
<p>When the local user decides to enable hold mode, the <code>enableHold()</code> method below is called. It accepts as input a <a href="../MediaStream.html"><code>MediaStream</code></a> containing the audio to play while the call is on hold.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">enableHold</span><span class="token punctuation">(</span><span class="token parameter">audioStream</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> audioTransceiver<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">replaceTrack</span><span class="token punctuation">(</span>audioStream<span class="token punctuation">.</span><span class="token function">getAudioTracks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioTransceiver<span class="token punctuation">.</span>receiver<span class="token punctuation">.</span>track<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    audioTransceiver<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">"sendonly"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* handle the error */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The three lines of code within the <a href="../../JavaScript/Reference/Statements/try...html"><code>try</code></a> block perform the following steps:</p>
<ol>
  <li>Replace their outgoing audio track with a <a href="../MediaStreamTrack.html"><code>MediaStreamTrack</code></a> containing hold music.</li>
  <li>Disable the incoming audio track.</li>
  <li>Switch the audio transceiver into send-only mode.</li>
</ol>
<p>This triggers renegotiation of the <code>RTCPeerConnection</code> by sending it a <a href="../RTCPeerConnection/negotiationneeded_event.html" title="negotiationneeded"><code>negotiationneeded</code></a> event, which your code responds to generating an SDP offer using <a href="../RTCPeerConnection/createOffer.html"><code>RTCPeerConnection.createOffer</code></a> and sending it through the signaling server to the remote peer.</p>
<p>The <code>audioStream</code>, containing the audio to play instead of the local peer's microphone audio, can come from anywhere. One possibility is to have a hidden <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio"><code>&lt;audio&gt;</code></a> element and use <a href="../HTMLMediaElement/captureStream.html" title="HTMLAudioElement.captureStream()"><code>HTMLAudioElement.captureStream()</code></a> to get its audio stream.</p>
<h5 id="remote_peer">Remote peer</h5>
<p>On the remote peer, when we receive an SDP offer with the directionality set to <code>"sendonly"</code>, we handle it using the <code>holdRequested()</code> method, which accepts as input an SDP offer string.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">holdRequested</span><span class="token punctuation">(</span><span class="token parameter">offer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> peerConnection<span class="token punctuation">.</span><span class="token function">setRemoteDescription</span><span class="token punctuation">(</span>offer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> audioTransceiver<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">replaceTrack</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioTransceiver<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">"recvonly"</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">sendAnswer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* handle the error */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The steps taken here are:</p>
<ol>
  <li>Set the remote description to the specified <code>offer</code> by calling <a href="../RTCPeerConnection/setRemoteDescription.html"><code>RTCPeerConnection.setRemoteDescription()</code></a>.</li>
  <li>Replace the audio transceiver's <a href="../RTCRtpSender.html"><code>RTCRtpSender</code></a>'s track with <code>null</code>, meaning no track. This stops sending audio on the transceiver.</li>
  <li>Set the audio transceiver's <a href="../RTCRtpTransceiver/direction.html" title="direction"><code>direction</code></a> property to <code>"recvonly"</code>, instructing the transceiver to only accept audio and not to send any.</li>
  <li>The SDP answer is generated and sent using a method called <code>sendAnswer()</code>, which generates the answer using <a href="../RTCPeerConnection/createAnswer.html" title="createAnswer()"><code>createAnswer()</code></a> then sends the resulting SDP to the other peer over the signaling service.</li>
</ol>
<h4 id="deactivating_hold_mode">Deactivating hold mode</h4>
<h5 id="local_peer_2">Local peer</h5>
<p>When the local user clicks the interface widget to disable hold mode, the <code>disableHold()</code> method is called to begin the process of restoring normal functionality.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">disableHold</span><span class="token punctuation">(</span><span class="token parameter">micStream</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> audioTransceiver<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">replaceTrack</span><span class="token punctuation">(</span>micStream<span class="token punctuation">.</span><span class="token function">getAudioTracks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  audioTransceiver<span class="token punctuation">.</span>receiver<span class="token punctuation">.</span>track<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  audioTransceiver<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">"sendrecv"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>This reverses the steps taken in <code>enableHold()</code> as follows:</p>
<ol>
  <li>The audio transceiver's <code>RTCRtpSender</code>'s track is replaced with the specified stream's first audio track.</li>
  <li>The transceiver's incoming audio track is re-enabled.</li>
  <li>The audio transceiver's direction is set to <code>"sendrecv"</code>, indicating that it should return to both sending and receiving streamed audio, instead of only sending.</li>
</ol>
<p>Just like when hold was engaged, this triggers negotiation again, resulting in your code sending a new offer to the remote peer.</p>
<h5 id="remote_peer_2">Remote peer</h5>
<p>When the <code>"sendrecv"</code> offer is received by the remote peer, it calls its <code>holdEnded()</code> method:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">holdEnded</span><span class="token punctuation">(</span><span class="token parameter">offer<span class="token punctuation">,</span> micStream</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> peerConnection<span class="token punctuation">.</span><span class="token function">setRemoteDescription</span><span class="token punctuation">(</span>offer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> audioTransceiver<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">replaceTrack</span><span class="token punctuation">(</span>micStream<span class="token punctuation">.</span><span class="token function">getAudioTracks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioTransceiver<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">"sendrecv"</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">sendAnswer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* handle the error */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The steps taken inside the <code>try</code> block here are:</p>
<ol>
  <li>The received offer is stored as the remote description by calling <code>setRemoteDescription()</code>.</li>
  <li>The audio transceiver's <code>RTCRtpSender</code>'s <a href="../RTCRtpSender/replaceTrack.html" title="replaceTrack()"><code>replaceTrack()</code></a> method is used to set the outgoing audio track to the first track of the microphone's audio stream.</li>
  <li>The transceiver's direction is set to <code>"sendrecv"</code>, indicating that it should resume both sending and receiving audio.</li>
</ol>
<p>From this point on, the microphone is re-engaged and the remote user is once again able to hear the local user, as well as speak to them.</p></div></section><section aria-labelledby="see_also"><a class="dashAnchor" name="//apple_ref/Section/See%20also"></a><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
  <li><a href="Connectivity.html">WebRTC connectivity</a></li>
  <li><a href="Protocols.html">Introduction to WebRTC protocols</a></li>
  <li><a href="Session_lifetime.html">Lifetime of a WebRTC session</a></li>
</ul></div></section><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a content problem with this page?</h3><ul><li>Edit the page <a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/webrtc_api/intro_to_rtp/index.md" title="This will take you to GitHub, where you'll need to sign in first." target="_blank" rel="noopener noreferrer">on GitHub</a>.</li><li>Report the <a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWebRTC_API%2FIntro_to_RTP&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fwebrtc_api%2Fintro_to_rtp%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWebRTC_API%2FIntro_to_RTP%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fwebrtc_api%2Fintro_to_rtp%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Fef2cc3c5971737f9df85411a9eb70aa6e32f29d5%0A*+Document+last+modified%3A+2023-01-01T09%3A07%3A41.000Z%0A%0A%3C%2Fdetails%3E" title="This will take you to GitHub to file a new issue." target="_blank" rel="noopener noreferrer">content issue</a>.</li><li>View the source <a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/webrtc_api/intro_to_rtp/index.md?plain=1" title="Folder: en-us/web/api/webrtc_api/intro_to_rtp (Opens in a new tab)" target="_blank" rel="noopener noreferrer">on GitHub</a>.</li></ul>Want to get more involved? Learn<!-- --> <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md" title="This will take you to our contribution guidelines on GitHub." target="_blank" rel="noopener noreferrer">how to contribute</a>.</div><p class="last-modified-date">This page was last modified on<!-- --> <time datetime="2023-01-01T09:07:41.000Z">Jan 1, 2023</time> by<!-- --> <a href="Intro_to_RTP/contributors.txt">MDN contributors</a>.</p></div></aside></article></main></div><footer id="nav-footer" class="page-footer"><div><a href="http://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP">Introduction to the Real-time Transport Protocol (RTP)</a> by <a href="http://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP$history">Mozilla Contributors</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/2.5/">CC-BY-SA 2.5</a>.</div></footer></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Introduction to the Real-time Transport Protocol (RTP)","mdn_url":"/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebRTC_API\">WebRTC API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Guides</summary><ol><li><a href=\"/en-US/docs/Web/API/WebRTC_API/Protocols\">Introduction to WebRTC protocols</a></li><li><a href=\"/en-US/docs/Web/API/WebRTC_API/Connectivity\">WebRTC connectivity</a></li><li><a href=\"/en-US/docs/Web/API/WebRTC_API/Session_lifetime\">Lifetime of a WebRTC session</a></li><li><a href=\"/en-US/docs/Web/API/WebRTC_API/Signaling_and_video_calling\">Signaling and video calling</a></li><li><a href=\"/en-US/docs/Web/API/WebRTC_API/Using_data_channels\">Using WebRTC data channels</a></li><li><a href=\"/en-US/docs/Web/API/WebRTC_API/Using_DTMF\">Using DTMF with WebRTC</a></li><li><a href=\"/en-US/docs/Web/API/WebRTC_API#interoperability\">WebRTC API</a></li><li><a href=\"/en-US/docs/Web/API/WebRTC_API/Simple_RTCDataChannel_sample\">A simple RTCDataChannel sample</a></li><li><a href=\"/en-US/docs/Web/API/WebRTC_API/Build_a_phone_with_peerjs\">Building an Internet-Connected Phone with PeerJS</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection\"><code>RTCPeerConnection</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCSessionDescription\"><code>RTCSessionDescription</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceCandidate\"><code>RTCIceCandidate</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnectionIceEvent\"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnectionIceErrorEvent\"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCCertificate\"><code>RTCCertificate</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCRtpSender\"><code>RTCRtpSender</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCRtpReceiver\"><code>RTCRtpReceiver</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCRtpTransceiver\"><code>RTCRtpTransceiver</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDtlsTransport\"><code>RTCDtlsTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceTransport\"><code>RTCIceTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCTrackEvent\"><code>RTCTrackEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCSctpTransport\"><code>RTCSctpTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannel\"><code>RTCDataChannel</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannelEvent\"><code>RTCDataChannelEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDTMFSender\"><code>RTCDTMFSender</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDTMFToneChangeEvent\"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCStatsReport\"><code>RTCStatsReport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCErrorEvent\"><code>RTCErrorEvent</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/Navigator/mediaDevices\"><code>Navigator.mediaDevices</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaDevices/getUserMedia\"><code>MediaDevices.getUserMedia()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Events</summary><ol><li><a href=\"/en-US/docs/Web/API/RTCDTMFSender/tonechange_event\"><code>RTCDTMFSender</code>: <code>tonechange</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannel/bufferedamountlow_event\"><code>RTCDataChannel</code>: <code>bufferedamountlow</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannel/close_event\"><code>RTCDataChannel</code>: <code>close</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannel/closing_event\"><code>RTCDataChannel</code>: <code>closing</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannel/error_event\"><code>RTCDataChannel</code>: <code>error</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannel/message_event\"><code>RTCDataChannel</code>: <code>message</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannel/open_event\"><code>RTCDataChannel</code>: <code>open</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDtlsTransport/error_event\"><code>RTCDtlsTransport</code>: <code>error</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDtlsTransport/statechange_event\"><code>RTCDtlsTransport</code>: <code>statechange</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceTransport/error_event\"><code>RTCIceTransport</code>: <code>error</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceTransport/gatheringstatechange_event\"><code>RTCIceTransport</code>: <code>gatheringstatechange</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceTransport/selectedcandidatepairchange_event\"><code>RTCIceTransport</code>: <code>selectedcandidatepairchange</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceTransport/statechange_event\"><code>RTCIceTransport</code>: <code>statechange</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection/connectionstatechange_event\"><code>RTCPeerConnection</code>: <code>connectionstatechange</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection/datachannel_event\"><code>RTCPeerConnection</code>: <code>datachannel</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection/icecandidate_event\"><code>RTCPeerConnection</code>: <code>icecandidate</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection/icecandidateerror_event\"><code>RTCPeerConnection</code>: <code>icecandidateerror</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection/iceconnectionstatechange_event\"><code>RTCPeerConnection</code>: <code>iceconnectionstatechange</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection/icegatheringstatechange_event\"><code>RTCPeerConnection</code>: <code>icegatheringstatechange</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection/negotiationneeded_event\"><code>RTCPeerConnection</code>: <code>negotiationneeded</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection/signalingstatechange_event\"><code>RTCPeerConnection</code>: <code>signalingstatechange</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection/track_event\"><code>RTCPeerConnection</code>: <code>track</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCSctpTransport/error_event\"><code>RTCSctpTransport</code>: <code>error</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong>Real-time Transport Protocol</strong> (<strong>RTP</strong>), defined in <a href=\"https://datatracker.ietf.org/doc/html/rfc3550\" class=\"external\" target=\"_blank\">RFC 3550</a>, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> WebRTC actually uses <strong>SRTP</strong> (Secure Real-time Transport Protocol) to ensure that the exchanged data is secure and authenticated as appropriate.</p>\n</div>\n<p>Keeping latency to a minimum is especially important for WebRTC, since face-to-face communication needs to be performed with as little <a href=\"/en-US/docs/Glossary/Latency\">latency</a> as possible. The more time lag there is between one user saying something and another hearing it, the more likely there is to be episodes of cross-talking and other forms of confusion.</p>"}},{"type":"prose","value":{"id":"key_features_of_rtp","title":"Key features of RTP","isH3":false,"content":"<p>Before examining RTP's use in WebRTC contexts, it's useful to have a general idea of what RTP does and does not offer. RTP is a data transport protocol, whose mission is to move data between two endpoints as efficiently as possible under current conditions. Those conditions may be affected by everything from the underlying layers of the network stack to the physical network connection, the intervening networks, the performance of the remote endpoint, noise levels, traffic levels, and so forth.</p>\n<p>Since RTP is a data transport, it is augmented by the closely-related <strong>RTP Control Protocol</strong> (<strong>RTCP</strong>), which is defined in <a href=\"https://datatracker.ietf.org/doc/html/rfc3550#section-6\" class=\"external\" target=\"_blank\">RFC 3550, section 6</a>. RTCP adds features including <strong>Quality of Service</strong> (<strong>QoS</strong>) monitoring, participant information sharing, and the like. It isn't adequate for the purposes of fully managing users, memberships, permissions, and so forth, but provides the basics needed for an unrestricted multi-user communication session.</p>\n<p>The very fact that RTCP is defined in the same RFC as RTP is a clue as to just how closely-interrelated these two protocols are.</p>"}},{"type":"prose","value":{"id":"capabilities_of_rtp","title":"Capabilities of RTP","isH3":true,"content":"<p>RTP's primary benefits in terms of WebRTC include:</p>\n<ul>\n  <li>Generally low latency.</li>\n  <li>Packets are sequence-numbered and timestamped for reassembly if they arrive out of order. This lets data sent using RTP be delivered on transports that don't guarantee ordering or even guarantee delivery at all.</li>\n  <li>This means RTP can be — but is not required to be — used atop <a href=\"/en-US/docs/Glossary/UDP\">UDP</a> for its performance as well as its multiplexing and checksum features.</li>\n  <li>RTP supports multicast; while this isn't yet important for WebRTC, it's likely to matter in the future, when WebRTC is (hopefully) enhanced to support multi-user conversations.</li>\n  <li>RTP isn't limited to use in audiovisual communication. It can be used for any form of continuous or active data transfer, including data streaming, active badges or status display updates, or control and measurement information transport.</li>\n</ul>"}},{"type":"prose","value":{"id":"things_rtp_doesnt_do","title":"Things RTP doesn't do","isH3":true,"content":"<p>RTP itself doesn't provide every possible feature, which is why other protocols are also used by WebRTC. Some of the more noteworthy things RTP doesn't include:</p>\n<ul>\n  <li>RTP does <em>not</em> guarantee <strong><a href=\"https://en.wikipedia.org/wiki/Quality-of-service\" class=\"external\" target=\"_blank\">quality-of-service</a></strong> (<strong>QoS</strong>).</li>\n  <li>While RTP is intended for use in latency-critical scenarios, it doesn't inherently offer any features that ensure QoS. Instead, it only offers the information necessary to allow QoS to be implemented elsewhere in the stack.</li>\n  <li>RTP doesn't handle allocation or reservation of resources that may be needed.</li>\n</ul>\n<p>Where it matters for WebRTC purposes, these are dealt with in a variety of places within the WebRTC infrastructure. For example, RTCP handles QoS monitoring.</p>"}},{"type":"prose","value":{"id":"rtcpeerconnection_and_rtp","title":"RTCPeerConnection and RTP","isH3":false,"content":"<p>Each <a href=\"/en-US/docs/Web/API/RTCPeerConnection\"><code>RTCPeerConnection</code></a> has methods which provide access to the list of RTP transports that service the peer connection. These correspond to the following three types of transport supported by <code>RTCPeerConnection</code>:</p>\n<dl>\n  <dt id=\"rtcrtpsender\"><a href=\"/en-US/docs/Web/API/RTCRtpSender\"><code>RTCRtpSender</code></a></dt>\n  <dd>\n    <p><code>RTCRtpSender</code>s handle the encoding and transmission of <a href=\"/en-US/docs/Web/API/MediaStreamTrack\"><code>MediaStreamTrack</code></a> data to a remote peer. The senders for a given connection can be obtained by calling <a href=\"/en-US/docs/Web/API/RTCPeerConnection/getSenders\"><code>RTCPeerConnection.getSenders()</code></a>.</p>\n  </dd>\n  <dt id=\"rtcrtpreceiver\"><a href=\"/en-US/docs/Web/API/RTCRtpReceiver\"><code>RTCRtpReceiver</code></a></dt>\n  <dd>\n    <p><code>RTCRtpReceiver</code>s provide the ability to inspect and obtain information about incoming <code>MediaStreamTrack</code> data. A connection's receivers can be obtained by calling <a href=\"/en-US/docs/Web/API/RTCPeerConnection/getReceivers\"><code>RTCPeerConnection.getReceivers()</code></a>.</p>\n  </dd>\n  <dt id=\"rtcrtptransceiver\"><a href=\"/en-US/docs/Web/API/RTCRtpTransceiver\"><code>RTCRtpTransceiver</code></a></dt>\n  <dd>\n    <p>An <code>RTCRtpTransceiver</code> is a pair of one RTP sender and one RTP receiver which share an SDP <code>mid</code> attribute, which means they share the same SDP media m-line (representing a bidirectional SRTP stream). These are returned by the <a href=\"/en-US/docs/Web/API/RTCPeerConnection/getTransceivers\"><code>RTCPeerConnection.getTransceivers()</code></a> method, and each <code>mid</code> and transceiver share a one-to-one relationship, with the <code>mid</code> being unique for each <code>RTCPeerConnection</code>.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"leveraging_rtp_to_implement_a_hold_feature","title":"Leveraging RTP to implement a \"hold\" feature","isH3":true,"content":"<p>Because the streams for an <code>RTCPeerConnection</code> are implemented using RTP and the interfaces <a href=\"#rtcpeerconnection_and_rtp\">above</a>, you can take advantage of the access this gives you to the internals of streams to make adjustments. Among the simplest things you can do is to implement a \"hold\" feature, wherein a participant in a call can click a button and turn off their microphone, begin sending music to the other peer instead, and stop accepting incoming audio.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> This example makes use of modern JavaScript features including <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\">async functions</a> and the <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/await\"><code>await</code></a> expression. This enormously simplifies and makes far more readable the code dealing with the promises returned by WebRTC methods.</p>\n</div>\n<p>In the examples below, we'll refer to the peer which is turning \"hold\" mode on and off as the local peer and the user being placed on hold as the remote peer.</p>\n<h4 id=\"activating_hold_mode\">Activating hold mode</h4>\n<h5 id=\"local_peer\">Local peer</h5>\n<p>When the local user decides to enable hold mode, the <code>enableHold()</code> method below is called. It accepts as input a <a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a> containing the audio to play while the call is on hold.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">enableHold</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">audioStream</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> audioTransceiver<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">replaceTrack</span><span class=\"token punctuation\">(</span>audioStream<span class=\"token punctuation\">.</span><span class=\"token function\">getAudioTracks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    audioTransceiver<span class=\"token punctuation\">.</span>receiver<span class=\"token punctuation\">.</span>track<span class=\"token punctuation\">.</span>enabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    audioTransceiver<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">\"sendonly\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* handle the error */</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The three lines of code within the <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/try...catch\"><code>try</code></a> block perform the following steps:</p>\n<ol>\n  <li>Replace their outgoing audio track with a <a href=\"/en-US/docs/Web/API/MediaStreamTrack\"><code>MediaStreamTrack</code></a> containing hold music.</li>\n  <li>Disable the incoming audio track.</li>\n  <li>Switch the audio transceiver into send-only mode.</li>\n</ol>\n<p>This triggers renegotiation of the <code>RTCPeerConnection</code> by sending it a <a href=\"/en-US/docs/Web/API/RTCPeerConnection/negotiationneeded_event\" title=\"negotiationneeded\"><code>negotiationneeded</code></a> event, which your code responds to generating an SDP offer using <a href=\"/en-US/docs/Web/API/RTCPeerConnection/createOffer\"><code>RTCPeerConnection.createOffer</code></a> and sending it through the signaling server to the remote peer.</p>\n<p>The <code>audioStream</code>, containing the audio to play instead of the local peer's microphone audio, can come from anywhere. One possibility is to have a hidden <a href=\"/en-US/docs/Web/HTML/Element/audio\"><code>&lt;audio&gt;</code></a> element and use <a href=\"/en-US/docs/Web/API/HTMLMediaElement/captureStream\" title=\"HTMLAudioElement.captureStream()\"><code>HTMLAudioElement.captureStream()</code></a> to get its audio stream.</p>\n<h5 id=\"remote_peer\">Remote peer</h5>\n<p>On the remote peer, when we receive an SDP offer with the directionality set to <code>\"sendonly\"</code>, we handle it using the <code>holdRequested()</code> method, which accepts as input an SDP offer string.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">holdRequested</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">offer</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> peerConnection<span class=\"token punctuation\">.</span><span class=\"token function\">setRemoteDescription</span><span class=\"token punctuation\">(</span>offer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> audioTransceiver<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">replaceTrack</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    audioTransceiver<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">\"recvonly\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">sendAnswer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* handle the error */</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The steps taken here are:</p>\n<ol>\n  <li>Set the remote description to the specified <code>offer</code> by calling <a href=\"/en-US/docs/Web/API/RTCPeerConnection/setRemoteDescription\"><code>RTCPeerConnection.setRemoteDescription()</code></a>.</li>\n  <li>Replace the audio transceiver's <a href=\"/en-US/docs/Web/API/RTCRtpSender\"><code>RTCRtpSender</code></a>'s track with <code>null</code>, meaning no track. This stops sending audio on the transceiver.</li>\n  <li>Set the audio transceiver's <a href=\"/en-US/docs/Web/API/RTCRtpTransceiver/direction\" title=\"direction\"><code>direction</code></a> property to <code>\"recvonly\"</code>, instructing the transceiver to only accept audio and not to send any.</li>\n  <li>The SDP answer is generated and sent using a method called <code>sendAnswer()</code>, which generates the answer using <a href=\"/en-US/docs/Web/API/RTCPeerConnection/createAnswer\" title=\"createAnswer()\"><code>createAnswer()</code></a> then sends the resulting SDP to the other peer over the signaling service.</li>\n</ol>\n<h4 id=\"deactivating_hold_mode\">Deactivating hold mode</h4>\n<h5 id=\"local_peer_2\">Local peer</h5>\n<p>When the local user clicks the interface widget to disable hold mode, the <code>disableHold()</code> method is called to begin the process of restoring normal functionality.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">disableHold</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">micStream</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> audioTransceiver<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">replaceTrack</span><span class=\"token punctuation\">(</span>micStream<span class=\"token punctuation\">.</span><span class=\"token function\">getAudioTracks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  audioTransceiver<span class=\"token punctuation\">.</span>receiver<span class=\"token punctuation\">.</span>track<span class=\"token punctuation\">.</span>enabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  audioTransceiver<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">\"sendrecv\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This reverses the steps taken in <code>enableHold()</code> as follows:</p>\n<ol>\n  <li>The audio transceiver's <code>RTCRtpSender</code>'s track is replaced with the specified stream's first audio track.</li>\n  <li>The transceiver's incoming audio track is re-enabled.</li>\n  <li>The audio transceiver's direction is set to <code>\"sendrecv\"</code>, indicating that it should return to both sending and receiving streamed audio, instead of only sending.</li>\n</ol>\n<p>Just like when hold was engaged, this triggers negotiation again, resulting in your code sending a new offer to the remote peer.</p>\n<h5 id=\"remote_peer_2\">Remote peer</h5>\n<p>When the <code>\"sendrecv\"</code> offer is received by the remote peer, it calls its <code>holdEnded()</code> method:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">holdEnded</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">offer<span class=\"token punctuation\">,</span> micStream</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> peerConnection<span class=\"token punctuation\">.</span><span class=\"token function\">setRemoteDescription</span><span class=\"token punctuation\">(</span>offer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> audioTransceiver<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">replaceTrack</span><span class=\"token punctuation\">(</span>micStream<span class=\"token punctuation\">.</span><span class=\"token function\">getAudioTracks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    audioTransceiver<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">\"sendrecv\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">sendAnswer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* handle the error */</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The steps taken inside the <code>try</code> block here are:</p>\n<ol>\n  <li>The received offer is stored as the remote description by calling <code>setRemoteDescription()</code>.</li>\n  <li>The audio transceiver's <code>RTCRtpSender</code>'s <a href=\"/en-US/docs/Web/API/RTCRtpSender/replaceTrack\" title=\"replaceTrack()\"><code>replaceTrack()</code></a> method is used to set the outgoing audio track to the first track of the microphone's audio stream.</li>\n  <li>The transceiver's direction is set to <code>\"sendrecv\"</code>, indicating that it should resume both sending and receiving audio.</li>\n</ol>\n<p>From this point on, the microphone is re-engaged and the remote user is once again able to hear the local user, as well as speak to them.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/WebRTC_API/Connectivity\">WebRTC connectivity</a></li>\n  <li><a href=\"/en-US/docs/Web/API/WebRTC_API/Protocols\">Introduction to WebRTC protocols</a></li>\n  <li><a href=\"/en-US/docs/Web/API/WebRTC_API/Session_lifetime\">Lifetime of a WebRTC session</a></li>\n</ul>"}}],"toc":[{"text":"Key features of RTP","id":"key_features_of_rtp"},{"text":"RTCPeerConnection and RTP","id":"rtcpeerconnection_and_rtp"},{"text":"See also","id":"see_also"}],"summary":"The Real-time Transport Protocol (RTP), defined in RFC 3550, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC.","popularity":0,"modified":"2023-01-01T09:07:41.000Z","source":{"folder":"en-us/web/api/webrtc_api/intro_to_rtp","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/webrtc_api/intro_to_rtp/index.md","last_commit_url":"https://github.com/mdn/content/commit/ef2cc3c5971737f9df85411a9eb70aa6e32f29d5","filename":"index.md"},"short_title":"Introduction to the Real-time Transport Protocol (RTP)","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/WebRTC_API","title":"WebRTC API"},{"uri":"/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP","title":"Introduction to the Real-time Transport Protocol (RTP)"}],"pageTitle":"Introduction to the Real-time Transport Protocol (RTP) - Web APIs | MDN","noIndexing":false}}</script>
<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 05:08:14 GMT -->
</body></html>