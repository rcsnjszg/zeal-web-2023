<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/Streams_API/Concepts by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 04:48:44 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="../../../../../favicon-48x48.cbbd161b.png"><link rel="apple-touch-icon" href="../../../../../apple-touch-icon.6803c6f0.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="../../../../../manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><title>Streams API concepts</title><link rel="alternate" title="ストリーム API の概念" href="https://developer.mozilla.org/ja/docs/Web/API/Streams_API/Concepts" hreflang="ja"><link rel="alternate" title="Streams API 컨셉" href="https://developer.mozilla.org/ko/docs/Web/API/Streams_API/Concepts" hreflang="ko"><link rel="alternate" title="Conceitos da API Stream" href="https://developer.mozilla.org/pt-BR/docs/Web/API/Streams_API/Concepts" hreflang="pt"><link rel="alternate" title="Streams API 概念" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Streams_API/Concepts" hreflang="zh"><link rel="alternate" title="Streams API concepts" href="Concepts.html" hreflang="en"><meta name="robots" content="index, follow"><meta name="description" content="The Streams API adds a very useful set of tools to the web platform, providing objects allowing JavaScript to programmatically access streams of data received over the network and process them as desired by the developer. Some of the concepts and terminology associated with streams might be new to you — this article explains all you need to know."><meta property="og:url" content="Concepts.html"><meta property="og:title" content="Streams API concepts - Web APIs | MDN"><meta property="og:locale" content="en-US"><meta property="og:description" content="The Streams API adds a very useful set of tools to the web platform, providing objects allowing JavaScript to programmatically access streams of data received over the network and process them as desired by the developer. Some of the concepts and terminology associated with streams might be new to you — this article explains all you need to know."><meta property="og:image" content="../../../../../mdn-social-share.cd6c4a5a.png"><meta property="twitter:card" content="summary_large_image"><link rel="canonical" href="Concepts.html"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.mdn-cta-container,.on-github,.page-footer,.sidebar,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><script src="../../../../../static/js/ga.js" defer=""></script><script defer="defer" src="../../../../../static/js/main.5c9d40d0.js"></script><link href="../../../../../static/css/main.7d378400.css" rel="stylesheet"></head><body><script>document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0});const c={light:"#ffffff",dark:"#1b1b1b"};if(window&&document.documentElement)try{const t=window.localStorage.getItem("theme");t&&(document.documentElement.className=t,document.documentElement.style.backgroundColor=c[t])}catch(t){console.warn("Unable to read theme from localStorage",t)}</script><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#top-nav-search-input">Skip to search</a></li><li><a id="skip-select-language" href="#languages-switcher-button">Skip to select language</a></li></ul><div class="page-wrapper  category-api document-page"><div class="main-document-header-container"><header class="main-document-header-container top-navigation 
      
      "><div class="container "><div class="top-navigation-wrap"><a href="https://developer.mozilla.org/en-US/" class="logo" aria-label="MDN homepage"><svg id="mdn-docs-logo" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 694.9 104.4" style="enable-background:new 0 0 694.9 104.4" xml:space="preserve" role="img"><title>MDN Web Docs</title><style>.logo-m{fill:var(--text-link)}</style><g class="logo-m"><path d="M40.3 0 11.7 92.1H0L28.5 0h11.8zM50.7 0v92.1H40.3V0h10.4zM91 0 62.5 92.1H50.8L79.3 0H91zM101.4 0v92.1H91V0h10.4z"></path></g><path class="logo-m" d="M627.9 95.6h67v8.8h-67v-8.8z"></path><g style="fill:var(--text-primary)"><path d="M367 42h-4l-10.7 30.8h-5.5l-10.8-26h-.4l-10.5 26h-5.2L308.7 42h-3.8v-5.6H323V42h-6.5l6.8 20.4h.4l10.3-26h4.7l11.2 26h.5l5.7-20.3h-6.2v-5.6H367V42zM401.9 62c-.4 3.2-2 5.9-4.7 8.2-2.8 2.3-6.5 3.4-11.3 3.4-5.4 0-9.7-1.6-13.1-4.7-3.3-3.2-5-7.7-5-13.7 0-5.7 1.6-10.3 4.7-14s7.4-5.5 12.9-5.5c5.1 0 9.1 1.6 11.9 4.7s4.3 6.9 4.3 11.3c0 1.5-.2 3-.5 4.7h-25.6c.3 7.7 4 11.6 10.9 11.6 2.9 0 5.1-.7 6.5-2 1.5-1.4 2.5-3 3-4.9l6 .9zM394 51.3c.2-2.4-.4-4.7-1.8-6.9s-3.8-3.3-7-3.3c-3.1 0-5.3 1-6.9 3-1.5 2-2.5 4.4-2.8 7.2H394zM445 53.7c0 5-1.3 9.5-4 13.7s-6.9 6.2-12.7 6.2c-6 0-10.3-2.2-12.7-6.7-.1.4-.2 1.4-.4 2.9s-.3 2.5-.4 2.9h-7.3c.3-1.7.6-3.5.8-5.3.3-1.8.4-3.7.4-5.5V22.3h-6v-5.6H416v27c1.1-2.2 2.7-4.1 4.7-5.7 2-1.6 4.8-2.4 8.4-2.4 4.6 0 8.4 1.6 11.4 4.7 3 3.2 4.5 7.6 4.5 13.4zm-7.7.6c0-4.2-1-7.4-3-9.5-2-2.2-4.4-3.3-7.4-3.3-3.4 0-6 1.2-8 3.7-1.9 2.4-2.9 5-3 7.7V57c0 3 1 5.6 3 7.7s4.5 3.1 7.6 3.1c3.6 0 6.3-1.3 8.1-3.9 1.8-2.7 2.7-5.9 2.7-9.6zM506.5 72.8h-13.2v-7.2c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2 5.7 0 9.8 2.2 12.3 6.5V22.3h-8.6v-5.6h15.8v50.6h6v5.5zM493.2 56v-4.4c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zM546.3 54.6c0 5.6-1.8 10.2-5.3 13.7s-8.2 5.3-13.9 5.3-10.1-1.7-13.4-5.1c-3.3-3.4-5-7.9-5-13.5 0-5.3 1.6-9.9 4.7-13.7 3.2-3.8 7.9-5.7 14.2-5.7s11 1.9 14.1 5.7c3 3.7 4.6 8.1 4.6 13.3zm-7.7-.2c0-4-1-7.2-3-9.5s-4.8-3.5-8.2-3.5c-3.6 0-6.4 1.2-8.3 3.7s-2.9 5.6-2.9 9.5c0 3.7.9 6.8 2.8 9.4 1.9 2.6 4.6 3.9 8.3 3.9 3.6 0 6.4-1.3 8.4-3.8 1.9-2.6 2.9-5.8 2.9-9.7zM583.6 60.2c-.4 3.2-1.9 6.3-4.4 9.1-2.5 2.9-6.4 4.3-11.8 4.3-5.2 0-9.4-1.6-12.6-4.8-3.2-3.2-4.8-7.7-4.8-13.7 0-5.5 1.6-10.1 4.7-13.9 3.2-3.8 7.6-5.7 13.2-5.7 2.3 0 4.6.3 6.7.8 2.2.5 4.2 1.5 6.2 2.9l1.5 9.5-5.9.7-1.3-6.1c-2.1-1.2-4.5-1.8-7.2-1.8-3.5 0-6.1 1.2-7.7 3.7-1.7 2.5-2.5 5.7-2.5 9.6 0 4.1.9 7.3 2.7 9.5 1.8 2.3 4.4 3.4 7.8 3.4 5.2 0 8.2-2.9 9.2-8.8l6.2 1.3zM618.3 62.1c0 3.6-1.5 6.5-4.6 8.5s-7 3-11.7 3c-5.7 0-10.6-1.2-14.6-3.6l1.2-8.8 5.7.6-.2 4.7c1.1.5 2.3.9 3.6 1.1s2.6.3 3.9.3c2.4 0 4.5-.4 6.5-1.3 1.9-.9 2.9-2.2 2.9-4.1 0-1.8-.8-3.1-2.3-3.8s-3.5-1.3-5.8-1.7-4.6-.9-6.9-1.4c-2.3-.6-4.2-1.6-5.7-2.9-1.6-1.4-2.3-3.5-2.3-6.3 0-4.1 1.5-6.9 4.6-8.5s6.4-2.4 9.9-2.4c2.6 0 5 .3 7.2.9 2.2.6 4.3 1.4 6.1 2.4l.8 8.8-5.8.7-.8-5.7c-2.3-1-4.7-1.6-7.2-1.6-2.1 0-3.7.4-5.1 1.1-1.3.8-2 2-2 3.8 0 1.7.8 2.9 2.3 3.6 1.5.7 3.4 1.2 5.7 1.6 2.2.4 4.5.8 6.7 1.4 2.2.6 4.1 1.6 5.7 3 1.4 1.6 2.2 3.7 2.2 6.6zM197.6 73.2h-17.1v-5.5h3.8V51.9c0-3.7-.7-6.3-2.1-7.9-1.4-1.6-3.3-2.3-5.7-2.3-3.2 0-5.6 1.1-7.2 3.4s-2.4 4.6-2.5 6.9v15.6h6v5.5h-17.1v-5.5h3.8V51.9c0-3.8-.7-6.4-2.1-7.9-1.4-1.5-3.3-2.3-5.6-2.3-3.2 0-5.5 1.1-7.2 3.3-1.6 2.2-2.4 4.5-2.5 6.9v15.8h6.9v5.5h-20.2v-5.5h6V42.4h-6.1v-5.6h13.4v6.4c1.2-2.1 2.7-3.8 4.7-5.2 2-1.3 4.4-2 7.3-2s5.3.7 7.5 2.1c2.2 1.4 3.7 3.5 4.5 6.4 1.1-2.5 2.7-4.5 4.9-6.1s4.8-2.4 7.9-2.4c3.5 0 6.5 1.1 8.9 3.3s3.7 5.6 3.7 10.2v18.2h6.1v5.5zm42.5 0h-13.2V66c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2s9.8 2.2 12.3 6.5V22.7h-8.6v-5.6h15.8v50.6h6v5.5zm-13.3-16.8V52c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm61.5 16.8H269v-5.5h6V51.9c0-3.7-.7-6.3-2.2-7.9-1.4-1.6-3.4-2.3-5.7-2.3-3.1 0-5.6 1-7.4 3s-2.8 4.4-2.9 7v15.9h6v5.5h-19.3v-5.5h6V42.4h-6.2v-5.6h13.6V43c2.6-4.6 6.8-6.9 12.7-6.9 3.6 0 6.7 1.1 9.2 3.3s3.7 5.6 3.7 10.2v18.2h6v5.4h-.2z"></path></g></svg></a><button title="Open main menu" type="button" class="button action has-icon main-menu-toggle" aria-haspopup="menu" aria-label="Open main menu" aria-expanded="false"><span class="button-wrap"><span class="icon icon-menu "></span><span class="visually-hidden">Open main menu</span></span></button></div><div class="top-navigation-main"><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button type="button" id="references-button" class="top-level-entry menu-toggle" aria-controls="references-menu" aria-expanded="false">References</button><a href="https://developer.mozilla.org/en-US/docs/Web" class="top-level-entry">References</a><ul id="references-menu" class="submenu references hidden inline-submenu-lg" aria-labelledby="references-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Structure of content on the web</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Code used to describe document style</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">General-purpose scripting language</p></div></a></li><li class="http-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP" class="submenu-item "><div class="submenu-icon http"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTTP</div><p class="submenu-item-description">Protocol for transmitting web resources</p></div></a></li><li class="apis-link-container "><a href="../../API.html" class="submenu-item "><div class="submenu-icon apis"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web APIs</div><p class="submenu-item-description">Interfaces for building web applications</p></div></a></li><li class="apis-link-container "><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Extensions</div><p class="submenu-item-description">Developing extensions for web browsers</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="guides-button" class="top-level-entry menu-toggle" aria-controls="guides-menu" aria-expanded="false">Guides</button><a href="https://developer.mozilla.org/en-US/docs/Learn" class="top-level-entry">Guides</a><ul id="guides-menu" class="submenu guides hidden inline-submenu-lg" aria-labelledby="guides-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Learn to structure web content with HTML</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Learn to style content using CSS</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">Learn to run scripts in the browser</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Accessibility</div><p class="submenu-item-description">Learn to make the web accessible to all</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="mdn-plus-button" class="top-level-entry menu-toggle" aria-controls="mdn-plus-menu" aria-expanded="false">MDN Plus</button><a href="https://developer.mozilla.org/en-US/plus" class="top-level-entry">MDN Plus</a><ul id="mdn-plus-menu" class="submenu mdn-plus hidden inline-submenu-lg" aria-labelledby="mdn-plus-button"><li class=" "><a href="https://developer.mozilla.org/en-US/plus" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview</div><p class="submenu-item-description">A customized MDN experience</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/updates" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Updates</div><p class="submenu-item-description">All browser compatibility updates at a glance</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/features/overview" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Documentation</div><p class="submenu-item-description">Learn how to use MDN Plus</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/faq" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">FAQ</div><p class="submenu-item-description">Frequently asked questions about MDN Plus</p></div></a></li></ul></li></ul></nav><div class="header-search"><form action="https://developer.mozilla.org/en-US/search" role="search" aria-haspopup="listbox" aria-owns="top-nav-search-menu" aria-expanded="false" class="search-form search-widget" id="top-nav-search-form"><label id="top-nav-search-label" for="top-nav-search-input" class="visually-hidden">Search MDN</label><input id="top-nav-search-input" aria-autocomplete="list" aria-controls="top-nav-search-menu" aria-labelledby="top-nav-search-label" autocomplete="off" type="search" class="search-input-field" name="q" placeholder="   " required="" value=""><button type="button" class="button action has-icon clear-search-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear search input</span></span></button><button type="submit" class="button action has-icon search-button"><span class="button-wrap"><span class="icon icon-search "></span><span class="visually-hidden">Search</span></span></button><div id="top-nav-search-menu" role="listbox" aria-labelledby="top-nav-search-label"></div></form></div><div class="theme-switcher-menu"><button type="button" class="button action has-icon theme-switcher-menu small" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-theme-os-default "></span>Theme</span></button></div><ul class="auth-container"><li><a href="https://developer.mozilla.org/users/fxa/login/authenticate/?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FStreams_API%2FConcepts" class="signin-link" rel="nofollow">Already a subscriber?</a></li><li><a class="button primary mdn-plus-subscribe-link" href="https://developer.mozilla.org/en-US/plus"><span class="button-wrap">Get MDN Plus</span></a></li></ul></div></div></header><div class="article-actions-container"><div class="container"><button type="button" class="button action has-icon sidebar-button" aria-label="Expand sidebar" aria-expanded="false" aria-controls="sidebar-quicklinks"><span class="button-wrap"><span class="icon icon-sidebar "></span></span></button><nav class="breadcrumbs-container" aria-label="Breadcrumb"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="https://developer.mozilla.org/en-US/docs/Web"><span property="name">References</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../../API.html"><span property="name">Web APIs</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../Streams_API.html"><span property="name">Streams API</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="Concepts.html"><span property="name">Streams API concepts</span></a><meta property="position" content="4"></li></ol></nav><div class="article-actions"><button type="button" class="button action has-icon article-actions-toggle" aria-label="Article actions"><span class="button-wrap"><span class="icon icon-ellipses "></span><span class="article-actions-dialog-heading">Article Actions</span></span></button><ul class="article-actions-entries"><li class="article-actions-entry"><div class="languages-switcher-menu open-on-focus-within"><button id="languages-switcher-button" type="button" class="button action small has-icon languages-switcher-menu" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-language "></span>English (US)</span></button></div></li></ul></div></div></div></div><div class="main-wrapper"><aside id="sidebar-quicklinks" class="sidebar"><button type="button" class="button action backdrop" aria-label="Collapse sidebar"><span class="button-wrap"></span></button><nav aria-label="Related Topics" class="sidebar-inner"><div class="in-nav-toc"><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#readable_streams">Readable streams</a></li><li class="document-toc-item "><a class="document-toc-link" href="#teeing">Teeing</a></li><li class="document-toc-item "><a class="document-toc-link" href="#writable_streams">Writable streams</a></li><li class="document-toc-item "><a class="document-toc-link" href="#pipe_chains">Pipe chains</a></li><li class="document-toc-item "><a class="document-toc-link" href="#backpressure">Backpressure</a></li><li class="document-toc-item "><a class="document-toc-link" href="#internal_queues_and_queuing_strategies">Internal queues and queuing strategies</a></li></ul></section></div></div><div><ol><li><strong><a href="../Streams_API.html">Streams API</a></strong></li><li><strong><a href="../Streams_API.html"><code>Streams_API</code></a></strong></li><li class="toggle"><details open=""><summary>Related pages for Streams</summary><ol><li><a href="../ByteLengthQueuingStrategy.html"><code>ByteLengthQueuingStrategy</code></a></li><li><a href="../CountQueuingStrategy.html"><code>CountQueuingStrategy</code></a></li><li><a href="../ReadableByteStreamController.html"><code>ReadableByteStreamController</code></a></li><li><a href="../ReadableStream.html"><code>ReadableStream</code></a></li><li><a href="../ReadableStreamBYOBReader.html"><code>ReadableStreamBYOBReader</code></a></li><li><a href="../ReadableStreamBYOBRequest.html"><code>ReadableStreamBYOBRequest</code></a></li><li><a href="../ReadableStreamDefaultController.html"><code>ReadableStreamDefaultController</code></a></li><li><a href="../ReadableStreamDefaultReader.html"><code>ReadableStreamDefaultReader</code></a></li><li><a href="../Response/body.html"><code>Response.body</code></a></li><li><a href="../TransformStream.html"><code>TransformStream</code></a></li><li><a href="../TransformStreamDefaultController.html"><code>TransformStreamDefaultController</code></a></li><li><a href="../WritableStream.html"><code>WritableStream</code></a></li><li><a href="../WritableStreamDefaultController.html"><code>WritableStreamDefaultController</code></a></li><li><a href="../WritableStreamDefaultWriter.html"><code>WritableStreamDefaultWriter</code></a></li><li><a href="../fetch.html"><code>fetch()</code></a></li></ol></details></li></ol></div></nav></aside><aside class="toc"><nav><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#readable_streams">Readable streams</a></li><li class="document-toc-item "><a class="document-toc-link" href="#teeing">Teeing</a></li><li class="document-toc-item "><a class="document-toc-link" href="#writable_streams">Writable streams</a></li><li class="document-toc-item "><a class="document-toc-link" href="#pipe_chains">Pipe chains</a></li><li class="document-toc-item "><a class="document-toc-link" href="#backpressure">Backpressure</a></li><li class="document-toc-item "><a class="document-toc-link" href="#internal_queues_and_queuing_strategies">Internal queues and queuing strategies</a></li></ul></section></div></nav></aside><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><h1>Streams API concepts</h1><div class="section-content"><p>The <a href="../Streams_API.html">Streams API</a> adds a very useful set of tools to the web platform, providing objects allowing JavaScript to programmatically access streams of data received over the network and process them as desired by the developer. Some of the concepts and terminology associated with streams might be new to you — this article explains all you need to know.</p></div><section aria-labelledby="readable_streams"><a class="dashAnchor" name="//apple_ref/Section/Readable%20streams"></a><h2 id="readable_streams"><a href="#readable_streams">Readable streams</a></h2><div class="section-content"><p>A readable stream is a data source represented in JavaScript by a <a href="../ReadableStream.html"><code>ReadableStream</code></a> object that flows from an <strong>underlying source</strong> — this is a resource somewhere on the network or elsewhere on your domain that you want to get data from.</p>
<p>There are two types of underlying source:</p>
<ul>
  <li><strong>Push sources</strong> constantly push data at you when you've accessed them, and it is up to you to start, pause, or cancel access to the stream. Examples include video streams and TCP/<a href="../WebSockets_API.html">Web sockets</a>.</li>
  <li><strong>Pull sources</strong> require you to explicitly request data from them once connected to. Examples include a file access operation via a <a href="../Fetch_API.html">Fetch</a> or <a href="../XMLHttpRequest/XMLHttpRequest.html">XHR</a> call.</li>
</ul>
<p>The data is read sequentially in small pieces called <strong>chunks</strong>. A chunk can be a single byte, or it can be something larger such as a <a href="../../JavaScript/Typed_arrays.html">typed array</a> of a certain size. A single stream can contain chunks of different sizes and types.</p>
<p>
  <img src="Concepts/readable_streams.png" alt="Readable streams data flow" width="1000" height="452" loading="lazy">
</p>
<p>The chunks placed in a stream are said to be <strong>enqueued</strong> — this means they are waiting in a queue ready to be read. An <strong>internal queue</strong> keeps track of the chunks that have not yet been read (see the Internal queues and queuing strategies section below).</p>
<p>The chunks inside the stream are read by a <strong>reader</strong> — this processes the data one chunk at a time, allowing you to do whatever kind of operation you want to do on it. The reader plus the other processing code that goes along with it is called a <strong>consumer</strong>.</p>
<p>There is also a construct you'll use called a <strong>controller</strong> — each reader has an associated controller that allows you to control the stream (for example, to close it if wished).</p>
<p>Only one reader can read a stream at a time; when a reader is created and starts reading a stream (an <strong>active reader</strong>), we say it is <strong>locked</strong> to it. If you want another reader to start reading your stream, you typically need to cancel the first reader before you do anything else (although you can <strong>tee</strong> streams, see the Teeing section below)</p>
<p>Note that there are two different types of readable stream. As well as the conventional readable stream there is a type called a byte stream — this is an extended version of a conventional stream for reading underlying byte sources. Compared with the conventional readable stream, byte streams are allowed to be read by BYOB readers (BYOB, "bring your own buffer"). This kind of reader allows streams to be read straight into a buffer supplied by the developer, minimizing the copying required. Which underlying stream (and by extension, reader and controller) your code will use depends on how the stream was created in the first place (see the <a href="../ReadableStream/ReadableStream.html" title="ReadableStream()"><code>ReadableStream()</code></a> constructor page).</p>
<p>You can make use of ready-made readable streams via mechanisms like a <a href="../Response/body.html"><code>Response.body</code></a> from a fetch request, or roll your own streams using the <a href="../ReadableStream/ReadableStream.html" title="ReadableStream()"><code>ReadableStream()</code></a> constructor.</p></div></section><section aria-labelledby="teeing"><a class="dashAnchor" name="//apple_ref/Section/Teeing"></a><h2 id="teeing"><a href="#teeing">Teeing</a></h2><div class="section-content"><p>Even though only a single reader can read a stream at once, it is possible to split a stream into two identical copies, which can then be read by two separate readers. This is called <strong>teeing</strong>.</p>
<p>In JavaScript, this is achieved via the <a href="../ReadableStream/tee.html"><code>ReadableStream.tee()</code></a> method — it outputs an array containing two identical copies of the original readable stream, which can then be read independently by two separate readers.</p>
<p>You might do this for example in a <a href="../Service_Worker_API.html">ServiceWorker</a> if you want to fetch a response from the server and stream it to the browser, but also stream it to the ServiceWorker cache. Since a response body cannot be consumed more than once, and a stream can't be read by more than one reader at once, you'd need two copies to do this.</p>
<p>
  <img src="Concepts/tee.png" alt="Teeing data flow" width="1000" height="527" loading="lazy">
</p></div></section><section aria-labelledby="writable_streams"><a class="dashAnchor" name="//apple_ref/Section/Writable%20streams"></a><h2 id="writable_streams"><a href="#writable_streams">Writable streams</a></h2><div class="section-content"><p>A <strong>writable stream</strong> is a destination into which you can write data, represented in JavaScript by a <a href="../WritableStream.html"><code>WritableStream</code></a> object. This serves as an abstraction over the top of an <strong>underlying sink</strong> — a lower-level I/O sink into which raw data is written.</p>
<p>The data is written to the stream via a <strong>writer</strong>, one chunk at a time. A chunk can take a multitude of forms, just like the chunks in a reader. You can use whatever code you like to produce the chunks ready for writing; the writer plus the associated code is called a <strong>producer</strong>.</p>
<p>When a writer is created and starts writing to a stream (an <strong>active writer</strong>), it is said to be <strong>locked</strong> to it. Only one writer can write to a writable stream at one time. If you want another writer to start writing to your stream, you typically need to abort it before you then attach another writer to it.</p>
<p>An <strong>internal queue</strong> keeps track of the chunks that have been written to the stream but not yet been processed by the underlying sink.</p>
<p>There is also a construct you'll use called a controller — each writer has an associated controller that allows you to control the stream (for example, to abort it if wished).</p>
<p>
  <img src="Concepts/writable_streams.png" alt="Writable streams data flow" width="1000" height="452" loading="lazy">
</p>
<p>You can make use of writable streams using the <a href="../WritableStream/WritableStream.html" title="WritableStream()"><code>WritableStream()</code></a> constructor. These currently have very limited availability in browsers.</p></div></section><section aria-labelledby="pipe_chains"><a class="dashAnchor" name="//apple_ref/Section/Pipe%20chains"></a><h2 id="pipe_chains"><a href="#pipe_chains">Pipe chains</a></h2><div class="section-content"><p>
  The Streams API makes it possible to pipe streams into one another using a structure called a <strong>pipe chain</strong>.
  There are two methods that facilitate this:
</p>
<ul>
  <li>
    <a href="../ReadableStream/pipeThrough.html"><code>ReadableStream.pipeThrough()</code></a> — pipes the stream through a <strong>transform stream</strong>, potentially transforming the data format along the way.
    This might be used, for example, to encode or decode video frames, compress or decompress data, or otherwise convert data from one form to another.
    A transform stream consists of a pair of streams: a readable stream from which data is read and a writable stream into which it is written, along with appropriate mechanisms to ensure that new data is made available to read as soon as data is written.
    <a href="../TransformStream.html"><code>TransformStream</code></a> is a concrete implementation of a transform stream, but any object that has the same readable stream and writable stream properties can be passed to <code>pipeThrough()</code>.
  </li>
  <li><a href="../ReadableStream/pipeTo.html"><code>ReadableStream.pipeTo()</code></a> — pipes to a writable stream that acts as the end point of the pipe chain.</li>
</ul>
<p>The start of the pipe chain is called the <strong>original source</strong>, and the end is called the <strong>ultimate sink</strong>.</p>
<p>
  <img src="Concepts/pipechain.png" alt="pipe chain diagram" width="1000" height="382" loading="lazy">
</p></div></section><section aria-labelledby="backpressure"><a class="dashAnchor" name="//apple_ref/Section/Backpressure"></a><h2 id="backpressure"><a href="#backpressure">Backpressure</a></h2><div class="section-content"><p>An important concept in streams is <strong>backpressure</strong> — this is the process by which a single stream or a pipe chain regulates the speed of reading/writing. When a stream later in the chain is still busy and isn't yet ready to accept more chunks, it sends a signal backwards through the chain to tell earlier transform streams (or the original source) to slow down delivery so that you don't end up with a bottleneck anywhere.</p>
<p>To use backpressure in a <a href="../ReadableStream.html"><code>ReadableStream</code></a>, we can ask the controller for the chunk size desired by the consumer by querying the <a href="../ReadableStreamDefaultController/desiredSize.html"><code>ReadableStreamDefaultController.desiredSize</code></a> property on the controller. If it is too low, our <code>ReadableStream</code> can tell its underlying source to stop sending data, and we backpressure along the stream chain.</p>
<p>If later on the consumer again wants to receive data, we can use the pull method in the stream creation to tell our underlying source to feed our stream with data.</p></div></section><section aria-labelledby="internal_queues_and_queuing_strategies"><a class="dashAnchor" name="//apple_ref/Section/Internal%20queues%20and%20queuing%20strategies"></a><h2 id="internal_queues_and_queuing_strategies"><a href="#internal_queues_and_queuing_strategies">Internal queues and queuing strategies</a></h2><div class="section-content"><p>As mentioned earlier, the chunks in a stream that have not yet been processed and finished with are kept track of by an internal queue.</p>
<ul>
  <li>In the case of readable streams, these are the chunks that have been enqueued but not yet read</li>
  <li>In the case of writable streams, these are chunks that have been written but not yet processed by the underlying sink.</li>
</ul>
<p>Internal queues employ a <strong>queuing strategy</strong>, which dictates how to signal backpressure based on the <strong>internal queue state.</strong></p>
<p>In general, the strategy compares the size of the chunks in the queue to a value called the <strong>high water mark</strong>, which is the largest total chunk size that the queue would prefer to manage.</p>
<p>The calculation performed is</p>
<p><code>high water mark - total size of chunks in queue = desired size</code></p>
<p>
  The <strong>desired size</strong> is the number of chunks the stream can still accept to keep the stream flowing but below the high water mark in size.
  Chunk generation will be slowed down/sped up as appropriate to keep the stream flowing as fast as possible while keeping the desired size above zero.
  If the value falls to zero (or below), it means that chunks are being generated faster than the stream can cope with, which may result in problems.
</p>
<p>
  As an example, let's take a chunk size of 1, and a high water mark of 3.
  This means that up to 3 chunks can be enqueued before the high water mark is reached and backpressure is applied.
</p></div></section><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a content problem with this page?</h3><ul><li>Edit the page <a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/streams_api/concepts/index.md" title="This will take you to GitHub, where you'll need to sign in first." target="_blank" rel="noopener noreferrer">on GitHub</a>.</li><li>Report the <a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FStreams_API%2FConcepts&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fstreams_api%2Fconcepts%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FStreams_API%2FConcepts%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fstreams_api%2Fconcepts%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F72674e71cebcdb549ae9e133f02a7227c303ae57%0A*+Document+last+modified%3A+2022-10-25T03%3A15%3A08.000Z%0A%0A%3C%2Fdetails%3E" title="This will take you to GitHub to file a new issue." target="_blank" rel="noopener noreferrer">content issue</a>.</li><li>View the source <a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/streams_api/concepts/index.md?plain=1" title="Folder: en-us/web/api/streams_api/concepts (Opens in a new tab)" target="_blank" rel="noopener noreferrer">on GitHub</a>.</li></ul>Want to get more involved? Learn<!-- --> <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md" title="This will take you to our contribution guidelines on GitHub." target="_blank" rel="noopener noreferrer">how to contribute</a>.</div><p class="last-modified-date">This page was last modified on<!-- --> <time datetime="2022-10-25T03:15:08.000Z">Oct 25, 2022</time> by<!-- --> <a href="Concepts/contributors.txt">MDN contributors</a>.</p></div></aside></article></main></div><footer id="nav-footer" class="page-footer"><div><a href="http://developer.mozilla.org/en-US/docs/Web/API/Streams_API/Concepts">Streams API concepts</a> by <a href="http://developer.mozilla.org/en-US/docs/Web/API/Streams_API/Concepts$history">Mozilla Contributors</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/2.5/">CC-BY-SA 2.5</a>.</div></footer></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Streams API concepts","mdn_url":"/en-US/docs/Web/API/Streams_API/Concepts","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Streams_API\">Streams API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/Streams_API\"><code>Streams_API</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Streams</summary><ol><li><a href=\"/en-US/docs/Web/API/ByteLengthQueuingStrategy\"><code>ByteLengthQueuingStrategy</code></a></li><li><a href=\"/en-US/docs/Web/API/CountQueuingStrategy\"><code>CountQueuingStrategy</code></a></li><li><a href=\"/en-US/docs/Web/API/ReadableByteStreamController\"><code>ReadableByteStreamController</code></a></li><li><a href=\"/en-US/docs/Web/API/ReadableStream\"><code>ReadableStream</code></a></li><li><a href=\"/en-US/docs/Web/API/ReadableStreamBYOBReader\"><code>ReadableStreamBYOBReader</code></a></li><li><a href=\"/en-US/docs/Web/API/ReadableStreamBYOBRequest\"><code>ReadableStreamBYOBRequest</code></a></li><li><a href=\"/en-US/docs/Web/API/ReadableStreamDefaultController\"><code>ReadableStreamDefaultController</code></a></li><li><a href=\"/en-US/docs/Web/API/ReadableStreamDefaultReader\"><code>ReadableStreamDefaultReader</code></a></li><li><a href=\"/en-US/docs/Web/API/Response/body\"><code>Response.body</code></a></li><li><a href=\"/en-US/docs/Web/API/TransformStream\"><code>TransformStream</code></a></li><li><a href=\"/en-US/docs/Web/API/TransformStreamDefaultController\"><code>TransformStreamDefaultController</code></a></li><li><a href=\"/en-US/docs/Web/API/WritableStream\"><code>WritableStream</code></a></li><li><a href=\"/en-US/docs/Web/API/WritableStreamDefaultController\"><code>WritableStreamDefaultController</code></a></li><li><a href=\"/en-US/docs/Web/API/WritableStreamDefaultWriter\"><code>WritableStreamDefaultWriter</code></a></li><li><a href=\"/en-US/docs/Web/API/fetch\"><code>fetch()</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <a href=\"/en-US/docs/Web/API/Streams_API\">Streams API</a> adds a very useful set of tools to the web platform, providing objects allowing JavaScript to programmatically access streams of data received over the network and process them as desired by the developer. Some of the concepts and terminology associated with streams might be new to you — this article explains all you need to know.</p>"}},{"type":"prose","value":{"id":"readable_streams","title":"Readable streams","isH3":false,"content":"<p>A readable stream is a data source represented in JavaScript by a <a href=\"/en-US/docs/Web/API/ReadableStream\"><code>ReadableStream</code></a> object that flows from an <strong>underlying source</strong> — this is a resource somewhere on the network or elsewhere on your domain that you want to get data from.</p>\n<p>There are two types of underlying source:</p>\n<ul>\n  <li><strong>Push sources</strong> constantly push data at you when you've accessed them, and it is up to you to start, pause, or cancel access to the stream. Examples include video streams and TCP/<a href=\"/en-US/docs/Web/API/WebSockets_API\">Web sockets</a>.</li>\n  <li><strong>Pull sources</strong> require you to explicitly request data from them once connected to. Examples include a file access operation via a <a href=\"/en-US/docs/Web/API/Fetch_API\">Fetch</a> or <a href=\"/en-US/docs/Web/API/XMLHttpRequest/XMLHttpRequest\">XHR</a> call.</li>\n</ul>\n<p>The data is read sequentially in small pieces called <strong>chunks</strong>. A chunk can be a single byte, or it can be something larger such as a <a href=\"/en-US/docs/Web/JavaScript/Typed_arrays\">typed array</a> of a certain size. A single stream can contain chunks of different sizes and types.</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Streams_API/Concepts/readable_streams.png\" alt=\"Readable streams data flow\" width=\"1000\" height=\"452\" loading=\"lazy\">\n</p>\n<p>The chunks placed in a stream are said to be <strong>enqueued</strong> — this means they are waiting in a queue ready to be read. An <strong>internal queue</strong> keeps track of the chunks that have not yet been read (see the Internal queues and queuing strategies section below).</p>\n<p>The chunks inside the stream are read by a <strong>reader</strong> — this processes the data one chunk at a time, allowing you to do whatever kind of operation you want to do on it. The reader plus the other processing code that goes along with it is called a <strong>consumer</strong>.</p>\n<p>There is also a construct you'll use called a <strong>controller</strong> — each reader has an associated controller that allows you to control the stream (for example, to close it if wished).</p>\n<p>Only one reader can read a stream at a time; when a reader is created and starts reading a stream (an <strong>active reader</strong>), we say it is <strong>locked</strong> to it. If you want another reader to start reading your stream, you typically need to cancel the first reader before you do anything else (although you can <strong>tee</strong> streams, see the Teeing section below)</p>\n<p>Note that there are two different types of readable stream. As well as the conventional readable stream there is a type called a byte stream — this is an extended version of a conventional stream for reading underlying byte sources. Compared with the conventional readable stream, byte streams are allowed to be read by BYOB readers (BYOB, \"bring your own buffer\"). This kind of reader allows streams to be read straight into a buffer supplied by the developer, minimizing the copying required. Which underlying stream (and by extension, reader and controller) your code will use depends on how the stream was created in the first place (see the <a href=\"/en-US/docs/Web/API/ReadableStream/ReadableStream\" title=\"ReadableStream()\"><code>ReadableStream()</code></a> constructor page).</p>\n<p>You can make use of ready-made readable streams via mechanisms like a <a href=\"/en-US/docs/Web/API/Response/body\"><code>Response.body</code></a> from a fetch request, or roll your own streams using the <a href=\"/en-US/docs/Web/API/ReadableStream/ReadableStream\" title=\"ReadableStream()\"><code>ReadableStream()</code></a> constructor.</p>"}},{"type":"prose","value":{"id":"teeing","title":"Teeing","isH3":false,"content":"<p>Even though only a single reader can read a stream at once, it is possible to split a stream into two identical copies, which can then be read by two separate readers. This is called <strong>teeing</strong>.</p>\n<p>In JavaScript, this is achieved via the <a href=\"/en-US/docs/Web/API/ReadableStream/tee\"><code>ReadableStream.tee()</code></a> method — it outputs an array containing two identical copies of the original readable stream, which can then be read independently by two separate readers.</p>\n<p>You might do this for example in a <a href=\"/en-US/docs/Web/API/Service_Worker_API\">ServiceWorker</a> if you want to fetch a response from the server and stream it to the browser, but also stream it to the ServiceWorker cache. Since a response body cannot be consumed more than once, and a stream can't be read by more than one reader at once, you'd need two copies to do this.</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Streams_API/Concepts/tee.png\" alt=\"Teeing data flow\" width=\"1000\" height=\"527\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"writable_streams","title":"Writable streams","isH3":false,"content":"<p>A <strong>writable stream</strong> is a destination into which you can write data, represented in JavaScript by a <a href=\"/en-US/docs/Web/API/WritableStream\"><code>WritableStream</code></a> object. This serves as an abstraction over the top of an <strong>underlying sink</strong> — a lower-level I/O sink into which raw data is written.</p>\n<p>The data is written to the stream via a <strong>writer</strong>, one chunk at a time. A chunk can take a multitude of forms, just like the chunks in a reader. You can use whatever code you like to produce the chunks ready for writing; the writer plus the associated code is called a <strong>producer</strong>.</p>\n<p>When a writer is created and starts writing to a stream (an <strong>active writer</strong>), it is said to be <strong>locked</strong> to it. Only one writer can write to a writable stream at one time. If you want another writer to start writing to your stream, you typically need to abort it before you then attach another writer to it.</p>\n<p>An <strong>internal queue</strong> keeps track of the chunks that have been written to the stream but not yet been processed by the underlying sink.</p>\n<p>There is also a construct you'll use called a controller — each writer has an associated controller that allows you to control the stream (for example, to abort it if wished).</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Streams_API/Concepts/writable_streams.png\" alt=\"Writable streams data flow\" width=\"1000\" height=\"452\" loading=\"lazy\">\n</p>\n<p>You can make use of writable streams using the <a href=\"/en-US/docs/Web/API/WritableStream/WritableStream\" title=\"WritableStream()\"><code>WritableStream()</code></a> constructor. These currently have very limited availability in browsers.</p>"}},{"type":"prose","value":{"id":"pipe_chains","title":"Pipe chains","isH3":false,"content":"<p>\n  The Streams API makes it possible to pipe streams into one another using a structure called a <strong>pipe chain</strong>.\n  There are two methods that facilitate this:\n</p>\n<ul>\n  <li>\n    <a href=\"/en-US/docs/Web/API/ReadableStream/pipeThrough\"><code>ReadableStream.pipeThrough()</code></a> — pipes the stream through a <strong>transform stream</strong>, potentially transforming the data format along the way.\n    This might be used, for example, to encode or decode video frames, compress or decompress data, or otherwise convert data from one form to another.\n    A transform stream consists of a pair of streams: a readable stream from which data is read and a writable stream into which it is written, along with appropriate mechanisms to ensure that new data is made available to read as soon as data is written.\n    <a href=\"/en-US/docs/Web/API/TransformStream\"><code>TransformStream</code></a> is a concrete implementation of a transform stream, but any object that has the same readable stream and writable stream properties can be passed to <code>pipeThrough()</code>.\n  </li>\n  <li><a href=\"/en-US/docs/Web/API/ReadableStream/pipeTo\"><code>ReadableStream.pipeTo()</code></a> — pipes to a writable stream that acts as the end point of the pipe chain.</li>\n</ul>\n<p>The start of the pipe chain is called the <strong>original source</strong>, and the end is called the <strong>ultimate sink</strong>.</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Streams_API/Concepts/pipechain.png\" alt=\"pipe chain diagram\" width=\"1000\" height=\"382\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"backpressure","title":"Backpressure","isH3":false,"content":"<p>An important concept in streams is <strong>backpressure</strong> — this is the process by which a single stream or a pipe chain regulates the speed of reading/writing. When a stream later in the chain is still busy and isn't yet ready to accept more chunks, it sends a signal backwards through the chain to tell earlier transform streams (or the original source) to slow down delivery so that you don't end up with a bottleneck anywhere.</p>\n<p>To use backpressure in a <a href=\"/en-US/docs/Web/API/ReadableStream\"><code>ReadableStream</code></a>, we can ask the controller for the chunk size desired by the consumer by querying the <a href=\"/en-US/docs/Web/API/ReadableStreamDefaultController/desiredSize\"><code>ReadableStreamDefaultController.desiredSize</code></a> property on the controller. If it is too low, our <code>ReadableStream</code> can tell its underlying source to stop sending data, and we backpressure along the stream chain.</p>\n<p>If later on the consumer again wants to receive data, we can use the pull method in the stream creation to tell our underlying source to feed our stream with data.</p>"}},{"type":"prose","value":{"id":"internal_queues_and_queuing_strategies","title":"Internal queues and queuing strategies","isH3":false,"content":"<p>As mentioned earlier, the chunks in a stream that have not yet been processed and finished with are kept track of by an internal queue.</p>\n<ul>\n  <li>In the case of readable streams, these are the chunks that have been enqueued but not yet read</li>\n  <li>In the case of writable streams, these are chunks that have been written but not yet processed by the underlying sink.</li>\n</ul>\n<p>Internal queues employ a <strong>queuing strategy</strong>, which dictates how to signal backpressure based on the <strong>internal queue state.</strong></p>\n<p>In general, the strategy compares the size of the chunks in the queue to a value called the <strong>high water mark</strong>, which is the largest total chunk size that the queue would prefer to manage.</p>\n<p>The calculation performed is</p>\n<p><code>high water mark - total size of chunks in queue = desired size</code></p>\n<p>\n  The <strong>desired size</strong> is the number of chunks the stream can still accept to keep the stream flowing but below the high water mark in size.\n  Chunk generation will be slowed down/sped up as appropriate to keep the stream flowing as fast as possible while keeping the desired size above zero.\n  If the value falls to zero (or below), it means that chunks are being generated faster than the stream can cope with, which may result in problems.\n</p>\n<p>\n  As an example, let's take a chunk size of 1, and a high water mark of 3.\n  This means that up to 3 chunks can be enqueued before the high water mark is reached and backpressure is applied.\n</p>"}}],"toc":[{"text":"Readable streams","id":"readable_streams"},{"text":"Teeing","id":"teeing"},{"text":"Writable streams","id":"writable_streams"},{"text":"Pipe chains","id":"pipe_chains"},{"text":"Backpressure","id":"backpressure"},{"text":"Internal queues and queuing strategies","id":"internal_queues_and_queuing_strategies"}],"summary":"The Streams API adds a very useful set of tools to the web platform, providing objects allowing JavaScript to programmatically access streams of data received over the network and process them as desired by the developer. Some of the concepts and terminology associated with streams might be new to you — this article explains all you need to know.","popularity":0,"modified":"2022-10-25T03:15:08.000Z","other_translations":[{"title":"ストリーム API の概念","locale":"ja","native":"日本語"},{"title":"Streams API 컨셉","locale":"ko","native":"한국어"},{"title":"Conceitos da API Stream","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"Streams API 概念","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/streams_api/concepts","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/streams_api/concepts/index.md","last_commit_url":"https://github.com/mdn/content/commit/72674e71cebcdb549ae9e133f02a7227c303ae57","filename":"index.md"},"short_title":"Streams API concepts","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Streams_API","title":"Streams API"},{"uri":"/en-US/docs/Web/API/Streams_API/Concepts","title":"Streams API concepts"}],"pageTitle":"Streams API concepts - Web APIs | MDN","noIndexing":false}}</script>
<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/Streams_API/Concepts by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 04:48:44 GMT -->
</body></html>