<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Migrating_from_webkitAudioContext by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 04:49:14 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="../../../../../favicon-48x48.cbbd161b.png"><link rel="apple-touch-icon" href="../../../../../apple-touch-icon.6803c6f0.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="../../../../../manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><title>Migrating from webkitAudioContext</title><link rel="alternate" title="webkitAudioContext에서 이주하기" href="https://developer.mozilla.org/ko/docs/Web/API/Web_Audio_API/Migrating_from_webkitAudioContext" hreflang="ko"><link rel="alternate" title="Migrating from webkitAudioContext" href="Migrating_from_webkitAudioContext.html" hreflang="en"><meta name="robots" content="index, follow"><meta name="description" content="In this article, we cover the differences in Web Audio API since it was first implemented in WebKit and how to update your code to use the modern Web Audio API."><meta property="og:url" content="Migrating_from_webkitAudioContext.html"><meta property="og:title" content="Migrating from webkitAudioContext - Web APIs | MDN"><meta property="og:locale" content="en-US"><meta property="og:description" content="In this article, we cover the differences in Web Audio API since it was first implemented in WebKit and how to update your code to use the modern Web Audio API."><meta property="og:image" content="../../../../../mdn-social-share.cd6c4a5a.png"><meta property="twitter:card" content="summary_large_image"><link rel="canonical" href="Migrating_from_webkitAudioContext.html"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.mdn-cta-container,.on-github,.page-footer,.sidebar,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><script src="../../../../../static/js/ga.js" defer=""></script><script defer="defer" src="../../../../../static/js/main.5c9d40d0.js"></script><link href="../../../../../static/css/main.7d378400.css" rel="stylesheet"></head><body><script>document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0});const c={light:"#ffffff",dark:"#1b1b1b"};if(window&&document.documentElement)try{const t=window.localStorage.getItem("theme");t&&(document.documentElement.className=t,document.documentElement.style.backgroundColor=c[t])}catch(t){console.warn("Unable to read theme from localStorage",t)}</script><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#top-nav-search-input">Skip to search</a></li><li><a id="skip-select-language" href="#languages-switcher-button">Skip to select language</a></li></ul><div class="page-wrapper  category-api document-page"><div class="main-document-header-container"><header class="main-document-header-container top-navigation 
      
      "><div class="container "><div class="top-navigation-wrap"><a href="https://developer.mozilla.org/en-US/" class="logo" aria-label="MDN homepage"><svg id="mdn-docs-logo" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 694.9 104.4" style="enable-background:new 0 0 694.9 104.4" xml:space="preserve" role="img"><title>MDN Web Docs</title><style>.logo-m{fill:var(--text-link)}</style><g class="logo-m"><path d="M40.3 0 11.7 92.1H0L28.5 0h11.8zM50.7 0v92.1H40.3V0h10.4zM91 0 62.5 92.1H50.8L79.3 0H91zM101.4 0v92.1H91V0h10.4z"></path></g><path class="logo-m" d="M627.9 95.6h67v8.8h-67v-8.8z"></path><g style="fill:var(--text-primary)"><path d="M367 42h-4l-10.7 30.8h-5.5l-10.8-26h-.4l-10.5 26h-5.2L308.7 42h-3.8v-5.6H323V42h-6.5l6.8 20.4h.4l10.3-26h4.7l11.2 26h.5l5.7-20.3h-6.2v-5.6H367V42zM401.9 62c-.4 3.2-2 5.9-4.7 8.2-2.8 2.3-6.5 3.4-11.3 3.4-5.4 0-9.7-1.6-13.1-4.7-3.3-3.2-5-7.7-5-13.7 0-5.7 1.6-10.3 4.7-14s7.4-5.5 12.9-5.5c5.1 0 9.1 1.6 11.9 4.7s4.3 6.9 4.3 11.3c0 1.5-.2 3-.5 4.7h-25.6c.3 7.7 4 11.6 10.9 11.6 2.9 0 5.1-.7 6.5-2 1.5-1.4 2.5-3 3-4.9l6 .9zM394 51.3c.2-2.4-.4-4.7-1.8-6.9s-3.8-3.3-7-3.3c-3.1 0-5.3 1-6.9 3-1.5 2-2.5 4.4-2.8 7.2H394zM445 53.7c0 5-1.3 9.5-4 13.7s-6.9 6.2-12.7 6.2c-6 0-10.3-2.2-12.7-6.7-.1.4-.2 1.4-.4 2.9s-.3 2.5-.4 2.9h-7.3c.3-1.7.6-3.5.8-5.3.3-1.8.4-3.7.4-5.5V22.3h-6v-5.6H416v27c1.1-2.2 2.7-4.1 4.7-5.7 2-1.6 4.8-2.4 8.4-2.4 4.6 0 8.4 1.6 11.4 4.7 3 3.2 4.5 7.6 4.5 13.4zm-7.7.6c0-4.2-1-7.4-3-9.5-2-2.2-4.4-3.3-7.4-3.3-3.4 0-6 1.2-8 3.7-1.9 2.4-2.9 5-3 7.7V57c0 3 1 5.6 3 7.7s4.5 3.1 7.6 3.1c3.6 0 6.3-1.3 8.1-3.9 1.8-2.7 2.7-5.9 2.7-9.6zM506.5 72.8h-13.2v-7.2c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2 5.7 0 9.8 2.2 12.3 6.5V22.3h-8.6v-5.6h15.8v50.6h6v5.5zM493.2 56v-4.4c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zM546.3 54.6c0 5.6-1.8 10.2-5.3 13.7s-8.2 5.3-13.9 5.3-10.1-1.7-13.4-5.1c-3.3-3.4-5-7.9-5-13.5 0-5.3 1.6-9.9 4.7-13.7 3.2-3.8 7.9-5.7 14.2-5.7s11 1.9 14.1 5.7c3 3.7 4.6 8.1 4.6 13.3zm-7.7-.2c0-4-1-7.2-3-9.5s-4.8-3.5-8.2-3.5c-3.6 0-6.4 1.2-8.3 3.7s-2.9 5.6-2.9 9.5c0 3.7.9 6.8 2.8 9.4 1.9 2.6 4.6 3.9 8.3 3.9 3.6 0 6.4-1.3 8.4-3.8 1.9-2.6 2.9-5.8 2.9-9.7zM583.6 60.2c-.4 3.2-1.9 6.3-4.4 9.1-2.5 2.9-6.4 4.3-11.8 4.3-5.2 0-9.4-1.6-12.6-4.8-3.2-3.2-4.8-7.7-4.8-13.7 0-5.5 1.6-10.1 4.7-13.9 3.2-3.8 7.6-5.7 13.2-5.7 2.3 0 4.6.3 6.7.8 2.2.5 4.2 1.5 6.2 2.9l1.5 9.5-5.9.7-1.3-6.1c-2.1-1.2-4.5-1.8-7.2-1.8-3.5 0-6.1 1.2-7.7 3.7-1.7 2.5-2.5 5.7-2.5 9.6 0 4.1.9 7.3 2.7 9.5 1.8 2.3 4.4 3.4 7.8 3.4 5.2 0 8.2-2.9 9.2-8.8l6.2 1.3zM618.3 62.1c0 3.6-1.5 6.5-4.6 8.5s-7 3-11.7 3c-5.7 0-10.6-1.2-14.6-3.6l1.2-8.8 5.7.6-.2 4.7c1.1.5 2.3.9 3.6 1.1s2.6.3 3.9.3c2.4 0 4.5-.4 6.5-1.3 1.9-.9 2.9-2.2 2.9-4.1 0-1.8-.8-3.1-2.3-3.8s-3.5-1.3-5.8-1.7-4.6-.9-6.9-1.4c-2.3-.6-4.2-1.6-5.7-2.9-1.6-1.4-2.3-3.5-2.3-6.3 0-4.1 1.5-6.9 4.6-8.5s6.4-2.4 9.9-2.4c2.6 0 5 .3 7.2.9 2.2.6 4.3 1.4 6.1 2.4l.8 8.8-5.8.7-.8-5.7c-2.3-1-4.7-1.6-7.2-1.6-2.1 0-3.7.4-5.1 1.1-1.3.8-2 2-2 3.8 0 1.7.8 2.9 2.3 3.6 1.5.7 3.4 1.2 5.7 1.6 2.2.4 4.5.8 6.7 1.4 2.2.6 4.1 1.6 5.7 3 1.4 1.6 2.2 3.7 2.2 6.6zM197.6 73.2h-17.1v-5.5h3.8V51.9c0-3.7-.7-6.3-2.1-7.9-1.4-1.6-3.3-2.3-5.7-2.3-3.2 0-5.6 1.1-7.2 3.4s-2.4 4.6-2.5 6.9v15.6h6v5.5h-17.1v-5.5h3.8V51.9c0-3.8-.7-6.4-2.1-7.9-1.4-1.5-3.3-2.3-5.6-2.3-3.2 0-5.5 1.1-7.2 3.3-1.6 2.2-2.4 4.5-2.5 6.9v15.8h6.9v5.5h-20.2v-5.5h6V42.4h-6.1v-5.6h13.4v6.4c1.2-2.1 2.7-3.8 4.7-5.2 2-1.3 4.4-2 7.3-2s5.3.7 7.5 2.1c2.2 1.4 3.7 3.5 4.5 6.4 1.1-2.5 2.7-4.5 4.9-6.1s4.8-2.4 7.9-2.4c3.5 0 6.5 1.1 8.9 3.3s3.7 5.6 3.7 10.2v18.2h6.1v5.5zm42.5 0h-13.2V66c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2s9.8 2.2 12.3 6.5V22.7h-8.6v-5.6h15.8v50.6h6v5.5zm-13.3-16.8V52c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm61.5 16.8H269v-5.5h6V51.9c0-3.7-.7-6.3-2.2-7.9-1.4-1.6-3.4-2.3-5.7-2.3-3.1 0-5.6 1-7.4 3s-2.8 4.4-2.9 7v15.9h6v5.5h-19.3v-5.5h6V42.4h-6.2v-5.6h13.6V43c2.6-4.6 6.8-6.9 12.7-6.9 3.6 0 6.7 1.1 9.2 3.3s3.7 5.6 3.7 10.2v18.2h6v5.4h-.2z"></path></g></svg></a><button title="Open main menu" type="button" class="button action has-icon main-menu-toggle" aria-haspopup="menu" aria-label="Open main menu" aria-expanded="false"><span class="button-wrap"><span class="icon icon-menu "></span><span class="visually-hidden">Open main menu</span></span></button></div><div class="top-navigation-main"><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button type="button" id="references-button" class="top-level-entry menu-toggle" aria-controls="references-menu" aria-expanded="false">References</button><a href="https://developer.mozilla.org/en-US/docs/Web" class="top-level-entry">References</a><ul id="references-menu" class="submenu references hidden inline-submenu-lg" aria-labelledby="references-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Structure of content on the web</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Code used to describe document style</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">General-purpose scripting language</p></div></a></li><li class="http-link-container "><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP" class="submenu-item "><div class="submenu-icon http"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTTP</div><p class="submenu-item-description">Protocol for transmitting web resources</p></div></a></li><li class="apis-link-container "><a href="../../API.html" class="submenu-item "><div class="submenu-icon apis"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web APIs</div><p class="submenu-item-description">Interfaces for building web applications</p></div></a></li><li class="apis-link-container "><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Extensions</div><p class="submenu-item-description">Developing extensions for web browsers</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="guides-button" class="top-level-entry menu-toggle" aria-controls="guides-menu" aria-expanded="false">Guides</button><a href="https://developer.mozilla.org/en-US/docs/Learn" class="top-level-entry">Guides</a><ul id="guides-menu" class="submenu guides hidden inline-submenu-lg" aria-labelledby="guides-button"><li class="apis-link-container mobile-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="apis-link-container desktop-only "><a href="https://developer.mozilla.org/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="html-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Learn to structure web content with HTML</p></div></a></li><li class="css-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Learn to style content using CSS</p></div></a></li><li class="javascript-link-container "><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">Learn to run scripts in the browser</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Accessibility</div><p class="submenu-item-description">Learn to make the web accessible to all</p></div></a></li></ul></li><li class="top-level-entry-container"><button type="button" id="mdn-plus-button" class="top-level-entry menu-toggle" aria-controls="mdn-plus-menu" aria-expanded="false">MDN Plus</button><a href="https://developer.mozilla.org/en-US/plus" class="top-level-entry">MDN Plus</a><ul id="mdn-plus-menu" class="submenu mdn-plus hidden inline-submenu-lg" aria-labelledby="mdn-plus-button"><li class=" "><a href="https://developer.mozilla.org/en-US/plus" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview</div><p class="submenu-item-description">A customized MDN experience</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/updates" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Updates</div><p class="submenu-item-description">All browser compatibility updates at a glance</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/features/overview" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Documentation</div><p class="submenu-item-description">Learn how to use MDN Plus</p></div></a></li><li class=" "><a href="https://developer.mozilla.org/en-US/plus/docs/faq" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">FAQ</div><p class="submenu-item-description">Frequently asked questions about MDN Plus</p></div></a></li></ul></li></ul></nav><div class="header-search"><form action="https://developer.mozilla.org/en-US/search" role="search" aria-haspopup="listbox" aria-owns="top-nav-search-menu" aria-expanded="false" class="search-form search-widget" id="top-nav-search-form"><label id="top-nav-search-label" for="top-nav-search-input" class="visually-hidden">Search MDN</label><input id="top-nav-search-input" aria-autocomplete="list" aria-controls="top-nav-search-menu" aria-labelledby="top-nav-search-label" autocomplete="off" type="search" class="search-input-field" name="q" placeholder="   " required="" value=""><button type="button" class="button action has-icon clear-search-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear search input</span></span></button><button type="submit" class="button action has-icon search-button"><span class="button-wrap"><span class="icon icon-search "></span><span class="visually-hidden">Search</span></span></button><div id="top-nav-search-menu" role="listbox" aria-labelledby="top-nav-search-label"></div></form></div><div class="theme-switcher-menu"><button type="button" class="button action has-icon theme-switcher-menu small" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-theme-os-default "></span>Theme</span></button></div><ul class="auth-container"><li><a href="https://developer.mozilla.org/users/fxa/login/authenticate/?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWeb_Audio_API%2FMigrating_from_webkitAudioContext" class="signin-link" rel="nofollow">Already a subscriber?</a></li><li><a class="button primary mdn-plus-subscribe-link" href="https://developer.mozilla.org/en-US/plus"><span class="button-wrap">Get MDN Plus</span></a></li></ul></div></div></header><div class="article-actions-container"><div class="container"><button type="button" class="button action has-icon sidebar-button" aria-label="Expand sidebar" aria-expanded="false" aria-controls="sidebar-quicklinks"><span class="button-wrap"><span class="icon icon-sidebar "></span></span></button><nav class="breadcrumbs-container" aria-label="Breadcrumb"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="https://developer.mozilla.org/en-US/docs/Web"><span property="name">References</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../../API.html"><span property="name">Web APIs</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../Web_Audio_API.html"><span property="name">Web Audio API</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="Migrating_from_webkitAudioContext.html"><span property="name">Migrating from webkitAudioContext</span></a><meta property="position" content="4"></li></ol></nav><div class="article-actions"><button type="button" class="button action has-icon article-actions-toggle" aria-label="Article actions"><span class="button-wrap"><span class="icon icon-ellipses "></span><span class="article-actions-dialog-heading">Article Actions</span></span></button><ul class="article-actions-entries"><li class="article-actions-entry"><div class="languages-switcher-menu open-on-focus-within"><button id="languages-switcher-button" type="button" class="button action small has-icon languages-switcher-menu" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-language "></span>English (US)</span></button></div></li></ul></div></div></div></div><div class="main-wrapper"><aside id="sidebar-quicklinks" class="sidebar"><button type="button" class="button action backdrop" aria-label="Collapse sidebar"><span class="button-wrap"></span></button><nav aria-label="Related Topics" class="sidebar-inner"><div class="in-nav-toc"><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#changes_to_the_creator_methods">Changes to the creator methods</a></li><li class="document-toc-item "><a class="document-toc-link" href="#changes_to_starting_and_stopping_nodes">Changes to starting and stopping nodes</a></li><li class="document-toc-item "><a class="document-toc-link" href="#remove_synchronous_buffer_creation">Remove synchronous buffer creation</a></li><li class="document-toc-item "><a class="document-toc-link" href="#renaming_of_audioparam.settargetvalueattime">Renaming of AudioParam.setTargetValueAtTime</a></li><li class="document-toc-item "><a class="document-toc-link" href="#enumerated_values_that_changed">Enumerated values that changed</a></li><li class="document-toc-item "><a class="document-toc-link" href="#gain_control_moved_to_its_own_node_type">Gain control moved to its own node type</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_audiobuffersourcenode.looping">Removal of AudioBufferSourceNode.looping</a></li><li class="document-toc-item "><a class="document-toc-link" href="#changes_to_determining_playback_state">Changes to determining playback state</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_audiocontext.activesourcecount">Removal of AudioContext.activeSourceCount</a></li><li class="document-toc-item "><a class="document-toc-link" href="#renaming_of_wavetable">Renaming of WaveTable</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_some_of_the_audioparam_read-only_attributes">Removal of some of the AudioParam read-only attributes</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_mediaelementaudiosourcenode.mediaelement">Removal of MediaElementAudioSourceNode.mediaElement</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_mediastreamaudiosourcenode.mediastream">Removal of MediaStreamAudioSourceNode.mediaStream</a></li></ul></section></div></div><div><ol><li><strong><a href="../Web_Audio_API.html">Web Audio API</a></strong></li><li class="toggle"><details open=""><summary>Guides</summary><ol><li><a href="Using_Web_Audio_API.html">Using the Web Audio API</a></li><li><a href="Basic_concepts_behind_Web_Audio_API.html">Basic concepts behind Web Audio API</a></li><li><a href="Best_practices.html">Web Audio API best practices</a></li><li><a href="Advanced_techniques.html">Advanced techniques: Creating and sequencing audio</a></li><li><a href="Using_AudioWorklet.html">Background audio processing using AudioWorklet</a></li><li><a href="Controlling_multiple_parameters_with_ConstantSourceNode.html">Controlling multiple parameters with ConstantSourceNode</a></li><li><em><a href="Migrating_from_webkitAudioContext.html" aria-current="page">Migrating from webkitAudioContext</a></em></li><li><a href="Simple_synth.html">Example and tutorial: Simple synth keyboard</a></li><li><a href="Tools.html">Tools for analyzing Web Audio usage</a></li><li><a href="Using_IIR_filters.html">Using IIR filters</a></li><li><a href="Visualizations_with_Web_Audio_API.html">Visualizations with Web Audio API</a></li><li><a href="Web_audio_spatialization_basics.html">Web audio spatialization basics</a></li></ol></details></li><li class="toggle"><details open=""><summary>Interfaces</summary><ol><li><a href="../AnalyserNode.html"><code>AnalyserNode</code></a></li><li><a href="../AudioBuffer.html"><code>AudioBuffer</code></a></li><li><a href="../AudioBufferSourceNode.html"><code>AudioBufferSourceNode</code></a></li><li><a href="../AudioContext.html"><code>AudioContext</code></a></li><li><a href="../AudioDestinationNode.html"><code>AudioDestinationNode</code></a></li><li><a href="../AudioListener.html"><code>AudioListener</code></a></li><li><a href="../AudioNode.html"><code>AudioNode</code></a></li><li><a href="../AudioParam.html"><code>AudioParam</code></a></li><li><a href="../AudioProcessingEvent.html"><code>AudioProcessingEvent</code></a></li><li><a href="../AudioScheduledSourceNode.html"><code>AudioScheduledSourceNode</code></a></li><li><a href="../AudioSinkInfo.html"><code>AudioSinkInfo</code></a></li><li><a href="../AudioWorklet.html"><code>AudioWorklet</code></a></li><li><a href="../AudioWorkletGlobalScope.html"><code>AudioWorkletGlobalScope</code></a></li><li><a href="../AudioWorkletNode.html"><code>AudioWorkletNode</code></a></li><li><a href="../AudioWorkletProcessor.html"><code>AudioWorkletProcessor</code></a></li><li><a href="../BaseAudioContext.html"><code>BaseAudioContext</code></a></li><li><a href="../BiquadFilterNode.html"><code>BiquadFilterNode</code></a></li><li><a href="../ChannelMergerNode.html"><code>ChannelMergerNode</code></a></li><li><a href="../ChannelSplitterNode.html"><code>ChannelSplitterNode</code></a></li><li><a href="../ConstantSourceNode.html"><code>ConstantSourceNode</code></a></li><li><a href="../ConvolverNode.html"><code>ConvolverNode</code></a></li><li><a href="../DelayNode.html"><code>DelayNode</code></a></li><li><a href="../DynamicsCompressorNode.html"><code>DynamicsCompressorNode</code></a></li><li><a href="../GainNode.html"><code>GainNode</code></a></li><li><a href="../IIRFilterNode.html"><code>IIRFilterNode</code></a></li><li><a href="../MediaElementAudioSourceNode.html"><code>MediaElementAudioSourceNode</code></a></li><li><a href="../MediaStreamAudioDestinationNode.html"><code>MediaStreamAudioDestinationNode</code></a></li><li><a href="../MediaStreamAudioSourceNode.html"><code>MediaStreamAudioSourceNode</code></a></li><li><a href="../OfflineAudioCompletionEvent.html"><code>OfflineAudioCompletionEvent</code></a></li><li><a href="../OfflineAudioContext.html"><code>OfflineAudioContext</code></a></li><li><a href="../OscillatorNode.html"><code>OscillatorNode</code></a></li><li><a href="../PannerNode.html"><code>PannerNode</code></a></li><li><a href="../PeriodicWave.html"><code>PeriodicWave</code></a></li><li><a href="../WaveShaperNode.html"><code>WaveShaperNode</code></a></li><li><a href="../StereoPannerNode.html"><code>StereoPannerNode</code></a></li></ol></details></li></ol></div></nav></aside><aside class="toc"><nav><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#changes_to_the_creator_methods">Changes to the creator methods</a></li><li class="document-toc-item "><a class="document-toc-link" href="#changes_to_starting_and_stopping_nodes">Changes to starting and stopping nodes</a></li><li class="document-toc-item "><a class="document-toc-link" href="#remove_synchronous_buffer_creation">Remove synchronous buffer creation</a></li><li class="document-toc-item "><a class="document-toc-link" href="#renaming_of_audioparam.settargetvalueattime">Renaming of AudioParam.setTargetValueAtTime</a></li><li class="document-toc-item "><a class="document-toc-link" href="#enumerated_values_that_changed">Enumerated values that changed</a></li><li class="document-toc-item "><a class="document-toc-link" href="#gain_control_moved_to_its_own_node_type">Gain control moved to its own node type</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_audiobuffersourcenode.looping">Removal of AudioBufferSourceNode.looping</a></li><li class="document-toc-item "><a class="document-toc-link" href="#changes_to_determining_playback_state">Changes to determining playback state</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_audiocontext.activesourcecount">Removal of AudioContext.activeSourceCount</a></li><li class="document-toc-item "><a class="document-toc-link" href="#renaming_of_wavetable">Renaming of WaveTable</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_some_of_the_audioparam_read-only_attributes">Removal of some of the AudioParam read-only attributes</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_mediaelementaudiosourcenode.mediaelement">Removal of MediaElementAudioSourceNode.mediaElement</a></li><li class="document-toc-item "><a class="document-toc-link" href="#removal_of_mediastreamaudiosourcenode.mediastream">Removal of MediaStreamAudioSourceNode.mediaStream</a></li></ul></section></div></nav></aside><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><h1>Migrating from webkitAudioContext</h1><div class="section-content"><p>In this article, we cover the differences in Web Audio API since it was first implemented in WebKit and how to update your code to use the modern Web Audio API.</p>
<p>The Web Audio standard was first implemented in <a href="https://webkit.org/" class="external" target="_blank">WebKit</a>, and the implementation was built in parallel with the work on the <a href="https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html" class="external" target="_blank">specification</a> of the API. As the specification evolved and changes were made to the spec, some of the old implementation pieces were not removed from the WebKit (and Blink) implementations due to backwards compatibility reasons.</p>
<p>New engines implementing the Web Audio spec (such as Gecko) will only implement the official, final version of the specification, which means that code using <code>webkitAudioContext</code> or old naming conventions in the Web Audio specification may not immediately work out of the box in a compliant Web Audio implementation. This article attempts to summarize the areas where developers are likely to encounter these problems and provide examples on how to port such code to standards based <a href="../AudioContext.html"><code>AudioContext</code></a>, which will work across different browser engines.</p>
<div class="notecard note" id="sect1">
  <p><strong>Note:</strong> There is a library called <a href="https://github.com/cwilso/webkitAudioContext-MonkeyPatch" class="external" target="_blank">webkitAudioContext monkeypatch</a>, which automatically fixes some of these changes to make most code targeting <code>webkitAudioContext</code> to work on the standards based <code>AudioContext</code> out of the box, but it currently doesn't handle all of the cases below. Please consult the <a href="https://github.com/cwilso/webkitAudioContext-MonkeyPatch/blob/gh-pages/README.md" class="external" target="_blank">README file</a> for that library to see a list of APIs that are automatically handled by it.</p>
</div></div><section aria-labelledby="changes_to_the_creator_methods"><a class="dashAnchor" name="//apple_ref/Section/Changes%20to%20the%20creator%20methods"></a><h2 id="changes_to_the_creator_methods"><a href="#changes_to_the_creator_methods">Changes to the creator methods</a></h2><div class="section-content"><p>Three of the creator methods on <code>webkitAudioContext</code> have been renamed in <a href="../AudioContext.html"><code>AudioContext</code></a>.</p>
<ul>
  <li><code>createGainNode()</code> has been renamed to <a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!"><code>createGain</code></a>.</li>
  <li><code>createDelayNode()</code> has been renamed to <a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!"><code>createDelay</code></a>.</li>
  <li><code>createJavaScriptNode()</code> has been renamed to <a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!"><code>createScriptProcessor</code></a>.</li>
</ul>
<p>These are simple renames that were made in order to improve the consistency of these method names on <a href="../AudioContext.html"><code>AudioContext</code></a>. If your code uses either of these names, like in the example below:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old method names</span>
<span class="token keyword">const</span> gain <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createGainNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> delay <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createDelayNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> js <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createJavaScriptNode</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>you can rename the methods to look like this:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// New method names</span>
<span class="token keyword">const</span> gain <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createGain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> delay <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createDelay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> js <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createScriptProcessor</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>The semantics of these methods remain the same in the renamed versions.</p></div></section><section aria-labelledby="changes_to_starting_and_stopping_nodes"><a class="dashAnchor" name="//apple_ref/Section/Changes%20to%20starting%20and%20stopping%20nodes"></a><h2 id="changes_to_starting_and_stopping_nodes"><a href="#changes_to_starting_and_stopping_nodes">Changes to starting and stopping nodes</a></h2><div class="section-content"><p>In <code>webkitAudioContext</code>, there are two ways to start and stop <a href="../AudioBufferSourceNode.html"><code>AudioBufferSourceNode</code></a> and <a href="../OscillatorNode.html"><code>OscillatorNode</code></a>: the <code>noteOn()</code> and <code>noteOff()</code> methods, and the <code>start()</code> and <code>stop()</code> methods. (<a href="../AudioBufferSourceNode.html"><code>AudioBufferSourceNode</code></a> has yet another way of starting output: the <code>noteGrainOn()</code> method.) The <code>noteOn()</code>/<code>noteGrainOn()</code>/<code>noteOff()</code> methods were the original way to start/stop output in these nodes, and in the newer versions of the specification, the <code>noteOn()</code> and <code>noteGrainOn()</code> methods were consolidated into a single <code>start()</code> method, and the <code>noteOff()</code> method was renamed to the <code>stop()</code> method.</p>
<p>In order to port your code, you can just rename the method that you're using. For example, if you have code like the below:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> osc <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osc<span class="token punctuation">.</span><span class="token function">noteOn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osc<span class="token punctuation">.</span><span class="token function">noteOff</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> src <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">noteGrainOn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">noteOff</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>you can change it like this in order to port it to the standard AudioContext API:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> osc <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osc<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osc<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> src <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></section><section aria-labelledby="remove_synchronous_buffer_creation"><a class="dashAnchor" name="//apple_ref/Section/Remove%20synchronous%20buffer%20creation"></a><h2 id="remove_synchronous_buffer_creation"><a href="#remove_synchronous_buffer_creation">Remove synchronous buffer creation</a></h2><div class="section-content"><p>In the old WebKit implementation of Web Audio, there were two versions of <code>createBuffer()</code>, one which created an initially empty buffer, and one which took an existing <a href="../../JavaScript/Reference/Global_Objects/ArrayBuffer.html"><code>ArrayBuffer</code></a> containing encoded audio, decoded it and returned the result in the form of an <a href="../AudioBuffer.html"><code>AudioBuffer</code></a>. The latter version of <code>createBuffer()</code> was potentially expensive, because it had to decode the audio buffer synchronously, and with the buffer being arbitrarily large, it could take a lot of time for this method to complete its work, and no other part of your web page's code could execute in the mean time.</p>
<p>Because of these problems, this version of the <code>createBuffer()</code> method has been removed, and you should use the asynchronous <code>decodeAudioData()</code> method instead.</p>
<p>The example below shows old code which downloads an audio file over the network, and then decoded it using <code>createBuffer()</code>:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"/path/to/audio.ogg"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">"arraybuffer"</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> decodedBuffer <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBuffer</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>decodedBuffer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Decoding was successful, do something useful with the audio buffer</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Decoding the audio buffer failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Converting this code to use <code>decodeAudioData()</code> is relatively simple, as can be seen below:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"/path/to/audio.ogg"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">"arraybuffer"</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  context<span class="token punctuation">.</span><span class="token function">decodeAudioData</span><span class="token punctuation">(</span>
    xhr<span class="token punctuation">.</span>response<span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">decodedBuffer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// Decoding was successful, do something useful with the audio buffer</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Decoding the audio buffer failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Note that the <code>decodeAudioData()</code> method is asynchronous, which means that it will return immediately, and then when the decoding finishes, one of the success or failure callback functions will get called depending on whether the audio decoding was successful. This means that you may need to restructure your code to run the part which happened after the <code>createBuffer()</code> call in the success callback, as you can see in the example above.</p></div></section><section aria-labelledby="renaming_of_audioparam.settargetvalueattime"><a class="dashAnchor" name="//apple_ref/Section/Renaming%20of%20AudioParam%2EsetTargetValueAtTime"></a><h2 id="renaming_of_audioparam.settargetvalueattime"><a href="#renaming_of_audioparam.settargetvalueattime">Renaming of AudioParam.setTargetValueAtTime</a></h2><div class="section-content"><p>The <code>setTargetValueAtTime()</code> method on the <a href="../AudioParam.html"><code>AudioParam</code></a> interface has been renamed to <code>setTargetAtTime()</code>. This is also a simple rename to improve the understandability of the API, and the semantics of the method are the same. If your code is using <code>setTargetValueAtTime()</code>, you can rename it to use <code>setTargetAtTime()</code>. For example, if we have code that looks like this:</p>
<div class="code-example"><pre class="brush: js notranslate"><code>  <span class="token keyword">const</span> gainNode <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createGain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gainNode<span class="token punctuation">.</span>gain<span class="token punctuation">.</span><span class="token function">setTargetValueAtTime</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>you can rename the method, and be compliant with the standard, like so:</p>
<div class="code-example"><pre class="brush: js notranslate"><code>  <span class="token keyword">const</span> gainNode <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createGain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gainNode<span class="token punctuation">.</span>gain<span class="token punctuation">.</span><span class="token function">setTargetAtTime</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></section><section aria-labelledby="enumerated_values_that_changed"><a class="dashAnchor" name="//apple_ref/Section/Enumerated%20values%20that%20changed"></a><h2 id="enumerated_values_that_changed"><a href="#enumerated_values_that_changed">Enumerated values that changed</a></h2><div class="section-content"><p>The original <code>webkitAudioContext</code> API used C-style number based enumerated values in the API. Those values have since been changed to use the Web IDL based enumerated values, which should be familiar because they are similar to things like the <a href="../HTMLInputElement.html"><code>HTMLInputElement</code></a> property <a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!"><code>type</code></a>.</p></div></section><section aria-labelledby="oscillatornode.type"><h3 id="oscillatornode.type"><a href="#oscillatornode.type">OscillatorNode.type</a></h3><div class="section-content"><p><a href="../OscillatorNode.html"><code>OscillatorNode</code></a>'s type property has been changed to use Web IDL enums. Old code using <code>webkitAudioContext</code> can be ported to standards based <a href="../AudioContext.html"><code>AudioContext</code></a> like below:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old webkitAudioContext code:</span>
<span class="token keyword">const</span> osc <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osc<span class="token punctuation">.</span>type <span class="token operator">=</span> osc<span class="token punctuation">.</span><span class="token constant">SINE</span><span class="token punctuation">;</span>     <span class="token comment">// sine waveform</span>
osc<span class="token punctuation">.</span>type <span class="token operator">=</span> osc<span class="token punctuation">.</span><span class="token constant">SQUARE</span><span class="token punctuation">;</span>   <span class="token comment">// square waveform</span>
osc<span class="token punctuation">.</span>type <span class="token operator">=</span> osc<span class="token punctuation">.</span><span class="token constant">SAWTOOTH</span><span class="token punctuation">;</span> <span class="token comment">// sawtooth waveform</span>
osc<span class="token punctuation">.</span>type <span class="token operator">=</span> osc<span class="token punctuation">.</span><span class="token constant">TRIANGLE</span><span class="token punctuation">;</span> <span class="token comment">// triangle waveform</span>
osc<span class="token punctuation">.</span><span class="token function">setWaveTable</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isCustom <span class="token operator">=</span> osc<span class="token punctuation">.</span>type <span class="token operator">===</span> osc<span class="token punctuation">.</span><span class="token constant">CUSTOM</span><span class="token punctuation">;</span> <span class="token comment">// isCustom will be true</span>
</code></pre></div>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// New standard AudioContext code:</span>
<span class="token keyword">const</span> osc <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osc<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"sine"</span><span class="token punctuation">;</span>       <span class="token comment">// sine waveform</span>
osc<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"square"</span><span class="token punctuation">;</span>     <span class="token comment">// square waveform</span>
osc<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"sawtooth"</span><span class="token punctuation">;</span>   <span class="token comment">// sawtooth waveform</span>
osc<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"triangle"</span><span class="token punctuation">;</span>   <span class="token comment">// triangle waveform</span>
osc<span class="token punctuation">.</span><span class="token function">setPeriodicWave</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Note: setWaveTable has been renamed to setPeriodicWave!</span>
<span class="token keyword">const</span> isCustom <span class="token operator">=</span> osc<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"custom"</span><span class="token punctuation">;</span> <span class="token comment">// isCustom will be true</span>
</code></pre></div></div></section><section aria-labelledby="biquadfilternode.type"><h3 id="biquadfilternode.type"><a href="#biquadfilternode.type">BiquadFilterNode.type</a></h3><div class="section-content"><p><a href="../BiquadFilterNode.html"><code>BiquadFilterNode</code></a>'s type property has been changed to use Web IDL enums. Old code using <code>webkitAudioContext</code> can be ported to standards based <a href="../AudioContext.html"><code>AudioContext</code></a> like below:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old webkitAudioContext code:</span>
<span class="token keyword">const</span> filter <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBiquadFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> filter<span class="token punctuation">.</span><span class="token constant">LOWPASS</span><span class="token punctuation">;</span>   <span class="token comment">// lowpass filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> filter<span class="token punctuation">.</span><span class="token constant">HIGHPASS</span><span class="token punctuation">;</span>  <span class="token comment">// highpass filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> filter<span class="token punctuation">.</span><span class="token constant">BANDPASS</span><span class="token punctuation">;</span>  <span class="token comment">// bandpass filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> filter<span class="token punctuation">.</span><span class="token constant">LOWSHELF</span><span class="token punctuation">;</span>  <span class="token comment">// lowshelf filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> filter<span class="token punctuation">.</span><span class="token constant">HIGHSHELF</span><span class="token punctuation">;</span> <span class="token comment">// highshelf filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> filter<span class="token punctuation">.</span><span class="token constant">PEAKING</span><span class="token punctuation">;</span>   <span class="token comment">// peaking filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> filter<span class="token punctuation">.</span><span class="token constant">NOTCH</span><span class="token punctuation">;</span>     <span class="token comment">// notch filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> filter<span class="token punctuation">.</span><span class="token constant">ALLPASS</span><span class="token punctuation">;</span>   <span class="token comment">// allpass filter</span>
</code></pre></div>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// New standard AudioContext code:</span>
<span class="token keyword">const</span> filter <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBiquadFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"lowpass"</span><span class="token punctuation">;</span>        <span class="token comment">// lowpass filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"highpass"</span><span class="token punctuation">;</span>       <span class="token comment">// highpass filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"bandpass"</span><span class="token punctuation">;</span>       <span class="token comment">// bandpass filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"lowshelf"</span><span class="token punctuation">;</span>       <span class="token comment">// lowshelf filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"highshelf"</span><span class="token punctuation">;</span>      <span class="token comment">// highshelf filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"peaking"</span><span class="token punctuation">;</span>        <span class="token comment">// peaking filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"notch"</span><span class="token punctuation">;</span>          <span class="token comment">// notch filter</span>
filter<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"allpass"</span><span class="token punctuation">;</span>        <span class="token comment">// allpass filter</span>
</code></pre></div></div></section><section aria-labelledby="pannernode.panningmodel"><h3 id="pannernode.panningmodel"><a href="#pannernode.panningmodel">PannerNode.panningModel</a></h3><div class="section-content"><p><a href="../PannerNode.html"><code>PannerNode</code></a>'s panningModel property has been changed to use Web IDL enums. Old code using <code>webkitAudioContext</code> can be ported to standards based <a href="../AudioContext.html"><code>AudioContext</code></a> like below:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old webkitAudioContext code:</span>
<span class="token keyword">const</span> panner <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createPanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
panner<span class="token punctuation">.</span>panningModel <span class="token operator">=</span> panner<span class="token punctuation">.</span><span class="token constant">EQUALPOWER</span><span class="token punctuation">;</span>  <span class="token comment">// equalpower panning</span>
panner<span class="token punctuation">.</span>panningModel <span class="token operator">=</span> panner<span class="token punctuation">.</span><span class="token constant">HRTF</span><span class="token punctuation">;</span>        <span class="token comment">// HRTF panning</span>
</code></pre></div>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// New standard AudioContext code:</span>
<span class="token keyword">const</span> panner <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createPanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
panner<span class="token punctuation">.</span>panningModel <span class="token operator">=</span> <span class="token string">"equalpower"</span><span class="token punctuation">;</span>       <span class="token comment">// equalpower panning</span>
panner<span class="token punctuation">.</span>panningModel <span class="token operator">=</span> <span class="token string">"HRTF"</span><span class="token punctuation">;</span>             <span class="token comment">// HRTF panning</span>
</code></pre></div></div></section><section aria-labelledby="pannernode.distancemodel"><h3 id="pannernode.distancemodel"><a href="#pannernode.distancemodel">PannerNode.distanceModel</a></h3><div class="section-content"><p><a href="../PannerNode.html"><code>PannerNode</code></a>'s <code>distanceModel</code> property has been changed to use Web IDL enums. Old code using <code>webkitAudioContext</code> can be ported to standards based <a href="../AudioContext.html"><code>AudioContext</code></a> like below:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old webkitAudioContext code:</span>
<span class="token keyword">const</span> panner <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createPanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
panner<span class="token punctuation">.</span>distanceModel <span class="token operator">=</span> panner<span class="token punctuation">.</span><span class="token constant">LINEAR_DISTANCE</span><span class="token punctuation">;</span>      <span class="token comment">// linear distance model</span>
panner<span class="token punctuation">.</span>distanceModel <span class="token operator">=</span> panner<span class="token punctuation">.</span><span class="token constant">INVERSE_DISTANCE</span><span class="token punctuation">;</span>     <span class="token comment">// inverse distance model</span>
panner<span class="token punctuation">.</span>distanceModel <span class="token operator">=</span> panner<span class="token punctuation">.</span><span class="token constant">EXPONENTIAL_DISTANCE</span><span class="token punctuation">;</span> <span class="token comment">// exponential distance model</span>
</code></pre></div>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Mew standard AudioContext code:</span>
<span class="token keyword">const</span> panner <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createPanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
panner<span class="token punctuation">.</span>distanceModel <span class="token operator">=</span> <span class="token string">"linear"</span><span class="token punctuation">;</span>                    <span class="token comment">// linear distance model</span>
panner<span class="token punctuation">.</span>distanceModel <span class="token operator">=</span> <span class="token string">"inverse"</span><span class="token punctuation">;</span>                   <span class="token comment">// inverse distance model</span>
panner<span class="token punctuation">.</span>distanceModel <span class="token operator">=</span> <span class="token string">"exponential"</span><span class="token punctuation">;</span>               <span class="token comment">// exponential distance model</span>
</code></pre></div></div></section><section aria-labelledby="gain_control_moved_to_its_own_node_type"><a class="dashAnchor" name="//apple_ref/Section/Gain%20control%20moved%20to%20its%20own%20node%20type"></a><h2 id="gain_control_moved_to_its_own_node_type"><a href="#gain_control_moved_to_its_own_node_type">Gain control moved to its own node type</a></h2><div class="section-content"><p>The Web Audio standard now controls all gain using the <a href="../GainNode.html"><code>GainNode</code></a>. Instead of setting a <code>gain</code> property directly on an audio source, you connect the source to a gain node and then control the gain using that node's <code>gain</code> parameter.</p></div></section><section aria-labelledby="audiobuffersourcenode"><h3 id="audiobuffersourcenode"><a href="#audiobuffersourcenode">AudioBufferSourceNode</a></h3><div class="section-content"><p>The <code>gain</code> attribute of <a href="../AudioBufferSourceNode.html"><code>AudioBufferSourceNode</code></a> has been removed. The same functionality can be achieved by connecting the <a href="../AudioBufferSourceNode.html"><code>AudioBufferSourceNode</code></a> to a gain node. See the following example:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old webkitAudioContext code:</span>
<span class="token keyword">const</span> src <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span>buffer <span class="token operator">=</span> someBuffer<span class="token punctuation">;</span>
src<span class="token punctuation">.</span>gain<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">noteOn</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// New standard AudioContext code:</span>
<span class="token keyword">const</span> src <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span>buffer <span class="token operator">=</span> someBuffer<span class="token punctuation">;</span>
<span class="token keyword">const</span> gain <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createGain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>gain<span class="token punctuation">)</span><span class="token punctuation">;</span>
gain<span class="token punctuation">.</span>gain<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
gain<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></section><section aria-labelledby="audiobuffer"><h3 id="audiobuffer"><a href="#audiobuffer">AudioBuffer</a></h3><div class="section-content"><p>The <code>gain</code> attribute of <a href="../AudioBuffer.html"><code>AudioBuffer</code></a> has been removed. The same functionality can be achieved by connecting the <a href="../AudioBufferSourceNode.html"><code>AudioBufferSourceNode</code></a> that owns the buffer to a gain node. See the following example:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old webkitAudioContext code:</span>
<span class="token keyword">const</span> src <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span>buffer <span class="token operator">=</span> someBuffer<span class="token punctuation">;</span>
src<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>gain <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">noteOn</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// New standard AudioContext code:</span>
<span class="token keyword">const</span> src <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span>buffer <span class="token operator">=</span> someBuffer<span class="token punctuation">;</span>
<span class="token keyword">const</span> gain <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createGain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>gain<span class="token punctuation">)</span><span class="token punctuation">;</span>
gain<span class="token punctuation">.</span>gain<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
gain<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></section><section aria-labelledby="removal_of_audiobuffersourcenode.looping"><a class="dashAnchor" name="//apple_ref/Section/Removal%20of%20AudioBufferSourceNode%2Elooping"></a><h2 id="removal_of_audiobuffersourcenode.looping"><a href="#removal_of_audiobuffersourcenode.looping">Removal of AudioBufferSourceNode.looping</a></h2><div class="section-content"><p>The <code>looping</code> attribute of <a href="../AudioBufferSourceNode.html"><code>AudioBufferSourceNode</code></a> has been removed. This attribute was an alias of the <code>loop</code> attribute, so you can just use the <code>loop</code> attribute instead. Instead of having code like this:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> source <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
source<span class="token punctuation">.</span>looping <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div>
<p>you can change it to respect the last version of the specification:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> source <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
source<span class="token punctuation">.</span>loop <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Note, the <code>loopStart</code> and <code>loopEnd</code> attributes are not supported in <code>webkitAudioContext</code>.</p></div></section><section aria-labelledby="changes_to_determining_playback_state"><a class="dashAnchor" name="//apple_ref/Section/Changes%20to%20determining%20playback%20state"></a><h2 id="changes_to_determining_playback_state"><a href="#changes_to_determining_playback_state">Changes to determining playback state</a></h2><div class="section-content"><p>The <code>playbackState</code> attribute of <a href="../AudioBufferSourceNode.html"><code>AudioBufferSourceNode</code></a> and <a href="../OscillatorNode.html"><code>OscillatorNode</code></a> has been removed. Depending on why you used this attribute, you can use the following techniques to get the same information:</p>
<ul>
  <li>If you need to compare this attribute to <code>UNSCHEDULED_STATE</code>, you can basically remember whether you've called <code>start()</code> on the node or not.</li>
  <li>If you need to compare this attribute to <code>SCHEDULED_STATE</code>, you can basically remember whether you've called <code>start()</code> on the node or not. You can compare the value of <a href="../BaseAudioContext/currentTime.html"><code>AudioContext.currentTime</code></a> to the first argument passed to <code>start()</code> to know whether playback has started or not.</li>
  <li>If you need to compare this attribute to <code>PLAYING_STATE</code>, you can compare the value of <a href="../BaseAudioContext/currentTime.html"><code>AudioContext.currentTime</code></a> to the first argument passed to <code>start()</code> to know whether playback has started or not.</li>
  <li>If you need to know when playback of the node is finished (which is the most significant use case of <code>playbackState</code>), there is a new ended event which you can use to know when playback is finished. Please see this code example:</li>
</ul>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old webkitAudioContext code:</span>
<span class="token keyword">const</span> src <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Some time later...</span>
<span class="token keyword">const</span> isFinished <span class="token operator">=</span> src<span class="token punctuation">.</span>playbackState <span class="token operator">===</span> src<span class="token punctuation">.</span><span class="token constant">FINISHED_STATE</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// New AudioContext code:</span>
<span class="token keyword">let</span> isFinished <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> src <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src<span class="token punctuation">.</span><span class="token function-variable function">onended</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  isFinished <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>The exact same changes have been applied to both <a href="../AudioBufferSourceNode.html"><code>AudioBufferSourceNode</code></a> and <a href="../OscillatorNode.html"><code>OscillatorNode</code></a>, so you can apply the same techniques to both kinds of nodes.</p></div></section><section aria-labelledby="removal_of_audiocontext.activesourcecount"><a class="dashAnchor" name="//apple_ref/Section/Removal%20of%20AudioContext%2EactiveSourceCount"></a><h2 id="removal_of_audiocontext.activesourcecount"><a href="#removal_of_audiocontext.activesourcecount">Removal of AudioContext.activeSourceCount</a></h2><div class="section-content"><p>The <code>activeSourceCount</code> attribute has been removed from <a href="../AudioContext.html"><code>AudioContext</code></a>. If you need to count the number of playing source nodes, you can maintain the count by handling the ended event on the source nodes, as shown above.</p>
<p>Code using the <code>activeSourceCount</code> attribute of the <a href="../AudioContext.html"><code>AudioContext</code></a>, like this snippet:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> src0 <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> src1 <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Set buffers and other parameters...</span>
src0<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
src1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Some time later...</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>activeSourceCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>could be rewritten like that:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Array to track the playing source nodes:</span>
<span class="token keyword">const</span> sources <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// When starting the source, put it at the end of the array,</span>
<span class="token comment">// and set a handler to make sure it gets removed when the</span>
<span class="token comment">// AudioBufferSourceNode reaches its end.</span>
<span class="token comment">// First argument is the AudioBufferSourceNode to start, other arguments are</span>
<span class="token comment">// the argument to the |start()| method of the AudioBufferSourceNode.</span>
<span class="token keyword">function</span> <span class="token function">startSource</span><span class="token punctuation">(</span><span class="token parameter">src<span class="token punctuation">,</span> <span class="token operator">...</span>startArgs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  src<span class="token punctuation">.</span><span class="token function-variable function">onended</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    sources<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>sources<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  sources<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
  src<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> startArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">activeSources</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> sources<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> src0 <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> src1 <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Set buffers and other parameters...</span>
<span class="token function">startSource</span><span class="token punctuation">(</span>src0<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">startSource</span><span class="token punctuation">(</span>src1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Some time later, query the number of sources...</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">activeSources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></section><section aria-labelledby="renaming_of_wavetable"><a class="dashAnchor" name="//apple_ref/Section/Renaming%20of%20WaveTable"></a><h2 id="renaming_of_wavetable"><a href="#renaming_of_wavetable">Renaming of WaveTable</a></h2><div class="section-content"><p>The <a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!"><code>WaveTable</code></a> interface has been renamed to <a href="../PeriodicWave.html"><code>PeriodicWave</code></a>. Here is how you can port old code using <code>WaveTable</code> to the standard AudioContext API:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old webkitAudioContext code:</span>
<span class="token keyword">const</span> osc <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> table <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createWaveTable</span><span class="token punctuation">(</span>realArray<span class="token punctuation">,</span> imaginaryArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
osc<span class="token punctuation">.</span><span class="token function">setWaveTable</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// New standard AudioContext code:</span>
<span class="token keyword">const</span> osc <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> table <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createPeriodicWave</span><span class="token punctuation">(</span>realArray<span class="token punctuation">,</span> imaginaryArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
osc<span class="token punctuation">.</span><span class="token function">setPeriodicWave</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></section><section aria-labelledby="removal_of_some_of_the_audioparam_read-only_attributes"><a class="dashAnchor" name="//apple_ref/Section/Removal%20of%20some%20of%20the%20AudioParam%20read%2Donly%20attributes"></a><h2 id="removal_of_some_of_the_audioparam_read-only_attributes"><a href="#removal_of_some_of_the_audioparam_read-only_attributes">Removal of some of the AudioParam read-only attributes</a></h2><div class="section-content"><p>The following read-only attributes have been removed from AudioParam: <code>name</code>, <code>units</code>, <code>minValue</code>, and <code>maxValue</code>. These used to be informational attributes. Here is some information on how you can get these values if you need them:</p>
<ul>
  <li>The <code>name</code> attribute is a string representing the name of the <a href="../AudioParam.html"><code>AudioParam</code></a> object. For example, the name of <a href="../GainNode/gain.html"><code>GainNode.gain</code></a> is <code>"gain"</code>. You can track where the <a href="../AudioParam.html"><code>AudioParam</code></a> object is coming from in your code if you need this information.</li>
  <li>The <code>minValue</code> and <code>maxValue</code> attributes are read-only values representing the nominal range for the <a href="../AudioParam.html"><code>AudioParam</code></a>. For example, for <a href="../GainNode.html"><code>GainNode</code></a>, these values are 0 and 1, respectively. Note that these bounds are not enforced by the engine, and are merely used for informational purposes. As an example, it's perfectly valid to set a gain value to 2, or even -1. In order to find out these nominal values, you can consult the <a href="https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html" class="external" target="_blank">specification</a>.</li>
  <li>The <code>units</code> attribute as implemented in <code>webkitAudioContext</code> implementations is unused, and always returns 0. There is no reason why you should need this attribute.</li>
</ul></div></section><section aria-labelledby="removal_of_mediaelementaudiosourcenode.mediaelement"><a class="dashAnchor" name="//apple_ref/Section/Removal%20of%20MediaElementAudioSourceNode%2EmediaElement"></a><h2 id="removal_of_mediaelementaudiosourcenode.mediaelement"><a href="#removal_of_mediaelementaudiosourcenode.mediaelement">Removal of MediaElementAudioSourceNode.mediaElement</a></h2><div class="section-content"><p>The <code>mediaElement</code> attribute of <a href="../MediaElementAudioSourceNode.html"><code>MediaElementAudioSourceNode</code></a> has been removed. You can keep a reference to the media element used to create this node if you need to access it later.</p></div></section><section aria-labelledby="removal_of_mediastreamaudiosourcenode.mediastream"><a class="dashAnchor" name="//apple_ref/Section/Removal%20of%20MediaStreamAudioSourceNode%2EmediaStream"></a><h2 id="removal_of_mediastreamaudiosourcenode.mediastream"><a href="#removal_of_mediastreamaudiosourcenode.mediastream">Removal of MediaStreamAudioSourceNode.mediaStream</a></h2><div class="section-content"><p>The <code>mediaStream</code> attribute of <a href="../MediaStreamAudioSourceNode.html"><code>MediaStreamAudioSourceNode</code></a> has been removed. You can keep a reference to the media stream used to create this node if you need to access it later.</p></div></section><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a content problem with this page?</h3><ul><li>Edit the page <a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/web_audio_api/migrating_from_webkitaudiocontext/index.md" title="This will take you to GitHub, where you'll need to sign in first." target="_blank" rel="noopener noreferrer">on GitHub</a>.</li><li>Report the <a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWeb_Audio_API%2FMigrating_from_webkitAudioContext&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fweb_audio_api%2Fmigrating_from_webkitaudiocontext%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWeb_Audio_API%2FMigrating_from_webkitAudioContext%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fweb_audio_api%2Fmigrating_from_webkitaudiocontext%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F2fc10b6e2ac7888cef38fa356432a093b5d6dddd%0A*+Document+last+modified%3A+2023-01-11T20%3A05%3A07.000Z%0A%0A%3C%2Fdetails%3E" title="This will take you to GitHub to file a new issue." target="_blank" rel="noopener noreferrer">content issue</a>.</li><li>View the source <a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/web_audio_api/migrating_from_webkitaudiocontext/index.md?plain=1" title="Folder: en-us/web/api/web_audio_api/migrating_from_webkitaudiocontext (Opens in a new tab)" target="_blank" rel="noopener noreferrer">on GitHub</a>.</li></ul>Want to get more involved? Learn<!-- --> <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md" title="This will take you to our contribution guidelines on GitHub." target="_blank" rel="noopener noreferrer">how to contribute</a>.</div><p class="last-modified-date">This page was last modified on<!-- --> <time datetime="2023-01-11T20:05:07.000Z">Jan 11, 2023</time> by<!-- --> <a href="Migrating_from_webkitAudioContext/contributors.txt">MDN contributors</a>.</p></div></aside></article></main></div><footer id="nav-footer" class="page-footer"><div><a href="http://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Migrating_from_webkitAudioContext">Migrating from webkitAudioContext</a> by <a href="http://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Migrating_from_webkitAudioContext$history">Mozilla Contributors</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/2.5/">CC-BY-SA 2.5</a>.</div></footer></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Migrating from webkitAudioContext","mdn_url":"/en-US/docs/Web/API/Web_Audio_API/Migrating_from_webkitAudioContext","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Web_Audio_API\">Web Audio API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Guides</summary><ol><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Using_Web_Audio_API\">Using the Web Audio API</a></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Basic_concepts_behind_Web_Audio_API\">Basic concepts behind Web Audio API</a></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Best_practices\">Web Audio API best practices</a></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Advanced_techniques\">Advanced techniques: Creating and sequencing audio</a></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Using_AudioWorklet\">Background audio processing using AudioWorklet</a></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Controlling_multiple_parameters_with_ConstantSourceNode\">Controlling multiple parameters with ConstantSourceNode</a></li><li><em><a href=\"/en-US/docs/Web/API/Web_Audio_API/Migrating_from_webkitAudioContext\" aria-current=\"page\">Migrating from webkitAudioContext</a></em></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Simple_synth\">Example and tutorial: Simple synth keyboard</a></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Tools\">Tools for analyzing Web Audio usage</a></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Using_IIR_filters\">Using IIR filters</a></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Visualizations_with_Web_Audio_API\">Visualizations with Web Audio API</a></li><li><a href=\"/en-US/docs/Web/API/Web_Audio_API/Web_audio_spatialization_basics\">Web audio spatialization basics</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/AnalyserNode\"><code>AnalyserNode</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioBuffer\"><code>AudioBuffer</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioBufferSourceNode\"><code>AudioBufferSourceNode</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioDestinationNode\"><code>AudioDestinationNode</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioListener\"><code>AudioListener</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioNode\"><code>AudioNode</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioParam\"><code>AudioParam</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioProcessingEvent\"><code>AudioProcessingEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioScheduledSourceNode\"><code>AudioScheduledSourceNode</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioSinkInfo\"><code>AudioSinkInfo</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioWorklet\"><code>AudioWorklet</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioWorkletGlobalScope\"><code>AudioWorkletGlobalScope</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioWorkletNode\"><code>AudioWorkletNode</code></a></li><li><a href=\"/en-US/docs/Web/API/AudioWorkletProcessor\"><code>AudioWorkletProcessor</code></a></li><li><a href=\"/en-US/docs/Web/API/BaseAudioContext\"><code>BaseAudioContext</code></a></li><li><a href=\"/en-US/docs/Web/API/BiquadFilterNode\"><code>BiquadFilterNode</code></a></li><li><a href=\"/en-US/docs/Web/API/ChannelMergerNode\"><code>ChannelMergerNode</code></a></li><li><a href=\"/en-US/docs/Web/API/ChannelSplitterNode\"><code>ChannelSplitterNode</code></a></li><li><a href=\"/en-US/docs/Web/API/ConstantSourceNode\"><code>ConstantSourceNode</code></a></li><li><a href=\"/en-US/docs/Web/API/ConvolverNode\"><code>ConvolverNode</code></a></li><li><a href=\"/en-US/docs/Web/API/DelayNode\"><code>DelayNode</code></a></li><li><a href=\"/en-US/docs/Web/API/DynamicsCompressorNode\"><code>DynamicsCompressorNode</code></a></li><li><a href=\"/en-US/docs/Web/API/GainNode\"><code>GainNode</code></a></li><li><a href=\"/en-US/docs/Web/API/IIRFilterNode\"><code>IIRFilterNode</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaElementAudioSourceNode\"><code>MediaElementAudioSourceNode</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamAudioDestinationNode\"><code>MediaStreamAudioDestinationNode</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamAudioSourceNode\"><code>MediaStreamAudioSourceNode</code></a></li><li><a href=\"/en-US/docs/Web/API/OfflineAudioCompletionEvent\"><code>OfflineAudioCompletionEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/OfflineAudioContext\"><code>OfflineAudioContext</code></a></li><li><a href=\"/en-US/docs/Web/API/OscillatorNode\"><code>OscillatorNode</code></a></li><li><a href=\"/en-US/docs/Web/API/PannerNode\"><code>PannerNode</code></a></li><li><a href=\"/en-US/docs/Web/API/PeriodicWave\"><code>PeriodicWave</code></a></li><li><a href=\"/en-US/docs/Web/API/WaveShaperNode\"><code>WaveShaperNode</code></a></li><li><a href=\"/en-US/docs/Web/API/StereoPannerNode\"><code>StereoPannerNode</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>In this article, we cover the differences in Web Audio API since it was first implemented in WebKit and how to update your code to use the modern Web Audio API.</p>\n<p>The Web Audio standard was first implemented in <a href=\"https://webkit.org/\" class=\"external\" target=\"_blank\">WebKit</a>, and the implementation was built in parallel with the work on the <a href=\"https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html\" class=\"external\" target=\"_blank\">specification</a> of the API. As the specification evolved and changes were made to the spec, some of the old implementation pieces were not removed from the WebKit (and Blink) implementations due to backwards compatibility reasons.</p>\n<p>New engines implementing the Web Audio spec (such as Gecko) will only implement the official, final version of the specification, which means that code using <code>webkitAudioContext</code> or old naming conventions in the Web Audio specification may not immediately work out of the box in a compliant Web Audio implementation. This article attempts to summarize the areas where developers are likely to encounter these problems and provide examples on how to port such code to standards based <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a>, which will work across different browser engines.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> There is a library called <a href=\"https://github.com/cwilso/webkitAudioContext-MonkeyPatch\" class=\"external\" target=\"_blank\">webkitAudioContext monkeypatch</a>, which automatically fixes some of these changes to make most code targeting <code>webkitAudioContext</code> to work on the standards based <code>AudioContext</code> out of the box, but it currently doesn't handle all of the cases below. Please consult the <a href=\"https://github.com/cwilso/webkitAudioContext-MonkeyPatch/blob/gh-pages/README.md\" class=\"external\" target=\"_blank\">README file</a> for that library to see a list of APIs that are automatically handled by it.</p>\n</div>"}},{"type":"prose","value":{"id":"changes_to_the_creator_methods","title":"Changes to the creator methods","isH3":false,"content":"<p>Three of the creator methods on <code>webkitAudioContext</code> have been renamed in <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a>.</p>\n<ul>\n  <li><code>createGainNode()</code> has been renamed to <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>createGain</code></a>.</li>\n  <li><code>createDelayNode()</code> has been renamed to <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>createDelay</code></a>.</li>\n  <li><code>createJavaScriptNode()</code> has been renamed to <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>createScriptProcessor</code></a>.</li>\n</ul>\n<p>These are simple renames that were made in order to improve the consistency of these method names on <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a>. If your code uses either of these names, like in the example below:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old method names</span>\n<span class=\"token keyword\">const</span> gain <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createGainNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> delay <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createDelayNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> js <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createJavaScriptNode</span><span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>you can rename the methods to look like this:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// New method names</span>\n<span class=\"token keyword\">const</span> gain <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createGain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> delay <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createDelay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> js <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createScriptProcessor</span><span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>The semantics of these methods remain the same in the renamed versions.</p>"}},{"type":"prose","value":{"id":"changes_to_starting_and_stopping_nodes","title":"Changes to starting and stopping nodes","isH3":false,"content":"<p>In <code>webkitAudioContext</code>, there are two ways to start and stop <a href=\"/en-US/docs/Web/API/AudioBufferSourceNode\"><code>AudioBufferSourceNode</code></a> and <a href=\"/en-US/docs/Web/API/OscillatorNode\"><code>OscillatorNode</code></a>: the <code>noteOn()</code> and <code>noteOff()</code> methods, and the <code>start()</code> and <code>stop()</code> methods. (<a href=\"/en-US/docs/Web/API/AudioBufferSourceNode\"><code>AudioBufferSourceNode</code></a> has yet another way of starting output: the <code>noteGrainOn()</code> method.) The <code>noteOn()</code>/<code>noteGrainOn()</code>/<code>noteOff()</code> methods were the original way to start/stop output in these nodes, and in the newer versions of the specification, the <code>noteOn()</code> and <code>noteGrainOn()</code> methods were consolidated into a single <code>start()</code> method, and the <code>noteOff()</code> method was renamed to the <code>stop()</code> method.</p>\n<p>In order to port your code, you can just rename the method that you're using. For example, if you have code like the below:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> osc <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createOscillator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nosc<span class=\"token punctuation\">.</span><span class=\"token function\">noteOn</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nosc<span class=\"token punctuation\">.</span><span class=\"token function\">noteOff</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">noteGrainOn</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">noteOff</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>you can change it like this in order to port it to the standard AudioContext API:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> osc <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createOscillator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nosc<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nosc<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"remove_synchronous_buffer_creation","title":"Remove synchronous buffer creation","isH3":false,"content":"<p>In the old WebKit implementation of Web Audio, there were two versions of <code>createBuffer()</code>, one which created an initially empty buffer, and one which took an existing <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\"><code>ArrayBuffer</code></a> containing encoded audio, decoded it and returned the result in the form of an <a href=\"/en-US/docs/Web/API/AudioBuffer\"><code>AudioBuffer</code></a>. The latter version of <code>createBuffer()</code> was potentially expensive, because it had to decode the audio buffer synchronously, and with the buffer being arbitrarily large, it could take a lot of time for this method to complete its work, and no other part of your web page's code could execute in the mean time.</p>\n<p>Because of these problems, this version of the <code>createBuffer()</code> method has been removed, and you should use the asynchronous <code>decodeAudioData()</code> method instead.</p>\n<p>The example below shows old code which downloads an audio file over the network, and then decoded it using <code>createBuffer()</code>:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> xhr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/path/to/audio.ogg\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span>responseType <span class=\"token operator\">=</span> <span class=\"token string\">\"arraybuffer\"</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> decodedBuffer <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBuffer</span><span class=\"token punctuation\">(</span>xhr<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>decodedBuffer<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Decoding was successful, do something useful with the audio buffer</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Decoding the audio buffer failed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Converting this code to use <code>decodeAudioData()</code> is relatively simple, as can be seen below:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> xhr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/path/to/audio.ogg\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span>responseType <span class=\"token operator\">=</span> <span class=\"token string\">\"arraybuffer\"</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">decodeAudioData</span><span class=\"token punctuation\">(</span>\n    xhr<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">decodedBuffer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Decoding was successful, do something useful with the audio buffer</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Decoding the audio buffer failed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Note that the <code>decodeAudioData()</code> method is asynchronous, which means that it will return immediately, and then when the decoding finishes, one of the success or failure callback functions will get called depending on whether the audio decoding was successful. This means that you may need to restructure your code to run the part which happened after the <code>createBuffer()</code> call in the success callback, as you can see in the example above.</p>"}},{"type":"prose","value":{"id":"renaming_of_audioparam.settargetvalueattime","title":"Renaming of AudioParam.setTargetValueAtTime","isH3":false,"content":"<p>The <code>setTargetValueAtTime()</code> method on the <a href=\"/en-US/docs/Web/API/AudioParam\"><code>AudioParam</code></a> interface has been renamed to <code>setTargetAtTime()</code>. This is also a simple rename to improve the understandability of the API, and the semantics of the method are the same. If your code is using <code>setTargetValueAtTime()</code>, you can rename it to use <code>setTargetAtTime()</code>. For example, if we have code that looks like this:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>  <span class=\"token keyword\">const</span> gainNode <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createGain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  gainNode<span class=\"token punctuation\">.</span>gain<span class=\"token punctuation\">.</span><span class=\"token function\">setTargetValueAtTime</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>you can rename the method, and be compliant with the standard, like so:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>  <span class=\"token keyword\">const</span> gainNode <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createGain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  gainNode<span class=\"token punctuation\">.</span>gain<span class=\"token punctuation\">.</span><span class=\"token function\">setTargetAtTime</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"enumerated_values_that_changed","title":"Enumerated values that changed","isH3":false,"content":"<p>The original <code>webkitAudioContext</code> API used C-style number based enumerated values in the API. Those values have since been changed to use the Web IDL based enumerated values, which should be familiar because they are similar to things like the <a href=\"/en-US/docs/Web/API/HTMLInputElement\"><code>HTMLInputElement</code></a> property <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>type</code></a>.</p>"}},{"type":"prose","value":{"id":"oscillatornode.type","title":"OscillatorNode.type","isH3":true,"content":"<p><a href=\"/en-US/docs/Web/API/OscillatorNode\"><code>OscillatorNode</code></a>'s type property has been changed to use Web IDL enums. Old code using <code>webkitAudioContext</code> can be ported to standards based <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a> like below:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old webkitAudioContext code:</span>\n<span class=\"token keyword\">const</span> osc <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createOscillator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nosc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> osc<span class=\"token punctuation\">.</span><span class=\"token constant\">SINE</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// sine waveform</span>\nosc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> osc<span class=\"token punctuation\">.</span><span class=\"token constant\">SQUARE</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// square waveform</span>\nosc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> osc<span class=\"token punctuation\">.</span><span class=\"token constant\">SAWTOOTH</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// sawtooth waveform</span>\nosc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> osc<span class=\"token punctuation\">.</span><span class=\"token constant\">TRIANGLE</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// triangle waveform</span>\nosc<span class=\"token punctuation\">.</span><span class=\"token function\">setWaveTable</span><span class=\"token punctuation\">(</span>table<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> isCustom <span class=\"token operator\">=</span> osc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> osc<span class=\"token punctuation\">.</span><span class=\"token constant\">CUSTOM</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// isCustom will be true</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// New standard AudioContext code:</span>\n<span class=\"token keyword\">const</span> osc <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createOscillator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nosc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"sine\"</span><span class=\"token punctuation\">;</span>       <span class=\"token comment\">// sine waveform</span>\nosc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"square\"</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// square waveform</span>\nosc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"sawtooth\"</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// sawtooth waveform</span>\nosc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"triangle\"</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// triangle waveform</span>\nosc<span class=\"token punctuation\">.</span><span class=\"token function\">setPeriodicWave</span><span class=\"token punctuation\">(</span>table<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// Note: setWaveTable has been renamed to setPeriodicWave!</span>\n<span class=\"token keyword\">const</span> isCustom <span class=\"token operator\">=</span> osc<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">\"custom\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// isCustom will be true</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"biquadfilternode.type","title":"BiquadFilterNode.type","isH3":true,"content":"<p><a href=\"/en-US/docs/Web/API/BiquadFilterNode\"><code>BiquadFilterNode</code></a>'s type property has been changed to use Web IDL enums. Old code using <code>webkitAudioContext</code> can be ported to standards based <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a> like below:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old webkitAudioContext code:</span>\n<span class=\"token keyword\">const</span> filter <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBiquadFilter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> filter<span class=\"token punctuation\">.</span><span class=\"token constant\">LOWPASS</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// lowpass filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> filter<span class=\"token punctuation\">.</span><span class=\"token constant\">HIGHPASS</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// highpass filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> filter<span class=\"token punctuation\">.</span><span class=\"token constant\">BANDPASS</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// bandpass filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> filter<span class=\"token punctuation\">.</span><span class=\"token constant\">LOWSHELF</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// lowshelf filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> filter<span class=\"token punctuation\">.</span><span class=\"token constant\">HIGHSHELF</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// highshelf filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> filter<span class=\"token punctuation\">.</span><span class=\"token constant\">PEAKING</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// peaking filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> filter<span class=\"token punctuation\">.</span><span class=\"token constant\">NOTCH</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// notch filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> filter<span class=\"token punctuation\">.</span><span class=\"token constant\">ALLPASS</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// allpass filter</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// New standard AudioContext code:</span>\n<span class=\"token keyword\">const</span> filter <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBiquadFilter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"lowpass\"</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// lowpass filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"highpass\"</span><span class=\"token punctuation\">;</span>       <span class=\"token comment\">// highpass filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"bandpass\"</span><span class=\"token punctuation\">;</span>       <span class=\"token comment\">// bandpass filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"lowshelf\"</span><span class=\"token punctuation\">;</span>       <span class=\"token comment\">// lowshelf filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"highshelf\"</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// highshelf filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"peaking\"</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// peaking filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"notch\"</span><span class=\"token punctuation\">;</span>          <span class=\"token comment\">// notch filter</span>\nfilter<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"allpass\"</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// allpass filter</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"pannernode.panningmodel","title":"PannerNode.panningModel","isH3":true,"content":"<p><a href=\"/en-US/docs/Web/API/PannerNode\"><code>PannerNode</code></a>'s panningModel property has been changed to use Web IDL enums. Old code using <code>webkitAudioContext</code> can be ported to standards based <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a> like below:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old webkitAudioContext code:</span>\n<span class=\"token keyword\">const</span> panner <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createPanner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npanner<span class=\"token punctuation\">.</span>panningModel <span class=\"token operator\">=</span> panner<span class=\"token punctuation\">.</span><span class=\"token constant\">EQUALPOWER</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// equalpower panning</span>\npanner<span class=\"token punctuation\">.</span>panningModel <span class=\"token operator\">=</span> panner<span class=\"token punctuation\">.</span><span class=\"token constant\">HRTF</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// HRTF panning</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// New standard AudioContext code:</span>\n<span class=\"token keyword\">const</span> panner <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createPanner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npanner<span class=\"token punctuation\">.</span>panningModel <span class=\"token operator\">=</span> <span class=\"token string\">\"equalpower\"</span><span class=\"token punctuation\">;</span>       <span class=\"token comment\">// equalpower panning</span>\npanner<span class=\"token punctuation\">.</span>panningModel <span class=\"token operator\">=</span> <span class=\"token string\">\"HRTF\"</span><span class=\"token punctuation\">;</span>             <span class=\"token comment\">// HRTF panning</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"pannernode.distancemodel","title":"PannerNode.distanceModel","isH3":true,"content":"<p><a href=\"/en-US/docs/Web/API/PannerNode\"><code>PannerNode</code></a>'s <code>distanceModel</code> property has been changed to use Web IDL enums. Old code using <code>webkitAudioContext</code> can be ported to standards based <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a> like below:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old webkitAudioContext code:</span>\n<span class=\"token keyword\">const</span> panner <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createPanner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npanner<span class=\"token punctuation\">.</span>distanceModel <span class=\"token operator\">=</span> panner<span class=\"token punctuation\">.</span><span class=\"token constant\">LINEAR_DISTANCE</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// linear distance model</span>\npanner<span class=\"token punctuation\">.</span>distanceModel <span class=\"token operator\">=</span> panner<span class=\"token punctuation\">.</span><span class=\"token constant\">INVERSE_DISTANCE</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// inverse distance model</span>\npanner<span class=\"token punctuation\">.</span>distanceModel <span class=\"token operator\">=</span> panner<span class=\"token punctuation\">.</span><span class=\"token constant\">EXPONENTIAL_DISTANCE</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// exponential distance model</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Mew standard AudioContext code:</span>\n<span class=\"token keyword\">const</span> panner <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createPanner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npanner<span class=\"token punctuation\">.</span>distanceModel <span class=\"token operator\">=</span> <span class=\"token string\">\"linear\"</span><span class=\"token punctuation\">;</span>                    <span class=\"token comment\">// linear distance model</span>\npanner<span class=\"token punctuation\">.</span>distanceModel <span class=\"token operator\">=</span> <span class=\"token string\">\"inverse\"</span><span class=\"token punctuation\">;</span>                   <span class=\"token comment\">// inverse distance model</span>\npanner<span class=\"token punctuation\">.</span>distanceModel <span class=\"token operator\">=</span> <span class=\"token string\">\"exponential\"</span><span class=\"token punctuation\">;</span>               <span class=\"token comment\">// exponential distance model</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"gain_control_moved_to_its_own_node_type","title":"Gain control moved to its own node type","isH3":false,"content":"<p>The Web Audio standard now controls all gain using the <a href=\"/en-US/docs/Web/API/GainNode\"><code>GainNode</code></a>. Instead of setting a <code>gain</code> property directly on an audio source, you connect the source to a gain node and then control the gain using that node's <code>gain</code> parameter.</p>"}},{"type":"prose","value":{"id":"audiobuffersourcenode","title":"AudioBufferSourceNode","isH3":true,"content":"<p>The <code>gain</code> attribute of <a href=\"/en-US/docs/Web/API/AudioBufferSourceNode\"><code>AudioBufferSourceNode</code></a> has been removed. The same functionality can be achieved by connecting the <a href=\"/en-US/docs/Web/API/AudioBufferSourceNode\"><code>AudioBufferSourceNode</code></a> to a gain node. See the following example:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old webkitAudioContext code:</span>\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span>buffer <span class=\"token operator\">=</span> someBuffer<span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span>gain<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">noteOn</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// New standard AudioContext code:</span>\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span>buffer <span class=\"token operator\">=</span> someBuffer<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> gain <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createGain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>gain<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngain<span class=\"token punctuation\">.</span>gain<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\ngain<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"audiobuffer","title":"AudioBuffer","isH3":true,"content":"<p>The <code>gain</code> attribute of <a href=\"/en-US/docs/Web/API/AudioBuffer\"><code>AudioBuffer</code></a> has been removed. The same functionality can be achieved by connecting the <a href=\"/en-US/docs/Web/API/AudioBufferSourceNode\"><code>AudioBufferSourceNode</code></a> that owns the buffer to a gain node. See the following example:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old webkitAudioContext code:</span>\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span>buffer <span class=\"token operator\">=</span> someBuffer<span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span>buffer<span class=\"token punctuation\">.</span>gain <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">noteOn</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// New standard AudioContext code:</span>\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span>buffer <span class=\"token operator\">=</span> someBuffer<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> gain <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createGain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>gain<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngain<span class=\"token punctuation\">.</span>gain<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\ngain<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"removal_of_audiobuffersourcenode.looping","title":"Removal of AudioBufferSourceNode.looping","isH3":false,"content":"<p>The <code>looping</code> attribute of <a href=\"/en-US/docs/Web/API/AudioBufferSourceNode\"><code>AudioBufferSourceNode</code></a> has been removed. This attribute was an alias of the <code>loop</code> attribute, so you can just use the <code>loop</code> attribute instead. Instead of having code like this:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> source <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsource<span class=\"token punctuation\">.</span>looping <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>you can change it to respect the last version of the specification:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> source <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsource<span class=\"token punctuation\">.</span>loop <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Note, the <code>loopStart</code> and <code>loopEnd</code> attributes are not supported in <code>webkitAudioContext</code>.</p>"}},{"type":"prose","value":{"id":"changes_to_determining_playback_state","title":"Changes to determining playback state","isH3":false,"content":"<p>The <code>playbackState</code> attribute of <a href=\"/en-US/docs/Web/API/AudioBufferSourceNode\"><code>AudioBufferSourceNode</code></a> and <a href=\"/en-US/docs/Web/API/OscillatorNode\"><code>OscillatorNode</code></a> has been removed. Depending on why you used this attribute, you can use the following techniques to get the same information:</p>\n<ul>\n  <li>If you need to compare this attribute to <code>UNSCHEDULED_STATE</code>, you can basically remember whether you've called <code>start()</code> on the node or not.</li>\n  <li>If you need to compare this attribute to <code>SCHEDULED_STATE</code>, you can basically remember whether you've called <code>start()</code> on the node or not. You can compare the value of <a href=\"/en-US/docs/Web/API/BaseAudioContext/currentTime\"><code>AudioContext.currentTime</code></a> to the first argument passed to <code>start()</code> to know whether playback has started or not.</li>\n  <li>If you need to compare this attribute to <code>PLAYING_STATE</code>, you can compare the value of <a href=\"/en-US/docs/Web/API/BaseAudioContext/currentTime\"><code>AudioContext.currentTime</code></a> to the first argument passed to <code>start()</code> to know whether playback has started or not.</li>\n  <li>If you need to know when playback of the node is finished (which is the most significant use case of <code>playbackState</code>), there is a new ended event which you can use to know when playback is finished. Please see this code example:</li>\n</ul>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old webkitAudioContext code:</span>\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Some time later...</span>\n<span class=\"token keyword\">const</span> isFinished <span class=\"token operator\">=</span> src<span class=\"token punctuation\">.</span>playbackState <span class=\"token operator\">===</span> src<span class=\"token punctuation\">.</span><span class=\"token constant\">FINISHED_STATE</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// New AudioContext code:</span>\n<span class=\"token keyword\">let</span> isFinished <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onended</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  isFinished <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>The exact same changes have been applied to both <a href=\"/en-US/docs/Web/API/AudioBufferSourceNode\"><code>AudioBufferSourceNode</code></a> and <a href=\"/en-US/docs/Web/API/OscillatorNode\"><code>OscillatorNode</code></a>, so you can apply the same techniques to both kinds of nodes.</p>"}},{"type":"prose","value":{"id":"removal_of_audiocontext.activesourcecount","title":"Removal of AudioContext.activeSourceCount","isH3":false,"content":"<p>The <code>activeSourceCount</code> attribute has been removed from <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a>. If you need to count the number of playing source nodes, you can maintain the count by handling the ended event on the source nodes, as shown above.</p>\n<p>Code using the <code>activeSourceCount</code> attribute of the <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContext</code></a>, like this snippet:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> src0 <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> src1 <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Set buffers and other parameters...</span>\nsrc0<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsrc1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Some time later...</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span>activeSourceCount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>could be rewritten like that:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Array to track the playing source nodes:</span>\n<span class=\"token keyword\">const</span> sources <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// When starting the source, put it at the end of the array,</span>\n<span class=\"token comment\">// and set a handler to make sure it gets removed when the</span>\n<span class=\"token comment\">// AudioBufferSourceNode reaches its end.</span>\n<span class=\"token comment\">// First argument is the AudioBufferSourceNode to start, other arguments are</span>\n<span class=\"token comment\">// the argument to the |start()| method of the AudioBufferSourceNode.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">startSource</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">src<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>startArgs</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  src<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onended</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    sources<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>sources<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  sources<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  src<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> startArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">activeSources</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> sources<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> src0 <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> src1 <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Set buffers and other parameters...</span>\n<span class=\"token function\">startSource</span><span class=\"token punctuation\">(</span>src0<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">startSource</span><span class=\"token punctuation\">(</span>src1<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Some time later, query the number of sources...</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">activeSources</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"renaming_of_wavetable","title":"Renaming of WaveTable","isH3":false,"content":"<p>The <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>WaveTable</code></a> interface has been renamed to <a href=\"/en-US/docs/Web/API/PeriodicWave\"><code>PeriodicWave</code></a>. Here is how you can port old code using <code>WaveTable</code> to the standard AudioContext API:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old webkitAudioContext code:</span>\n<span class=\"token keyword\">const</span> osc <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createOscillator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> table <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createWaveTable</span><span class=\"token punctuation\">(</span>realArray<span class=\"token punctuation\">,</span> imaginaryArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nosc<span class=\"token punctuation\">.</span><span class=\"token function\">setWaveTable</span><span class=\"token punctuation\">(</span>table<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// New standard AudioContext code:</span>\n<span class=\"token keyword\">const</span> osc <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createOscillator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> table <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">createPeriodicWave</span><span class=\"token punctuation\">(</span>realArray<span class=\"token punctuation\">,</span> imaginaryArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nosc<span class=\"token punctuation\">.</span><span class=\"token function\">setPeriodicWave</span><span class=\"token punctuation\">(</span>table<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"removal_of_some_of_the_audioparam_read-only_attributes","title":"Removal of some of the AudioParam read-only attributes","isH3":false,"content":"<p>The following read-only attributes have been removed from AudioParam: <code>name</code>, <code>units</code>, <code>minValue</code>, and <code>maxValue</code>. These used to be informational attributes. Here is some information on how you can get these values if you need them:</p>\n<ul>\n  <li>The <code>name</code> attribute is a string representing the name of the <a href=\"/en-US/docs/Web/API/AudioParam\"><code>AudioParam</code></a> object. For example, the name of <a href=\"/en-US/docs/Web/API/GainNode/gain\"><code>GainNode.gain</code></a> is <code>\"gain\"</code>. You can track where the <a href=\"/en-US/docs/Web/API/AudioParam\"><code>AudioParam</code></a> object is coming from in your code if you need this information.</li>\n  <li>The <code>minValue</code> and <code>maxValue</code> attributes are read-only values representing the nominal range for the <a href=\"/en-US/docs/Web/API/AudioParam\"><code>AudioParam</code></a>. For example, for <a href=\"/en-US/docs/Web/API/GainNode\"><code>GainNode</code></a>, these values are 0 and 1, respectively. Note that these bounds are not enforced by the engine, and are merely used for informational purposes. As an example, it's perfectly valid to set a gain value to 2, or even -1. In order to find out these nominal values, you can consult the <a href=\"https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html\" class=\"external\" target=\"_blank\">specification</a>.</li>\n  <li>The <code>units</code> attribute as implemented in <code>webkitAudioContext</code> implementations is unused, and always returns 0. There is no reason why you should need this attribute.</li>\n</ul>"}},{"type":"prose","value":{"id":"removal_of_mediaelementaudiosourcenode.mediaelement","title":"Removal of MediaElementAudioSourceNode.mediaElement","isH3":false,"content":"<p>The <code>mediaElement</code> attribute of <a href=\"/en-US/docs/Web/API/MediaElementAudioSourceNode\"><code>MediaElementAudioSourceNode</code></a> has been removed. You can keep a reference to the media element used to create this node if you need to access it later.</p>"}},{"type":"prose","value":{"id":"removal_of_mediastreamaudiosourcenode.mediastream","title":"Removal of MediaStreamAudioSourceNode.mediaStream","isH3":false,"content":"<p>The <code>mediaStream</code> attribute of <a href=\"/en-US/docs/Web/API/MediaStreamAudioSourceNode\"><code>MediaStreamAudioSourceNode</code></a> has been removed. You can keep a reference to the media stream used to create this node if you need to access it later.</p>"}}],"toc":[{"text":"Changes to the creator methods","id":"changes_to_the_creator_methods"},{"text":"Changes to starting and stopping nodes","id":"changes_to_starting_and_stopping_nodes"},{"text":"Remove synchronous buffer creation","id":"remove_synchronous_buffer_creation"},{"text":"Renaming of AudioParam.setTargetValueAtTime","id":"renaming_of_audioparam.settargetvalueattime"},{"text":"Enumerated values that changed","id":"enumerated_values_that_changed"},{"text":"Gain control moved to its own node type","id":"gain_control_moved_to_its_own_node_type"},{"text":"Removal of AudioBufferSourceNode.looping","id":"removal_of_audiobuffersourcenode.looping"},{"text":"Changes to determining playback state","id":"changes_to_determining_playback_state"},{"text":"Removal of AudioContext.activeSourceCount","id":"removal_of_audiocontext.activesourcecount"},{"text":"Renaming of WaveTable","id":"renaming_of_wavetable"},{"text":"Removal of some of the AudioParam read-only attributes","id":"removal_of_some_of_the_audioparam_read-only_attributes"},{"text":"Removal of MediaElementAudioSourceNode.mediaElement","id":"removal_of_mediaelementaudiosourcenode.mediaelement"},{"text":"Removal of MediaStreamAudioSourceNode.mediaStream","id":"removal_of_mediastreamaudiosourcenode.mediastream"}],"summary":"In this article, we cover the differences in Web Audio API since it was first implemented in WebKit and how to update your code to use the modern Web Audio API.","popularity":0,"modified":"2023-01-11T20:05:07.000Z","other_translations":[{"title":"webkitAudioContext에서 이주하기","locale":"ko","native":"한국어"}],"source":{"folder":"en-us/web/api/web_audio_api/migrating_from_webkitaudiocontext","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/web_audio_api/migrating_from_webkitaudiocontext/index.md","last_commit_url":"https://github.com/mdn/content/commit/2fc10b6e2ac7888cef38fa356432a093b5d6dddd","filename":"index.md"},"short_title":"Migrating from webkitAudioContext","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Web_Audio_API","title":"Web Audio API"},{"uri":"/en-US/docs/Web/API/Web_Audio_API/Migrating_from_webkitAudioContext","title":"Migrating from webkitAudioContext"}],"pageTitle":"Migrating from webkitAudioContext - Web APIs | MDN","noIndexing":false}}</script>
<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Migrating_from_webkitAudioContext by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Feb 2023 04:49:14 GMT -->
</body></html>